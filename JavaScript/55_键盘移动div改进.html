<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="box1"></div>
	</body>
	<script type="text/javascript">
		
		/* 
		 * 在开始移动一次后卡顿一下，在继续接下来的移动(系统原因)
		 * 通过定时器对此问题进行改进，使其更加流畅
		 */
		var box1 = document.getElementById("box1");
		var speed = 10;					// 速度
		var dir = 0;					// 方向
		
		// 通过修改dir影响移动的方向
		document.onkeydown = function(){
			dir = event.keyCode;
			if(event.shiftKey)
			{
				// 按下shift加速
				speed = 20;
			}
		};
		document.onkeyup = function(){
			speed = 10;
			dir = 0;
		};
		
		// 开启一个定时器，来控制div的移动
		setInterval(function(){
			switch(dir)
			{
				case 37:
					box1.style.left = box1.offsetLeft - speed + "px";
					break;
				case 38:
					box1.style.top = box1.offsetTop - speed + "px";
					break;
				case 39:
					box1.style.left = box1.offsetLeft + speed + "px";
					break;
				case 40:
					box1.style.top = box1.offsetTop + speed + "px";
					break;
				default:
					break;
			}
		},30);
		
		
		
	</script>
	<style type="text/css">
		#box1{
			width: 100px;
			height: 100px;
			background-color: #5F9EA0;
			position: absolute;
		}
	</style>
</html>
