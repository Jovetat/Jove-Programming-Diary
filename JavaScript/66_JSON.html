<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		
	</body>
	<script type="text/javascript">
		
		/* 
		 * JSON（JavaScript Object Notation）js对象表示法
		 *  - - JS中的对象只有JS自己认识，其他的语言都不认识
		 *  - - JSON就是一个特殊格式的字符串，这个字符串可以被任意的语言所识别
		 * 		var obj = '{"name":"脊髓蟋蟀","age":18,"gender":"女"}';
		 *  - - 并以可以转换为任意语言中的对象，JSON在开发中主要用来数据的交互
		 *  - - - JSON和JS对象的格式一样，但是JSON字符串中的属性名必须加双引号(js中创建对象可以不加)
		 */
		
		/* 
		 * JSON对象分类:
		 *  - - 1、对象{}
		 *  - - 2、数组[]
		 */
		
		/*
		 * JSON中允许的值:
		 *  - - 1、字符串
		 *  - - 2、数值
		 *  - - 3、布尔值
		 *  - - 4、空值null
		 *  - - 5、对象（普通对象，不包括函数）
		 *  - - 6、数组
		 */
		
		// 创建一个JSON对象
		var obj01 = '{"name":"脊髓蟋蟀","age":18,"gender":"女"}';
		// 创建一个JSON数组
		var arr = '[1,2,3,"hello",true]';
		
		console.log("JSON字符串:");
		console.log(obj01);
						/* 将JSON字符转换为JS对象 */
		/* JSON  --- >  JS对象
		 * 在JS中，为我们提供了一个工具类JSON
		 *  - - 这个对象可以帮助我们将一个JSON转换为JS对象
		 *  - - 也可以将一个JS对象转换为JSON字符串
		 * JSON这个对象在IE7及以下的浏览器不支持，所以在这些浏览器中调用时会报错(使用字符串转化的为对象的笨办法)
		 * 
		 *  - JSON.parse(JSON字符串);
		 *  - - 可以将JSON字符串转换为JS对象
		 *  - - 需要一个JSON字符串作为参数，会将该字符串转换为JS对象并返回
		 */
		console.log("系统JSON对象:");
		console.log(JSON);
		var obj02 = JSON.parse(obj01);
		console.log("转换后的JS对象:");
		console.log(obj02);
		/* 相当于构造js对象如下
		obj02 = {
			name:"脊髓蟋蟀",
			age:18,
			gender:"女"
		}; */
		console.log("js对象"+obj02.name+obj02.age+obj02.gender);
		
		console.log("转换前的JSON数组:");
		console.log(arr);
		console.log("转换后的JS数组:");
		var arr02 = JSON.parse(arr);
		console.log(arr02);
		console.log("arr[3] = "+arr02[3]);
		
						/* 将JS对象转换为JSON字符 */
		/*  JS对象  --- >  JSON
		 *  - JSON.stringify(JS对象);
		 *  - - 可以将一个JS对象转换为JSON字符串
		 *  - - 需要一个js对象作为参数，回返回一个JSON字符串
		 */
		var obj03 = {
			name : "兜里没有糖",
			age : 30,
			gender : "男"
		};
		console.log("转换前的JS对象:");
		console.log(obj03);
		console.log("转换后的JSON字符串:");
		var obj04 = JSON.stringify(obj03);
		console.log(obj04);
		
		/* eval()
		 * - - 这个函数可以用来执行一段字符串形式的JS代码，并将执行结果返回
		 * - - 如果使用eval()执行的字符串中含有{}，则会将{}当成代码块
		 * - - 如果不希望将其当成代码块解析，则需要在字符串前后各加一个(  )
		 * 
		 * - eval()函数功能很强大，但是在开发中尽量不要使用
		 * - - 执行性能较差
		 * - - 具有安全隐患(用户传递代码)
		 */
		var str1 = "console.log('执行字符串形式的JS代码')";
		eval(str1);
		
		ieJSON(obj01);
		/* 对于IE7-的兼容 */
		// 最好引用写好的JSON文件，相对安全
		function ieJSON(str)
		{
			var obj05 = eval("(" + str + ")");
			console.log(obj05);
		}
		
		// 为了将对象传递给服务器，将对象转换为JSON对象(轻量级速度快)
	</script>
	<style type="text/css">
	</style>
</html>
