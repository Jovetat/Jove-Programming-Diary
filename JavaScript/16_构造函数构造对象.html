<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			//通过类构造对象
			//构造函数习惯上首字母大写
			//构造函数创建方式与普通函数没有区别
			//构造函数和普通函数的区别就是调用方式的不同，构造函数需要用new关键字调用
			function Person(name,age)							//构造函数
			{
				this.name=name;
				this.age=age;
				this.sayname=function(){
					document.write(this.name);					//每执行一次创建一个新的方法
				}
			}
			/*构造函数流程
			 * 1、创建一个新对象
			 * 2、将新建的对象设置为函数中的this（指将要出生的我自己）
			 * (在构造函数中可以用this来引用新建的对象)
			 * 3、执行函数中的代码
			 * 4、将新建的对象作为返回值返回
			 */
			var pen = new Person("王老六",58);
			console.log(pen);
			pen.sayname();
			
			//使用instanceof可以检查某一个对象是否是某一类的实例,返回一个bool值
			console.log(pen instanceof Person);				//true
			console.log(pen instanceof Object);				//true
			//object为所有类的父类
			
			//构造对象方法的复用，因为构造函数每次都构造一个新的方法
			//将sayName方法在全局作用域中定义
			/*定义在全局作用域并不安全（属性和方法的复用最好使用原型的公共区域编写）
			*/
			function funSayName()
			{
				document.write(this.name);
			}
			function Person_2(name,age)							//构造函数
			{
				this.name=name;
				this.age=age;
				this.sayname=funSayName;						//所有对象的方法都是一个，这样实现了方法的复用（节省空间）！
			}
			var pen2= new Person("倒悬的橘子",23);
			document.write("每次构造一个新方法",pen.sayname==pen2.sayname);		//false
			var ren1 = new Person_2("施主",56);
			var ren2 = new Person_2("女施主",23);
			document.write("方法的复用",ren1.sayname==ren2.sayname);				//true
			
			
		</script>
	</body>
</html>
