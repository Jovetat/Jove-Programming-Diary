# -*- coding: utf-8 -*-

"""
Prompt templates for loan customer complaint classification
Contains prompt templates for primary labels (domain) and secondary labels (intent)
"""

# 一级标签（投诉类型）prompt
COMPLAINT_DOMAIN_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。请仔细阅读以下贷款客户与客服的对话内容，判断客户投诉的主要类型。

一、定义的类别，解释
## 分类：催收业务
### 解释说明
与催收相关的投诉，包括催收违规、催收咨询等

## 分类：息费业务
### 解释说明
与息费相关的投诉，包括息费争议、协商还款等

## 分类：征信业务
### 解释说明
与征信相关的投诉，包括征信异议等

## 分类：其他业务
### 解释说明
其他类型的投诉，包括还款异常、资料办理等

严格按照以下规则进行分析和输出：
1. 只能从以下四个选项中选择：催收业务, 息费业务, 征信业务, 其他业务
2. 严格只输出选项名称，不要包含任何其他文字、解释或标点符号
3. 只输出一个最匹配的选项

对话内容：
{text}

请严格按照规则只输出诉求类型："""


# 二级标签"催收业务"的prompt
COMPLAINT_COLLECTION_INTENT_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
催收违规：用户认为我司催收行为违规，包括违规催收本人/三方、高频致电催收本人/三方、催收致电时间不当、已还款仍被催收、\
已办理停催仍被催收、不满联系三方、催收信息泄露、引导第三方代偿、不认识借款人等
催收咨询：用户咨询我司催收相关问题，包括咨询法院催收相关问题、咨询债权转让相关问题、咨询催收公司的名字、咨询催收员的名字等
催收其他：其他与催收相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能从上述三个选项中选择：催收违规, 催收咨询, 催收其他
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "催收违规", "reasoning": "客户提到'你们催收行为违规'"}}

对话内容：
{text}

请严格按照规则输出JSON格式的结果："""


# 二级标签"息费业务"的prompt
COMPLAINT_FEE_INTENT_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
息费争议：用户认为我司息费不合理，包括对利息或者综合利率不满、对担保费不满、对违约金不满、对费用结构不满等
协商还款：用户因为各种原因导致无法正常还款，包括本人失业、本人大病、家人大病、多头逾期、资金紧张等
息费其他：其他与息费相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能从上述三个选项中选择：息费争议, 协商还款, 息费其他
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "息费争议", "reasoning": "客户提到'我要你们退会员费担保费服务费'"}}

对话内容：
{text}

请严格按照规则输出JSON格式的结果："""


# 二级标签"征信业务"的prompt
COMPLAINT_CREDIT_INTENT_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
征信异议：用户对征信有异议，包括违规查询征信、违规上报征信、咨询征信相关规则、不可抗力因素等
征信其他：其他与征信相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能选择：征信异议, 征信其他
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "征信异议", "reasoning": "客户提到'我账单已结清，为什么被上征信'"}}

对话内容：
{text}

请严格按照规则输出JSON格式的结果："""


# 二级标签"其他业务"的prompt
COMPLAINT_OTHER_INTENT_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
还款异常：用户还款异常，包括卡异常、支付异常等
资料办理：用户需要办理资料，包括办理结清证明、办理发票、调取合同、办理还款明细等
其他：其他与资料办理相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能选择：还款异常, 资料办理, 其他
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "还款异常", "reasoning": "客户提到'我的卡锁了，无法还款'"}}

对话内容：
{text}

请严格按照规则输出JSON格式的结果："""


# 三级标签"催收违规"的prompt
COMPLAINT_COLLECTION_VIOLATION_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
违规催收本人：催收本人时，以律师函、上门催收、联系预留三方联系人、曝通讯录、社交媒体曝光为手段进行施压或\
实施了冒充公检法、虚构国家机关、辱骂、态度恶劣、曝通讯录、社媒曝光逾期情况或不当言论的行为；
违规催收三方：联系三方时，对联系人实施催收或施压、恐吓行为
高频致电催收本人：催收本人时，高频致电催收本人
高频致电催收三方：联系三方时，高频致电催收三方
催收致电时间不当：催收致电时间不当
已还款仍被催收：债务人认为催收违规作业，已经还款仍然被催收
已办理停催仍被催收：债务人认为催收违规作业，已经停催期间仍然被催收
不满联系三方：对于没有通知本人直接联系了三方不满意，但是没有违规
催收信息泄露：联系非预留三方或向三方透露欠款信息，比如联系公司或者家里人，紧急联系人等
引导第三方代偿：被催收人或三方联系人反馈催员引导三方联系人代为偿还欠款
不认识借款人：三方联系人反馈不认识被催收人
其他催收违规：其他与催收违规相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能选择：违规催收本人, 违规催收三方, 高频致电催收本人, 高频致电催收三方, 催收致电时间不当, 已还款仍被催收, \
已办理停催仍被催收, 不满联系三方, 催收信息泄露, 引导第三方代偿, 不认识借款人, 其他催收违规
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "违规催收本人", "reasoning": "客户提到'催收人员言语和态度都非常的不好，带有文字性的恐吓和威胁'"}}

对话内容：
{text}

请严格按照规则输出JSON格式的结果："""


# 三级标签"催收咨询"的prompt
COMPLAINT_COLLECTION_CONSULT_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
咨询法院催收相关问题：这类客户普遍的逾期时间较长，通过法院或者律所去调解，用户后面就会打电话来公司咨询等
咨询债权转让相关问题：如果客户逾期不还，没有其他手段，只能作为坏账打包买了其他债转机构了
咨询催收公司的名字：客户咨询催收公司的名字
咨询催收员的名字：客户咨询催收员的名字
其他催收咨询：其他与催收咨询相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能选择：咨询法院催收相关问题, 咨询债权转让相关问题, 咨询催收公司的名字, 咨询催收员的名字, 其他催收咨询
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "咨询法院催收相关问题", "reasoning": "客户提到'调解来电话，刚核实人民法院的确有这个案子，你说啥意思'"}}

对话内容：
{text}

请严格按照规则输出JSON格式的结果："""


# 三级标签"息费争议"的prompt
COMPLAINT_FEE_DISPUTE_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
对利息或者综合利率不满：客户认为我司利息或者综合利率不合理
对担保费不满：客户认为我司担保费不合理
对违约金不满：违约金即罚息，逾期产生的滞纳金就是罚息，或者逾期费
对费用结构不满：比如综合费用，服务费，会员费，分期手续费等
其他息费争议：其他与息费争议相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能选择：对利息或者综合利率不满, 对担保费不满, 对违约金不满, 对费用结构不满, 其他息费争议
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "对利息或者综合利率不满", "reasoning": "客户提到'利息高于24%的部分，给我退掉'"}}

对话内容：
{text}

请严格按照规则输出JSON格式的结果："""


# 三级标签"协商还款"的prompt
COMPLAINT_FEE_NEGOTIATION_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
本人失业：理由为本人失业，一定时期内失去工作能力或需支付大额医疗费
本人大病：理由为本人大病，一定时期内失去工作能力或需支付大额医疗费
家人大病：理由为家人大病，一定时期内失去工作能力或需支付大额医疗费
多头逾期：理由为多家贷款平台负债，且至少2家以上已经逾期, 以贷养贷用户
资金紧张：理由为资金紧张，如公司欠薪、货款被拖欠等
其他协商还款：其他与协商还款相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能选择：本人失业, 本人大病, 家人大病, 多头逾期, 资金紧张, 其他协商还款
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "本人失业", "reasoning": "客户提到'我现在便荔卡包购物额度逾期，没有工作，没有收入，可不可以给我办理停催然后延期还款'"}}

对话内容：
{text}

请严格按照规则输出JSON格式的结果："""


# 三级标签"征信异议"的prompt
COMPLAINT_CREDIT_DISPUTE_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
违规查询征信：客户认为我司违规查询征信
违规上报征信：客户认为我司违规上报征信
咨询征信相关规则：客户咨询征信相关规则
不可抗力因素：比如用户反馈受疫情影响、坐牢、生病住院导致逾期未还款要求处理征信
其他征信异议：其他与征信异议相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能选择：违规查询征信, 违规上报征信, 咨询征信相关规则, 不可抗力因素, 其他征信异议
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "违规上报征信", "reasoning": "客户提到'我账单已结清，为什么被上征信'"}}

对话内容：
{text}
请严格按照规则输出JSON格式的结果："""


# 三级标签"还款异常"的prompt
COMPLAINT_FEE_PAYMENT_EXCEPTION_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
卡异常：因银行卡异常导致无法正常还款，可能引发催收、征信、息费方面相关问题
支付异常：因支付通道异常导致无法正常还款，可能引发催收、征信、息费方面相关问题
其他还款异常：其他与还款异常相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能选择：卡异常, 支付异常, 其他还款异常
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "卡异常", "reasoning": "客户提到'我的卡锁了，无法还款'"}}

对话内容：
{text}
请严格按照规则输出JSON格式的结果："""


# 三级标签"资料办理"的prompt
COMPLAINT_DOCUMENT_PROCESSING_PROMPT_TEMPLATE = """您是一位专业的金融客服对话分析专家。
请仔细阅读以下贷款客户与客服的对话内容，判断客户具体因为什么原因而投诉。

可选的投诉原因及描述如下：
办理结清证明：用户需要办理结清证明
办理发票：用户需要办理发票
调取合同：用户需要调取合同
办理还款明细：用户需要办理还款明细
其他资料办理：其他与资料办理相关的投诉

严格按照以下规则进行分析和输出：
1. 以严格的JSON格式输出结果，包含两个字段：label（标签值）和reasoning（判断依据）
2. label字段只能选择：办理结清证明, 办理发票, 调取合同, 办理还款明细, 其他资料办理
3. reasoning字段需要简要说明判断依据，直接引用对话中的关键语句
4. 输出示例：{{"label": "办理结清证明", "reasoning": "客户提到'我需要办理结清证明'"}}

对话内容：
{text}
请严格按照规则输出JSON格式的结果："""
