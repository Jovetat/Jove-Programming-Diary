<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Vue 数据更新时出现的问题</title>
        <!-- 引入 Vue  -->
        <script type="text/javascript" src="./vuejs/vue.js"></script>
    </head>
    <body>
        
        <div id="root">
            <!-- 1、提出问题：通过对象赋值的方法更改数组内信息时，页面不发生变化 -->
            <button @click="updateMei">更新马冬梅的信息</button>
            <ul><li v-for="(item, index) in persons" :key="item.id"> {{item.name}} -- {{item.age}} -- {{item.sex}} </li></ul>

        </div>

        <script type="text/javascript">
            Vue.config.productionTip = false        // 阻止 Vue 在启动时生成生产提示，先调整整体配置再使用 vue

            new Vue({
                el: '#root',
                data: {
                    persons: [
                        { id:'001',name:'马冬梅',age:18,sex:'女' },
                        { id:'002',name:'周冬雨',age:57,sex:'女' },
                        { id:'003',name:'周杰伦',age:45,sex:'男' },
                        { id:'004',name:'盖伦',age:6854,sex:'男' },
                    ],
                },
                methods: {
                    updateMei(){
                        /*  1、问题的产生  */
                        // (1) 这样的修改 Vue 是奏效的
                        /* this.persons[0].name = '马保国'
                        this.persons[0].age = 65
                        this.persons[0].sex = '男' */
                        /* (2) 这样的修改 Vue 不会检测到信息的改变
                        (vm.persons数据已经改变了,但是页面与Vue开发者工具内数据不变) */
                        this.persons[0] = { id:'001',name:'马保国',age:65,sex:'男' }

                    },
                },
            })

        </script>
    
    </body>
</html>