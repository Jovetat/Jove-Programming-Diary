# Vue

## Vue2 vs Vue3
- Vue2ä½¿ç”¨Object.definePropertyé€’å½’ä»£ç†ï¼ŒVue3ä½¿ç”¨Proxy
- Options API â†’ Composition API
- æ›´å¥½çš„TypeScriptæ”¯æŒ
- ESMæŒ‰éœ€å¼•å…¥ & Tree Shaking
- diffç®—æ³•ä»é€’å½’æ”¹ä¸ºé˜Ÿåˆ—+é™æ€æ ‡è®°

## ref ä¸ reactive åŒºåˆ«åŠå®ç°åŸç†

| ç‰¹æ€§     | ref                                                          | reactive                                                     |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| æ ¸å¿ƒå®šä½ | ç”¨äºåŒ…è£…**åŸºæœ¬æ•°æ®ç±»å‹**ï¼ˆNumber/String/Boolean ç­‰ï¼‰ï¼Œä¹Ÿå¯åŒ…è£…å¯¹è±¡ / æ•°ç»„ | ç”¨äºåŒ…è£…**å¼•ç”¨æ•°æ®ç±»å‹**ï¼ˆObject/Arrayï¼‰ï¼Œæ— æ³•ç›´æ¥åŒ…è£…åŸºæœ¬ç±»å‹ |
| è®¿é—®æ–¹å¼ | éœ€é€šè¿‡ `.value` è®¿é—® / ä¿®æ”¹å€¼ï¼ˆæ¨¡æ¿ä¸­å¯çœç•¥ï¼‰                | ç›´æ¥è®¿é—® / ä¿®æ”¹å±æ€§ï¼Œæ— éœ€ `.value`                           |
| é€‚ç”¨åœºæ™¯ | å•ä¸ªåŸºæœ¬ç±»å‹æ•°æ®ï¼ˆå¦‚ countã€flagï¼‰ã€éœ€ç‹¬ç«‹å“åº”å¼çš„å¯¹è±¡       | å¤æ‚å¯¹è±¡ / æ•°ç»„ï¼ˆå¦‚ç”¨æˆ·ä¿¡æ¯ã€åˆ—è¡¨æ•°æ®ï¼‰ï¼Œéœ€æ·±å±‚å“åº”å¼çš„åœºæ™¯  |

#### ğŸ” ref å®ç°åŸç†

1. **åŒ…è£…å±‚è®¾è®¡**ï¼šåˆ›å»ºä¸€ä¸ª `RefImpl` ç±»å®ä¾‹ï¼Œå°†åŸºæœ¬ç±»å‹å€¼å­˜å…¥å®ä¾‹çš„ `_value` å±æ€§ï¼›
2. **å“åº”å¼åŠ«æŒ**ï¼šé€šè¿‡`Object.defineProperty`åŠ«æŒå®ä¾‹çš„`value`å±æ€§ï¼ˆget/setï¼‰ï¼š
   - `get`ï¼šè§¦å‘ä¾èµ–æ”¶é›†ï¼ˆtrackï¼‰ï¼Œè¿”å› `_value`ï¼›
   - `set`ï¼šæ›´æ–° `_value`ï¼Œè§¦å‘ä¾èµ–æ›´æ–°ï¼ˆtriggerï¼‰ï¼›
3. **ç‰¹æ®Šå¤„ç†**ï¼šè‹¥ ref åŒ…è£…çš„æ˜¯å¯¹è±¡ / æ•°ç»„ï¼Œå†…éƒ¨ä¼šè°ƒç”¨ `reactive` å¯¹å…¶è¿›è¡Œæ·±å±‚å“åº”å¼è½¬æ¢ï¼›
4. **æ¨¡æ¿è¯­æ³•ç³–**ï¼šæ¨¡æ¿ä¸­è®¿é—® ref æ—¶ï¼ŒVue è‡ªåŠ¨è§£æ„ `.value`ï¼Œæ— éœ€æ‰‹åŠ¨ä¹¦å†™ã€‚

#### ğŸ” reactive å®ç°åŸç†

1. **Proxy ä»£ç†**ï¼šåŸºäº ES6 `Proxy` å¯¹ç›®æ ‡å¯¹è±¡è¿›è¡Œä»£ç†ï¼ˆè€Œé Object.definePropertyï¼‰ï¼Œæ”¯æŒç›‘å¬å¯¹è±¡å±æ€§çš„å¢åˆ ã€æ•°ç»„çš„ç´¢å¼• / é•¿åº¦å˜åŒ–
2. **æ·±å±‚å“åº”å¼**ï¼šé€’å½’éå†ç›®æ ‡å¯¹è±¡çš„æ‰€æœ‰åµŒå¥—å±æ€§ï¼Œå¯¹æ¯ä¸ªå±‚çº§çš„å¯¹è±¡éƒ½åˆ›å»º Proxy ä»£ç†
3. ä¾èµ–è¿½è¸ªï¼š
   - `get` æ‹¦æˆªï¼šè§¦å‘ä¾èµ–æ”¶é›†ï¼ˆtrackï¼‰ï¼Œè‹¥è®¿é—®çš„å±æ€§æ˜¯å¯¹è±¡ï¼Œé€’å½’è½¬ä¸º reactive
   - `set`/`deleteProperty` æ‹¦æˆªï¼šè§¦å‘ä¾èµ–æ›´æ–°ï¼ˆtriggerï¼‰
4. **å±€é™æ€§**ï¼šæ— æ³•ä»£ç†åŸºæœ¬ç±»å‹ï¼ˆProxy ä»…æ”¯æŒå¯¹è±¡ï¼‰ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥ç”¨äºåŸºæœ¬ç±»å‹å€¼

## scopedåŸç†
- ä¸ºæ¯ä¸ªDOMå…ƒç´ æ·»åŠ [data-v-xxx]å±æ€§ï¼ˆç›¸åŒç»„ä»¶ä¸åŒDOMè¿™ä¸ªå±æ€§å€¼ç›¸åŒï¼‰
- CSSé€‰æ‹©å™¨æ·»åŠ å±æ€§é€‰æ‹©å™¨åç¼€å®ç°æ ·å¼éš”ç¦»

## diffç®—æ³•
- åªæ¯”è¾ƒåŒçº§ï¼Œä¸è·¨çº§æ¯”è¾ƒï¼ˆæ—¶é—´å¤æ‚åº¦æ˜¯nï¼Œä¸¥æ ¼å¯¹æ¯”æ—¶é—´å¤æ‚åº¦æ˜¯n3ï¼‰
- tagä¸åŒç›´æ¥åˆ é™¤é‡å»º
- å­èŠ‚ç‚¹é€šè¿‡keyåŒºåˆ†
- Vue2ï¼šåŒç«¯æ¯”è¾ƒ
- Vue3ï¼šæœ€é•¿é€’å¢å­åºåˆ—

## å¾ªç¯ä¸­å¿…é¡»ä½¿ç”¨keyçš„åŸå› 
- diffç®—æ³•æ ¹æ®keyåˆ¤æ–­å…ƒç´ æ˜¯å¦éœ€è¦åˆ é™¤
- åŒ¹é…åˆ°keyåªç§»åŠ¨å…ƒç´ ï¼Œæ€§èƒ½è¾ƒå¥½
- æœªåŒ¹é…keyåˆ™åˆ é™¤é‡å»ºï¼Œæ€§èƒ½è¾ƒå·®

## åŒå‘ç»‘å®šåŸç†

- æ•°æ®åŠ«æŒï¼ˆObject.definePropertyæˆ–Proxyï¼‰
- å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼ˆå®ç°å­æ›´æ–°çˆ¶æ•°æ®ï¼‰

## ç»„ä»¶é€šä¿¡

1. çˆ¶å­ç»„ä»¶é€šä¿¡

| æ–¹å¼                    | æ ¸å¿ƒé€»è¾‘                                                     | é€‚ç”¨åœºæ™¯                                |
| ----------------------- | ------------------------------------------------------------ | --------------------------------------- |
| props/$emit             | çˆ¶ä¼ å­ï¼šçˆ¶ç»„ä»¶é€šè¿‡ props å‘å­ç»„ä»¶ä¼ å€¼ï¼›å­ä¼ çˆ¶ï¼šå­ç»„ä»¶ $emit è§¦å‘äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶ç›‘å¬æ¥æ”¶ | çˆ¶å­å•å‘æ•°æ®ä¼ é€’ï¼ˆæœ€å¸¸ç”¨ï¼‰              |
| ref/\(parent/\)children | çˆ¶ç”¨ ref è·å–å­ç»„ä»¶å®ä¾‹ï¼Œç›´æ¥è®¿é—®å­ç»„ä»¶æ–¹æ³• / æ•°æ®ï¼›å­ç”¨ $parent è®¿é—®çˆ¶ç»„ä»¶å®ä¾‹ | çˆ¶å­ç»„ä»¶ç›´æ¥è°ƒç”¨æ–¹æ³• / å–æ•°ï¼ˆå°‘é‡åœºæ™¯ï¼‰ |
| v-model                 | è¯­æ³•ç³–ï¼Œæœ¬è´¨æ˜¯ propsï¼ˆvalueï¼‰+ $emitï¼ˆinputï¼‰ï¼Œå®ç°çˆ¶å­åŒå‘ç»‘å®š | è¡¨å•ç±»ç»„ä»¶åŒå‘æ•°æ®åŒæ­¥                  |
| .sync ä¿®é¥°ç¬¦            | è¯­æ³•ç³–ï¼Œç®€åŒ–å­å‘çˆ¶ä¼ å€¼ï¼ˆupdate:xxx äº‹ä»¶ï¼‰ï¼Œå®ç° props åŒå‘æ›´æ–° | éè¡¨å•ç±» props åŒå‘åŒæ­¥ï¼ˆVue2ï¼‰         |

2. è·¨çº§ / å…„å¼Ÿç»„ä»¶é€šä¿¡

| æ–¹å¼              | æ ¸å¿ƒé€»è¾‘                                          | é€‚ç”¨åœºæ™¯                                              |
| ----------------- | ------------------------------------------------- | ----------------------------------------------------- |
| provide/inject    | çˆ¶ç»„ä»¶ provide æä¾›æ•°æ®ï¼Œå­å­™ç»„ä»¶ inject æ³¨å…¥ä½¿ç”¨ | éš”ä»£ç»„ä»¶é€šä¿¡ï¼ˆæ— éœ€é€å±‚é€ä¼  propsï¼‰                    |
| EventBus äº‹ä»¶æ€»çº¿ | åˆ›å»ºå…¨å±€ Vue å®ä¾‹ï¼Œé€šè¿‡\(onè®¢é˜…/\)emit å‘å¸ƒäº‹ä»¶   | ä¸­å°å‹é¡¹ç›®çš„å…„å¼Ÿ / è·¨çº§é€šä¿¡ï¼ˆVue2ï¼‰                   |
| Vuex/Pinia        | å…¨å±€çŠ¶æ€ç®¡ç†åº“ï¼Œç»Ÿä¸€ç»´æŠ¤å…±äº«æ•°æ®ï¼Œç»„ä»¶æŒ‰éœ€å­˜å–    | å¤§å‹é¡¹ç›®å¤šç»„ä»¶å…±äº«æ•°æ®ï¼ˆVue2 ç”¨ Vuexï¼ŒVue3 ç”¨ Piniaï¼‰ |

3. å…¶ä»–æ–¹å¼

| æ–¹å¼                | æ ¸å¿ƒé€»è¾‘                                                     | é€‚ç”¨åœºæ™¯                                     |
| ------------------- | ------------------------------------------------------------ | -------------------------------------------- |
| \(attrs/\)listeners | \(attrsæ¥æ”¶çˆ¶ç»„ä»¶é€ä¼ çš„épropså±æ€§ï¼›\)listeners æ¥æ”¶çˆ¶ç»„ä»¶é€ä¼ çš„äº‹ä»¶ | éš”ä»£ç»„ä»¶é€ä¼ å±æ€§ / äº‹ä»¶ï¼ˆVue2ï¼‰              |
| æ’æ§½ï¼ˆSlotï¼‰        | çˆ¶ç»„ä»¶é€šè¿‡æ’æ§½å‘å­ç»„ä»¶ä¼ é€’ç»“æ„ / ç»„ä»¶ï¼Œå­ç»„ä»¶æ¸²æŸ“            | çˆ¶å­ç»„ä»¶ä¼ é€’ DOM ç»“æ„ / ç»„ä»¶ï¼ˆå¸¦æ•°æ®ï¼‰       |
| å…¨å±€å˜é‡ / æœ¬åœ°å­˜å‚¨ | æŒ‚è½½åˆ° window / ä½¿ç”¨ localStorage/sessionStorage å­˜æ•°æ®      | ç®€å•åœºæ™¯çš„è·¨ç»„ä»¶æ•°æ®å…±äº«ï¼ˆæ…ç”¨ï¼Œæ˜“ç»´æŠ¤æ€§å·®ï¼‰ |

## watch vs watchEffect

**å®šä¹‰**

- **watch**ï¼šæ˜¾å¼ç›‘å¬æŒ‡å®šæ•°æ®æºï¼Œä»…åœ¨æ•°æ®æºå˜åŒ–æ—¶æ‰§è¡Œï¼Œä¾§é‡ â€œé’ˆå¯¹æ€§ç›‘å¬ + è·å–æ–°æ—§å€¼â€ï¼›
- **watchEffect**ï¼šéšå¼ç›‘å¬å›è°ƒå†…ç”¨åˆ°çš„æ‰€æœ‰å“åº”å¼æ•°æ®ï¼Œç«‹å³æ‰§è¡Œä¸”æ•°æ®å˜åŒ–æ—¶é‡æ–°æ‰§è¡Œï¼Œä¾§é‡ â€œè‡ªåŠ¨æ”¶é›†ä¾èµ– + å‰¯ä½œç”¨æ‰§è¡Œâ€ã€‚

**å·®å¼‚**

| ç»´åº¦     | watch                                | watchEffect                                       |
| -------- | ------------------------------------ | ------------------------------------------------- |
| ç›‘å¬ç›®æ ‡ | æ‰‹åŠ¨æŒ‡å®šï¼ˆå¦‚ ref / å¯¹è±¡å±æ€§ / æ•°ç»„ï¼‰ | è‡ªåŠ¨æ”¶é›†å›è°ƒå†…çš„å“åº”å¼ä¾èµ–                        |
| æ‰§è¡Œæ—¶æœº | åˆå§‹ä¸æ‰§è¡Œï¼ˆéœ€é…ç½® immediateï¼‰       | ç«‹å³æ‰§è¡Œï¼ˆé¦–æ¬¡åŠ è½½å°±è§¦å‘ï¼‰                        |
| å–å€¼æ–¹å¼ | èƒ½è·å–æ–°æ—§å€¼ï¼ˆ(newVal, oldVal)ï¼‰     | æ— æ–°æ—§å€¼ï¼Œç›´æ¥å–å½“å‰å€¼                            |
| ä½¿ç”¨åœºæ™¯ | éœ€ç²¾å‡†ç›‘å¬æŸ / æŸäº›æ•°æ®ï¼Œå…³æ³¨å€¼å˜åŒ–  | éœ€ç›‘å¬å¤šä¸ªä¾èµ–ï¼Œä»…æ‰§è¡Œå‰¯ä½œç”¨ï¼ˆå¦‚è¯·æ±‚ / æ“ä½œ DOMï¼‰ |

**åœºæ™¯**

- **watch**ï¼šç›‘å¬å•ä¸ªæ•°æ®å˜åŒ–åšç²¾å‡†å¤„ç†ï¼ˆå¦‚ç›‘å¬è¾“å…¥æ¡†å€¼å˜åŒ–è§¦å‘æœç´¢ã€ç›‘å¬è·¯ç”±å‚æ•°å˜åŒ–ï¼‰ï¼›
- **watchEffect**ï¼šå¤šä¸ªä¾èµ–è”åŠ¨çš„å‰¯ä½œç”¨ï¼ˆå¦‚æ ¹æ®å¤šä¸ªè¡¨å•å­—æ®µè”åŠ¨è¯·æ±‚æ¥å£ã€ç›‘å¬æ•°æ®å˜åŒ–æ›´æ–° DOMï¼‰ã€‚

# React

## å¸¸ç”¨Hook

- useStateã€useEffectã€useRefã€useContext

## Hook

è®©å‡½æ•°ç»„ä»¶èƒ½ç”¨ä¸ŠçŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸ

## Hook å¦åœ¨å¾ªç¯ä¸­ä½¿ç”¨
- ä¸èƒ½åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨
- Hookéœ€è¦æ¯æ¬¡æ¸²æŸ“éƒ½ä»¥ç›¸åŒçš„é¡ºåºæ‰§è¡Œï¼Œè¿™æ ·æ‰èƒ½è¯†åˆ«æ¯ä¸ªHookå¯¹åº”çš„çŠ¶æ€
- Hookè°ƒç”¨é¡ºåºä¸ä¸€è‡´ï¼ŒReactæ²¡æ³•æ­£ç¡®è¿½è¸ªçŠ¶æ€
- å®˜æ–¹æ˜ç¡®è§„å®šHookåªèƒ½åœ¨ç»„ä»¶çš„é¡¶å±‚ä½œç”¨åŸŸæˆ–è€…è‡ªå®šä¹‰Hookä¸­è°ƒç”¨

## Fiberæ¶æ„
- è§£å†³é€’å½’æ¸²æŸ“DOMæ ‘çš„æ€§èƒ½é—®é¢˜
- å°†DOMæ ‘æ”¹ä¸ºé“¾è¡¨æ ‘
- å°†æ¸²æŸ“ä»»åŠ¡æ‹†åˆ†æˆå°å•å…ƒï¼Œå¯ä¸­æ–­
- ä¼˜å…ˆæ‰§è¡Œäº¤äº’ä»»åŠ¡

## æ¸²æŸ“åŸç†
- è™šæ‹ŸDOM â• è°ƒå’Œï¼ˆå¤„ç†è™šæ‹ŸDOMï¼‰
- JSX â†’ è™šæ‹ŸDOM â†’ çœŸå®DOM
- çŠ¶æ€å˜åŒ–æ—¶ç”Ÿæˆæ–°è™šæ‹ŸDOMï¼Œå¯¹æ¯”å·®å¼‚ååŒæ­¥åˆ°çœŸå®DOM

## useMemo ä¸ useCallback 

1. æ ¸å¿ƒä½œç”¨ï¼šè§£å†³ â€œä¸å¿…è¦çš„é‡è®¡ç®— / é‡åˆ›å»ºâ€ é—®é¢˜

ä¸¤è€…å‡ç”¨äº React æ€§èƒ½ä¼˜åŒ–ï¼Œé’ˆå¯¹å‡½æ•°ç»„ä»¶é‡æ¸²æŸ“æ—¶çš„**æ€§èƒ½æµªè´¹**ï¼š

- å½“ç»„ä»¶å›  props/state å˜åŒ–é‡æ¸²æŸ“æ—¶ï¼Œå†…éƒ¨å®šä¹‰çš„å‡½æ•°ã€è®¡ç®—ç»“æœä¼šè¢«é‡æ–°åˆ›å»º / è®¡ç®—ï¼Œå³ä½¿ç»“æœä¸å˜ï¼Œä¹Ÿå¯èƒ½è§¦å‘å­ç»„ä»¶ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼ˆå°¤å…¶å­ç»„ä»¶ä½¿ç”¨`React.memo`æµ…æ¯”è¾ƒæ—¶ï¼‰
- ä¸¤è€…é€šè¿‡`ç¼“å­˜ç»“æœ`ï¼Œé¿å…è¿™ç§æ— æ„ä¹‰çš„é‡å¤æ“ä½œ

2. æ ¸å¿ƒåŒºåˆ«ï¼šç¼“å­˜çš„å¯¹è±¡ä¸åŒ

- **useMemo**ï¼šç¼“å­˜**è®¡ç®—ç»“æœï¼ˆå€¼ï¼‰**

  è¯­æ³•ï¼š`useMemo(() => è®¡ç®—é€»è¾‘, [ä¾èµ–æ•°ç»„])`

  ç¤ºä¾‹ï¼šç¼“å­˜å¤æ‚è¿ç®—çš„ç»“æœï¼ˆå¦‚åˆ—è¡¨æ’åºã€æ•°æ®è¿‡æ»¤ï¼‰ï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“é‡æ–°è®¡ç®—

- **useCallback**ï¼šç¼“å­˜**å‡½æ•°æœ¬èº«**

  è¯­æ³•ï¼š`useCallback(å‡½æ•°ä½“, [ä¾èµ–æ•°ç»„])`

  ç¤ºä¾‹ï¼šç¼“å­˜ä¼ ç»™å­ç»„ä»¶çš„å›è°ƒå‡½æ•°ï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“åˆ›å»ºæ–°å‡½æ•°å®ä¾‹ï¼Œå¯¼è‡´å­ç»„ä»¶è¯¯è§¦å‘é‡æ¸²æŸ“

3. æ ¸å¿ƒåŸç†ï¼šä¾èµ–æ•°ç»„é©±åŠ¨çš„ç¼“å­˜æœºåˆ¶

- ä¸¤è€…å‡é€šè¿‡**ä¾èµ–æ•°ç»„**åˆ¤æ–­æ˜¯å¦æ›´æ–°ç¼“å­˜ï¼š

  - é¦–æ¬¡æ¸²æŸ“æ—¶ï¼Œæ‰§è¡Œé€»è¾‘å¹¶ç¼“å­˜ç»“æœï¼ˆå€¼ / å‡½æ•°ï¼‰ã€‚
  - åç»­é‡æ¸²æŸ“æ—¶ï¼Œè‹¥ä¾èµ–æ•°ç»„ä¸­çš„å…ƒç´ ä¸ä¸Šä¸€æ¬¡å®Œå…¨ä¸€è‡´ï¼ˆæµ…æ¯”è¾ƒï¼‰ï¼Œç›´æ¥è¿”å›ç¼“å­˜ç»“æœï¼›è‹¥æœ‰å˜åŒ–ï¼Œåˆ™é‡æ–°æ‰§è¡Œé€»è¾‘å¹¶æ›´æ–°ç¼“å­˜ã€‚
  
- æœ¬è´¨æ˜¯ **â€œè®°å¿†åŒ–ï¼ˆMemoizationï¼‰â€** æŠ€æœ¯ï¼šé€šè¿‡å­˜å‚¨è®¡ç®—ç»“æœ / å‡½æ•°å¼•ç”¨ï¼Œé¿å…ç›¸åŒè¾“å…¥ä¸‹çš„é‡å¤æ‰§è¡Œï¼Œå‡å°‘æ€§èƒ½å¼€é”€ã€‚

### **4. ä½¿ç”¨åœºæ™¯å¯¹æ¯”**

| å‡½æ•°        | é€‚ç”¨åœºæ™¯                                                     | å…¸å‹æ¡ˆä¾‹                                   |
| ----------- | ------------------------------------------------------------ | ------------------------------------------ |
| useMemo     | 1. å¤æ‚è®¡ç®—ï¼ˆè€—æ—¶æ“ä½œï¼Œå¦‚å¤§æ•°æ®å¤„ç†ï¼‰2. é˜²æ­¢å› å€¼å˜åŒ–å¯¼è‡´çš„å­ç»„ä»¶é‡æ¸²æŸ“ | ç¼“å­˜æ’åºåçš„åˆ—è¡¨ã€æ ¼å¼åŒ–åçš„å¤§é‡æ•°æ®       |
| useCallback | 1. ä¼ é€’ç»™å­ç»„ä»¶çš„å›è°ƒå‡½æ•°ï¼ˆå°¤å…¶å­ç»„ä»¶ç”¨`React.memo`åŒ…è£¹æ—¶ï¼‰2. ä½œä¸ºå…¶ä»– Hook çš„ä¾èµ–ï¼ˆå¦‚`useEffect`ï¼‰ | ç¼“å­˜`onClick`å›è°ƒã€`useEffect`ä¾èµ–ä¸­çš„å‡½æ•° |

### **æ€»ç»“**

- å…±æ€§ï¼šå‡ä¸ºæ€§èƒ½ä¼˜åŒ–å·¥å…·ï¼Œé€šè¿‡ç¼“å­˜å‡å°‘é‡å¤è®¡ç®— / åˆ›å»ºï¼Œä¾èµ–æ•°ç»„æ§åˆ¶ç¼“å­˜æ›´æ–°
- å·®å¼‚ï¼šuseMemo ç¼“å­˜ â€œå€¼â€ï¼Œè§£å†³è®¡ç®—å¼€é”€ï¼›useCallback ç¼“å­˜ â€œå‡½æ•°â€ï¼Œè§£å†³å¼•ç”¨å˜åŒ–å¯¼è‡´çš„é‡æ¸²æŸ“
- æ³¨æ„ï¼šæ— éœ€è¿‡åº¦ä½¿ç”¨ï¼Œä»…åœ¨ç¡®æœ‰æ€§èƒ½é—®é¢˜æ—¶å¼•å…¥ï¼ˆç¼“å­˜æœ¬èº«ä¹Ÿæœ‰å¾®å°å¼€é”€ï¼‰

# å‰ç«¯æ¡†æ¶

## Vue vs React

**ç›¸åŒç‚¹**

- éƒ½æ˜¯å‰ç«¯æ¡†æ¶ï¼Œç”¨äºå¿«é€Ÿæ­å»ºé¡µé¢
- éƒ½ä½¿ç”¨è™šæ‹ŸDOM
- éƒ½æ”¯æŒç»„ä»¶åŒ–å¼€å‘

**å·®å¼‚ç‚¹**

- **æ•°æ®å“åº”å¼**ï¼šVueé€šè¿‡ä»£ç†ç›‘å¬å“åº”å¼æ•°æ®å˜åŒ–ï¼ŒReactéœ€è¦setStateè§¦å‘é‡æ–°æ¸²æŸ“
- **Diffç®—æ³•**ï¼šVueè·Ÿè¸ªæ¯ä¸ªç»„ä»¶ä¾èµ–ç²¾å‡†æ›´æ–°ï¼›Reactä»æ ¹èŠ‚ç‚¹é€’å½’æ¯”è¾ƒ

  > Reactï¼šä»…å³ç§»
  > Vue2ï¼šåŒç«¯æ¯”è¾ƒ
  > Vue3ï¼šæœ€é•¿é€’å¢å­åºåˆ—ï¼Œå‡å°‘ä¸­é—´çš„å¯¹æ¯”æ¬¡æ•°
- **è¯­æ³•**ï¼šVueä½¿ç”¨æ¨¡æ¿è¯­æ³•ï¼ŒReactä½¿ç”¨JSX
- **æ•°æ®æµ**ï¼šVueæ˜¯åŒå‘æ•°æ®æµï¼ŒReactæ˜¯å•å‘æ•°æ®æµ
- **é€‚ç”¨åœºæ™¯**ï¼šVueé€‚åˆå¿«æ·å¼€å‘ï¼ŒReactæ›´çµæ´»é€‚åˆå¤æ‚é¡¹ç›®

## Next.js

- å…¨æ ˆæ¡†æ¶ï¼šåŸºäº React çš„å®Œæ•´å…¨æ ˆå¼€å‘æ¡†æ¶
- æœåŠ¡ç«¯æ¸²æŸ“ï¼šæ”¯æŒ SSRï¼Œæå‡é¦–å±åŠ è½½é€Ÿåº¦å’Œ SEO
- é™æ€ç«™ç‚¹ç”Ÿæˆï¼šæ”¯æŒ SSGï¼Œæ„å»ºæ—¶é¢„æ¸²æŸ“é¡µé¢
- æ··åˆæ¸²æŸ“ï¼šå¯æ ¹æ®é¡µé¢éœ€æ±‚é€‰æ‹© SSRã€SSG æˆ– CSR
- æ–‡ä»¶ç³»ç»Ÿè·¯ç”±ï¼šåŸºäºæ–‡ä»¶ç»“æ„è‡ªåŠ¨ç”Ÿæˆè·¯ç”±
- API è·¯ç”±ï¼šå†…ç½® API æ”¯æŒï¼Œæ— éœ€é¢å¤–é…ç½®æœåŠ¡å™¨
- Server Componentï¼šNext.jsåœ¨æ¨ï¼Œç»„ä»¶åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œç›´æ¥å°†æ¸²æŸ“å¥½çš„htmlå‘é€ç»™æµè§ˆå™¨ï¼Œçœå»äº†å¤§é‡JSä»£ç æ‰“åŒ…ï¼Œå‡å°‘æµè§ˆå™¨å†…å­˜å ç”¨å’Œè®¡ç®—è´Ÿæ‹…ï¼ŒåŠ å¿«é¦–å±åŠ è½½é€Ÿåº¦

# å‰ç«¯å·¥ç¨‹åŒ–

## å·¥ç¨‹åŒ–è§£å†³äº†ä»€ä¹ˆé—®é¢˜

å½“ä¸€ä¸ªé¡¹ç›®å¾ˆå¤§çš„æ—¶å€™ï¼Œå°±å¯èƒ½ä¼šå‡ºç°

- å…¨å±€æ±¡æŸ“ï¼ˆå‡½æ•°åã€å˜é‡åå†²çªï¼‰
- ä¾èµ–æ··ä¹±ï¼ˆJSæ–‡ä»¶é—´äº’ç›¸è°ƒç”¨å¼•èµ·çš„ä¾èµ–æ··ä¹±ï¼‰

## å·¥ç¨‹åŒ–å†…å®¹

- æ¨¡å—è§„èŒƒ
     CommonJS`åŒæ­¥ï¼Œé€‚åˆNode`ã€ESMï¼ˆES moduleï¼‰`å¼‚æ­¥ï¼Œé€‚åˆå‰ç«¯å¼€å‘`
     è§„å®šä»£ç æ€ä¹ˆæ‹†åˆ†æˆæ¨¡å—

- å·¥ç¨‹åŒ–å·¥å…·
     webpackã€Vite
     è§£å†³æ¨¡å—æ‰“åŒ…ã€ä»£ç è½¬è¯‘ã€çƒ­æ›´æ–°ã€å¼€å‘æœåŠ¡å™¨ç­‰ä¸€äº›åˆ—é—®é¢˜

- å‰ç«¯æ¡†æ¶
     Vueã€React
     å¿«é€Ÿæ­å»ºç”¨æˆ·ç•Œé¢ï¼Œä¸ç”¨è‡ªå·±æ‰‹å†™å¤æ‚çš„DOMæ“ä½œ

## å‰ç«¯é”™è¯¯æ•è·

- try-catch åŒæ­¥é”™è¯¯æ•è·
  ç”¨äºæ•è·åŒæ­¥ä»£ç ä¸­çš„é”™è¯¯ï¼Œæ— æ³•æ•è·å¼‚æ­¥é”™è¯¯å’Œè¯­æ³•é”™è¯¯

- window.onerror å…¨å±€é”™è¯¯æ•è·
  å…¨å±€é”™è¯¯ç›‘å¬ï¼Œå¯ä»¥æ•è·è¿è¡Œæ—¶é”™è¯¯ï¼Œä½†æ— æ³•æ•è·èµ„æºåŠ è½½é”™è¯¯

- window.addEventListener error èµ„æºåŠ è½½é”™è¯¯

  ä¸“é—¨æ•è·å›¾ç‰‡ã€è„šæœ¬ã€æ ·å¼è¡¨ç­‰èµ„æºåŠ è½½å¤±è´¥çš„æƒ…å†µ

- unhandledrejection Promiseé”™è¯¯æ•è·
  æ•è·æœªè¢«å¤„ç†çš„Promiseæ‹’ç»ï¼ˆrejectionï¼‰é”™è¯¯

- Vueé”™è¯¯å¤„ç† app.config.errorHandler
  Vueæä¾›çš„å…¨å±€é”™è¯¯å¤„ç†é’©å­ï¼Œæ•è·ç»„ä»¶æ¸²æŸ“å’Œè§‚å¯ŸæœŸé—´æœªæ•è·çš„é”™è¯¯

- Reacté”™è¯¯è¾¹ç•Œ
  Reactç»„ä»¶çº§çš„é”™è¯¯æ•è·æœºåˆ¶ï¼Œç”¨äºæ•è·å­ç»„ä»¶æ ‘ä¸­çš„JavaScripté”™è¯¯

- ç½‘ç»œè¯·æ±‚é”™è¯¯æ•è·
  é’ˆå¯¹fetchã€XMLHttpRequestç­‰ç½‘ç»œè¯·æ±‚çš„é”™è¯¯å¤„ç†

- æ§åˆ¶å°é”™è¯¯é‡å†™
  é‡å†™console.errorç­‰æ–¹æ³•ï¼Œç›‘æ§å’Œæ§åˆ¶å°è¾“å‡ºç›¸å…³çš„é”™è¯¯

- è·¨åŸŸè„šæœ¬é”™è¯¯å¤„ç† window.onerrorä¸­messageæ˜¯ 'Script error.'
  å¤„ç†ç”±äºè·¨åŸŸç­–ç•¥å¯¼è‡´çš„è„šæœ¬é”™è¯¯ä¿¡æ¯å—é™é—®é¢˜

- æ€§èƒ½ç›‘æ§é”™è¯¯
  é€šè¿‡Performance APIç›‘æ§é•¿æ—¶é—´ä»»åŠ¡ç­‰æ€§èƒ½ç›¸å…³é—®é¢˜

## Vite vs Webpack

**Webpack**

- æ‰“åŒ…æ‰€æœ‰æ¨¡å—å†å¯åŠ¨å¼€å‘æœåŠ¡ï¼ˆå†·å¯åŠ¨è¾ƒæ…¢ï¼‰
- ç”Ÿæ€æ›´å®Œå–„ï¼Œæ’ä»¶ä¸°å¯Œ
- é…ç½®ç›¸å¯¹å¤æ‚

**Vite**

- ESMæŒ‰éœ€åŠ è½½ï¼Œä¸ç”¨æ‰“åŒ…ï¼Œå¼€å‘æœåŠ¡å™¨å¯åŠ¨å¿«
- åŸºäºRollupæ‰“åŒ…ï¼Œä½“ç§¯æ›´å°
- æ›´è½»é‡ï¼Œå¼€å‘ä½“éªŒæ›´å¥½
- çƒ­æ›´æ–°æ›´å¿«ï¼ˆæ–‡ä»¶æŒ‡çº¹ï¼‰

## Webpack å¼€å‘ / ç”Ÿäº§æ‰“åŒ…æ–¹å¼å·®å¼‚

### å¼€å‘æ¨¡å¼ï¼ˆdevelopmentï¼‰

- **ç›®æ ‡**ï¼šæå‡å¼€å‘ä½“éªŒï¼Œå¼ºè°ƒå¿«é€Ÿæ„å»ºã€çƒ­æ›´æ–°ã€æºç è°ƒè¯•ã€‚
- **ç‰¹æ€§**ï¼š
  - ä»£ç å¤„ç†ï¼šä¸å‹ç¼©ã€ä¸æ··æ·†ä»£ç ï¼Œä¿ç•™ source-mapï¼Œæ”¯æŒæ–­ç‚¹è°ƒè¯•ï¼›
  - æ„å»ºç­–ç•¥ï¼šå…¨é‡æ‰“åŒ…ï¼ˆå³ä½¿åªæ”¹ä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿé‡æ–°æ‰“åŒ…æ•´ä¸ªä¾èµ–å›¾ï¼‰ï¼Œè¾“å‡ºæœªä¼˜åŒ–çš„ bundleï¼›
  - é¢å¤–èƒ½åŠ›ï¼šå†…ç½®`webpack-dev-server`ï¼ŒåŸºäºå†…å­˜æ‰“åŒ…ï¼ˆä¸ç”Ÿæˆç‰©ç†æ–‡ä»¶ï¼‰ï¼Œæ”¯æŒçƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰ã€‚

### ç”Ÿäº§æ¨¡å¼ï¼ˆproductionï¼‰

- **ç›®æ ‡**ï¼šä¼˜åŒ–ä»£ç ä½“ç§¯ã€æå‡è¿è¡Œæ€§èƒ½ï¼Œå¼ºè°ƒçº¿ä¸Šå¯ç”¨æ€§ã€‚
- **ç‰¹æ€§**ï¼š
  - ä»£ç å¤„ç†ï¼šåˆ é™¤æ— ç”¨ä»£ç ï¼ˆTree-Shakingï¼‰ã€å‹ç¼© CSS/JSã€æ¸…é™¤ consoleã€ç”Ÿæˆä¼˜åŒ–åçš„ source-mapï¼›
  - æ„å»ºç­–ç•¥ï¼šå…¨é‡æ‰“åŒ…å¹¶æ·±åº¦ä¼˜åŒ–ï¼Œè¾“å‡ºå¤šä¸ªæ‹†åˆ†åçš„ chunkï¼ˆå¦‚å…¬å…±ä¾èµ–ã€ä¸šåŠ¡ä»£ç åˆ†ç¦»ï¼‰ï¼Œç”Ÿæˆç‰©ç†æ–‡ä»¶ï¼›
  - æ€§èƒ½ä¼˜åŒ–ï¼šå¯ç”¨ç¼“å­˜ï¼ˆ`cache: true`ï¼‰ã€å¤šçº¿ç¨‹æ‰“åŒ…ï¼ˆ`thread-loader`ï¼‰ï¼Œé™ä½æ‰“åŒ…æ—¶é—´ä½†ä¼˜å…ˆçº§ä½äºäº§ç‰©ä¼˜åŒ–ã€‚

## Vite å¼€å‘ / ç”Ÿäº§æ‰“åŒ…æ–¹å¼å·®å¼‚

### å¼€å‘æ¨¡å¼ï¼ˆdevelopmentï¼‰

- **ç›®æ ‡**ï¼šæè‡´çš„å†·å¯åŠ¨ / çƒ­æ›´æ–°é€Ÿåº¦ï¼ŒåŸºäºåŸç”Ÿ ESM æ— éœ€æ‰“åŒ…ã€‚
- å…³é”®ç‰¹æ€§ï¼š
  - æ— æ‰“åŒ…æ„å»ºï¼šå¯åŠ¨æ—¶ä¸è§£ææ•´ä¸ªä¾èµ–æ ‘ï¼Œä»…å¯åŠ¨ä¸€ä¸ªåŸç”Ÿ ESM æœåŠ¡å™¨ï¼Œè¯·æ±‚æ¨¡å—æ—¶æŒ‰éœ€ç¼–è¯‘ï¼ˆå¦‚.vue/.ts æ–‡ä»¶ï¼‰ï¼›
  - ä¾èµ–å¤„ç†ï¼šé¢„æ„å»ºä¾èµ–ï¼ˆesbuildï¼ŒGo è¯­è¨€ç¼–å†™ï¼‰ï¼Œå°† CommonJS/UMD æ ¼å¼çš„ä¾èµ–è½¬ä¸º ESMï¼Œä¸”ç¼“å­˜é¢„æ„å»ºç»“æœï¼›
  - æºç å¤„ç†ï¼šé€šè¿‡æµè§ˆå™¨åŸç”Ÿ ESM åŠ è½½æºç ï¼Œæ¯ä¸ªæ–‡ä»¶ä½œä¸ºç‹¬ç«‹æ¨¡å—è¯·æ±‚ï¼Œæ— éœ€æ‰“åŒ…æˆ bundleï¼›
  - è°ƒè¯•èƒ½åŠ›ï¼šä¿ç•™æºç ç»“æ„ï¼Œæ”¯æŒç²¾å‡†çš„ source-mapï¼Œæ— éœ€ç­‰å¾…å…¨é‡æ‰“åŒ…å³å¯å¯åŠ¨ï¼ˆæ¯«ç§’çº§ï¼‰ã€‚

### ç”Ÿäº§æ¨¡å¼ï¼ˆproductionï¼‰

- **æ ¸å¿ƒç›®æ ‡**ï¼šå…¼å®¹ç”Ÿäº§ç¯å¢ƒï¼Œè¾“å‡ºä¼˜åŒ–åçš„ bundleï¼ˆåŸºäº Rollupï¼‰ã€‚
- å…³é”®ç‰¹æ€§ï¼š
  - æ‰“åŒ…å·¥å…·ï¼šåˆ‡æ¢ä¸º Rollupï¼ˆè€Œé esbuildï¼Œå›  Rollup çš„ Tree-Shaking / ä»£ç åˆ†å‰²æ›´æˆç†Ÿï¼‰ï¼›
  - ä»£ç ä¼˜åŒ–ï¼šæ·±åº¦ Tree-Shakingã€CSS æå–å‹ç¼©ã€chunk åˆ†å‰²ã€é¢„åŠ è½½æŒ‡ä»¤ï¼ˆpreload/prefetchï¼‰ï¼›
  - å…¼å®¹æ€§å¤„ç†ï¼šè‡ªåŠ¨è½¬æ¢ ESM ä¸ºå…¼å®¹æµè§ˆå™¨çš„æ ¼å¼ï¼Œå¤„ç† polyfillï¼Œç”Ÿæˆé™æ€èµ„æºï¼›
  - äº§ç‰©è¾“å‡ºï¼šç”Ÿæˆç‰©ç†æ–‡ä»¶ï¼Œç»“æ„ç±»ä¼¼ Webpack ç”Ÿäº§åŒ…ï¼Œä½†ä½“ç§¯æ›´å°ã€æ‰“åŒ…é€Ÿåº¦å¿«äº Webpackï¼ˆRollup+esbuild é¢„ç¼–è¯‘ï¼‰ã€‚

## Webpack ä¸ Vite çƒ­æ›´æ–°æœºåˆ¶å·®å¼‚

### Webpack çƒ­æ›´æ–°ï¼ˆHMRï¼‰

1. **æ ¸å¿ƒåŸç†**ï¼šåŸºäº â€œå…¨é‡ä¾èµ–å›¾ + è¡¥ä¸æ›¿æ¢â€ï¼›
2. æ‰§è¡Œæµç¨‹ï¼š
   - å¯åŠ¨æ—¶æ„å»ºå®Œæ•´çš„æ¨¡å—ä¾èµ–å›¾å¹¶æ‰“åŒ…ï¼›
   - æ–‡ä»¶ä¿®æ”¹åï¼ŒWebpack é‡æ–°ç¼–è¯‘è¯¥æ¨¡å—åŠå…¶ä¾èµ–æ¨¡å—ï¼Œç”Ÿæˆæ›´æ–°åçš„ chunkï¼›
   - é€šè¿‡ WebSocket é€šçŸ¥æµè§ˆå™¨ï¼Œæ›¿æ¢å¯¹åº”çš„æ¨¡å—ï¼ˆè‹¥æ¨¡å—æ— æ³•çƒ­æ›´æ–°åˆ™åˆ·æ–°é¡µé¢ï¼‰ï¼›
3. **ç—›ç‚¹**ï¼šé¡¹ç›®è¶Šå¤§ï¼Œä¾èµ–å›¾è¶Šå¤æ‚ï¼Œçƒ­æ›´æ–°è€—æ—¶è¶Šé•¿ï¼ˆç§’çº§ç”šè‡³æ•°åç§’ï¼‰ã€‚

### Vite çƒ­æ›´æ–°ï¼ˆHMRï¼‰

1. **æ ¸å¿ƒåŸç†**ï¼šåŸºäº â€œåŸç”Ÿ ESM + ç²¾å‡†æ¨¡å—æ›¿æ¢â€ï¼›
2. **æ‰§è¡Œæµç¨‹**ï¼š
   - å¼€å‘æ—¶æ¨¡å—é€šè¿‡åŸç”Ÿ ESM åŠ è½½ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”å”¯ä¸€çš„ URLï¼›
   - æ–‡ä»¶ä¿®æ”¹åï¼ŒVite ä»…é‡æ–°ç¼–è¯‘è¯¥æ–‡ä»¶ï¼ˆesbuild ç¼–è¯‘ï¼Œæ¯«ç§’çº§ï¼‰ï¼Œæ— éœ€å¤„ç†ä¾èµ–é“¾ï¼›
   - é€šè¿‡ WebSocket é€šçŸ¥æµè§ˆå™¨ï¼Œä»…æ›¿æ¢è¯¥æ¨¡å—çš„ ESM è¯·æ±‚ï¼ˆå¦‚`import.meta.hot`ï¼‰ï¼Œä¸å½±å“å…¶ä»–æ¨¡å—ï¼›
3. **ä¼˜åŠ¿**ï¼šçƒ­æ›´æ–°é€Ÿåº¦ä¸é¡¹ç›®ä½“ç§¯æ— å…³ï¼Œå³ä½¿ä¸‡è¡Œä»£ç é¡¹ç›®ï¼Œçƒ­æ›´æ–°ä»ä¸ºæ¯«ç§’çº§ã€‚

## Vite ä¸ Webpack å®ç°åŸç†æ ¸å¿ƒå·®å¼‚

| ç»´åº¦     | Webpack                                                    | Vite                                                         |
| -------- | ---------------------------------------------------------- | ------------------------------------------------------------ |
| æ ¸å¿ƒæ€æƒ³ | åŸºäº â€œæ‰“åŒ…â€ï¼šå¯åŠ¨æ—¶æ„å»ºå®Œæ•´ä¾èµ–å›¾ï¼Œå°†æ‰€æœ‰æ¨¡å—æ‰“åŒ…æˆ bundle | åŸºäº â€œæ— æ‰“åŒ…â€ï¼šå¼€å‘æ—¶æŒ‰éœ€åŠ è½½åŸç”Ÿ ESMï¼Œç”Ÿäº§æ—¶åŸºäº Rollup æ‰“åŒ… |
| æ¨¡å—å¤„ç† | å…¼å®¹ CommonJS/ESMï¼Œéœ€å°†æ‰€æœ‰æ¨¡å—è½¬ä¸º webpack å†…éƒ¨æ¨¡å—æ ¼å¼   | å¼€å‘æ—¶ä»…å¤„ç† ESMï¼Œä¾èµ–é€šè¿‡ esbuild é¢„æ„å»ºä¸º ESM              |
| æ„å»ºå·¥å…· | å†…ç½®æ‰“åŒ…å™¨ï¼ˆJS ç¼–å†™ï¼‰ï¼Œå¯æ‰©å±•ä½†é€Ÿåº¦æ…¢                      | å¼€å‘ï¼šesbuildï¼ˆGoï¼‰ï¼›ç”Ÿäº§ï¼šRollupï¼ˆJSï¼‰ï¼Œå…¼é¡¾é€Ÿåº¦ä¸ä¼˜åŒ–      |
| å¯åŠ¨é€»è¾‘ | å…¨é‡ç¼–è¯‘â†’æ‰“åŒ…â†’å¯åŠ¨æœåŠ¡å™¨ï¼Œè€—æ—¶éšé¡¹ç›®ä½“ç§¯çº¿æ€§å¢åŠ            | é¢„æ„å»ºä¾èµ–â†’å¯åŠ¨ ESM æœåŠ¡å™¨ï¼Œå¯åŠ¨é€Ÿåº¦åŸºæœ¬ä¸éšé¡¹ç›®ä½“ç§¯å˜åŒ–     |
| ä¾èµ–è§£æ | è¿è¡Œæ—¶è§£æä¾èµ–ï¼ˆæ‰“åŒ…æ—¶æ„å»ºä¾èµ–å›¾ï¼‰                         | ç¼–è¯‘æ—¶æŒ‰éœ€è§£æï¼ˆæµè§ˆå™¨è¯·æ±‚æ—¶å®æ—¶å¤„ç†ï¼‰                       |
| æ€§èƒ½æ ¸å¿ƒ | ä¾èµ–ç¼“å­˜ã€å¤šçº¿ç¨‹æ‰“åŒ…ä¼˜åŒ–å…¨é‡æ„å»ºé€Ÿåº¦                       | è§„é¿å…¨é‡æ‰“åŒ…ï¼Œåˆ©ç”¨åŸç”Ÿ ESM å’Œ esbuild æè‡´æé€Ÿ               |

### æ€»ç»“

- Webpack æ˜¯ â€œæ‰“åŒ…ä¼˜å…ˆâ€ï¼šæ— è®ºå¼€å‘ / ç”Ÿäº§éƒ½å…ˆæ‰“åŒ…ï¼Œå…¼å®¹æ€§å¼ºã€ç”Ÿæ€ä¸°å¯Œï¼Œä½†å¤§å‹é¡¹ç›®å¯åŠ¨ / çƒ­æ›´æ–°æ…¢ï¼›
- Vite æ˜¯ â€œæŒ‰éœ€ç¼–è¯‘ + åŸç”Ÿ ESMâ€ï¼šå¼€å‘æ—¶æŠ›å¼ƒæ‰“åŒ…ï¼Œç”Ÿäº§æ—¶å¤ç”¨ Rollup çš„ä¼˜åŒ–èƒ½åŠ›ï¼Œé€Ÿåº¦è¿œå¿«äº Webpackï¼Œä½†ç”Ÿæ€ç¨å¼±ï¼ˆé€‚é… Vite çš„æ’ä»¶å°‘äº Webpackï¼‰ã€‚

## CommonJS vs ES Module

**CommonJS**

- è¿è¡Œæ—¶åŠ è½½
- å¯¼å‡ºçš„æ˜¯å€¼çš„æ‹·è´
- åŒæ­¥åŠ è½½ï¼Œé€‚åˆNode.js

**ES Module**

- ç¼–è¯‘æ—¶åŠ è½½ï¼Œæ”¯æŒé™æ€åˆ†æï¼ˆä¸è¿è¡Œä»£ç å°±çŸ¥é“æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼‰
- å¯¼å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨
- å¼‚æ­¥åŠ è½½ï¼Œé€‚åˆæµè§ˆå™¨
- æ”¯æŒTree Shaking

## Hashæ¨¡å¼ VS Histroyæ¨¡å¼

**Hashæ¨¡å¼**

- URLæ ¼å¼ï¼š`http://example.com/#/page`
- åŸç†ï¼šç›‘å¬URLä¸­#åé¢çš„å“ˆå¸Œå€¼å˜åŒ–
- åˆ·æ–°å½±å“ï¼šä¸ä¼šè§¦å‘é¡µé¢åˆ·æ–°
- éƒ¨ç½²è¦æ±‚ï¼šæ— éœ€æœåŠ¡å™¨ç‰¹æ®Šé…ç½®
- SEOæ”¯æŒï¼šè¾ƒå·®ï¼Œæœç´¢å¼•æ“ä¸è¯†åˆ«#åå†…å®¹

**Historyæ¨¡å¼**

- URLæ ¼å¼ï¼š`http://example.com/page`
- åŸç†ï¼šä½¿ç”¨HTML5 History APIï¼ˆpushState, replaceStateï¼‰
- åˆ·æ–°å½±å“ï¼šä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚
- å…¼å®¹æ€§ï¼šéœ€è¦IE10+æˆ–ç°ä»£æµè§ˆå™¨
- éƒ¨ç½²è¦æ±‚ï¼šéœ€è¦æœåŠ¡å™¨é…ç½®ï¼Œæ‰€æœ‰è·¯ç”±æŒ‡å‘index.html
- SEOæ”¯æŒï¼šè‰¯å¥½ï¼ŒURLæ›´å‹å¥½æ˜“è¢«æœç´¢å¼•æ“æ”¶å½•

## webviewä¸h5çš„é€šè®¯

- PostMessageï¼šæ”¯æŒè·¨åŸŸï¼ŒåŒæ–¹éƒ½éœ€è¦å‘é€æ¶ˆæ¯å’Œç›‘å¬
- URL Schemeæ‹¦æˆªï¼šH5è·³è½¬è‡ªå®šä¹‰URLï¼Œwebviewæ‹¦æˆªå¹¶è§£æURLå‚æ•°
- JSbridgeï¼šé€šè¿‡æ³¨å…¥åŸç”Ÿå¯¹è±¡åˆ°H5çš„windowä¸Šï¼ŒH5è°ƒç”¨è¯¥å¯¹è±¡æ–¹æ³•ï¼ŒåŸç”Ÿç›‘å¬å¹¶å¤„ç†ï¼Œå†å›è°ƒç»“æœç»™H5
- WebSocketï¼šå»ºç«‹é•¿é“¾æ¥ï¼ŒWebViewå’ŒH5é€šè¿‡æ¶ˆæ¯æ¨é€å®æ—¶é€šä¿¡
- æœ¬åœ°å­˜å‚¨å…±äº«ï¼šé€šè¿‡LocalStorageã€sessionStorageå…±äº«æ•°æ®ï¼Œå„è‡ªå†™å…¥å„è‡ªè¯»å–
- Cookieå…±äº«ï¼šå¯ä»¥åŒæ­¥ç™»é™†çŠ¶æ€

## å¾®å‰ç«¯

**ç›®çš„**ï¼š

- è§£å†³å·¨çŸ³åº”ç”¨ï¼ˆç»´æŠ¤æ€§ã€æ‰“åŒ…ã€ç®¡ç†ã€é™ä½å¼€å‘å’Œç»´æŠ¤æˆæœ¬ï¼‰
- è§£å†³é—ç•™ç³»ç»Ÿè¿ç§»

**åŸç†**ï¼šä¸»åº”ç”¨åŠ è½½å’Œç®¡ç†å­åº”ç”¨

vueå’Œreactéƒ½æ˜¯å°†æ‰€æœ‰å†…å®¹æœ€ç»ˆæŒ‚åœ¨åœ¨ä¸€ä¸ªdomä¸Šï¼Œè€Œå¾®å‰ç«¯å°±æ˜¯ä¸»åº”ç”¨ç»Ÿä¸€ç®¡ç†æŒ‚è½½å’Œå¸è½½ï¼Œå¹¶å¤„ç†ä¸€ä¸‹é€šè®¯å’Œæ ·å¼éš”ç¦»

**ä¼˜åŒ–**ï¼š

- æ ·å¼éš”ç¦»ï¼šShadow DOM
- é€šä¿¡ï¼šæ¶ˆæ¯è®¢é˜…å‘å¸ƒã€EventBusï¼ˆæ€»ä¹‹éƒ½æ˜¯åœ¨åˆ›å»ºå­åº”ç”¨çš„æ—¶å€™ä¼ å…¥äº†å‡½æ•°ï¼‰
- æ¨¡å—å…¬ç”¨å’Œä¾èµ–ç®¡ç†
- å­åº”ç”¨æ‡’åŠ è½½å’Œé¢„åŠ è½½

**ç¼ºç‚¹**ï¼š

- åº”ç”¨é—´é€šä¿¡å¤æ‚
- å…¨å±€çŠ¶æ€ç®¡ç†å’Œæ ·å¼éš”ç¦»éœ€è¦é¢å¤–å¤„ç†
- é¦–æ¬¡åŠ è½½æ€§èƒ½å¼€é”€

## Monorepo

1. å®šä¹‰

Monorepoï¼ˆMonolithic Repositoryï¼Œå•ä½“ä»“åº“ï¼‰æ˜¯ä¸€ç§**ä»£ç ç®¡ç†ç­–ç•¥**ï¼šå°†å¤šä¸ªç‹¬ç«‹é¡¹ç›®ï¼ˆæˆ–æ¨¡å—ï¼‰çš„æºä»£ç ç»Ÿä¸€å­˜å‚¨åœ¨**ä¸€ä¸ªä»“åº“**ä¸­ç®¡ç†ï¼Œè€Œéæ¯ä¸ªé¡¹ç›®å•ç‹¬å»ºä»“ï¼ˆå¤šä»“æ¨¡å¼ï¼ŒMulti-repoï¼‰

æ ¸å¿ƒç‰¹å¾ï¼šå•ä»“åº“ã€å¤šé¡¹ç›® / æ¨¡å—å…±äº«åŸºç¡€è®¾æ–½ï¼ˆä¾èµ–ã€é…ç½®ã€å·¥å…·ï¼‰ï¼Œæ”¯æŒè·¨é¡¹ç›®åä½œä¸ä»£ç å¤ç”¨

2. ä½œç”¨

- **é«˜æ•ˆä»£ç å¤ç”¨**ï¼šä¸åŒé¡¹ç›®å¯ç›´æ¥å¼•ç”¨ä»“åº“å†…çš„å…¬å…±æ¨¡å—ï¼ˆå¦‚å·¥å…·å‡½æ•°ã€ç»„ä»¶åº“ã€é€šç”¨é…ç½®ï¼‰ï¼Œæ— éœ€é€šè¿‡ npm åŒ…å‘å¸ƒ / å®‰è£…ï¼Œä¿®æ”¹å…¬å…±ä»£ç åæ‰€æœ‰ä¾èµ–é¡¹ç›®å³æ—¶ç”Ÿæ•ˆ

- **ç»Ÿä¸€ä¾èµ–ä¸é…ç½®**ï¼šä»“åº“çº§ç»Ÿä¸€ç®¡ç†ä¾èµ–åŒ…ï¼ˆå¦‚å‰ç«¯çš„ npm ä¾èµ–ã€æ„å»ºå·¥å…·é…ç½®ï¼‰ï¼Œé¿å…å¤šä»“ä¸­ä¾èµ–ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„ â€œç¯å¢ƒä¸ä¸€è‡´â€ é—®é¢˜ï¼Œå‡å°‘ â€œåœ¨æˆ‘è¿™èƒ½è·‘â€ çš„å°´å°¬

- **ç®€åŒ–è·¨é¡¹ç›®åä½œ**ï¼šè·¨é¡¹ç›®ä¿®æ”¹ï¼ˆå¦‚ A é¡¹ç›®éœ€è°ƒæ•´ B é¡¹ç›®çš„æ¥å£é€‚é…ï¼‰æ— éœ€è·¨ä»“åº“æ PRã€åŒæ­¥ä»£ç ï¼Œç›´æ¥åœ¨åŒä¸€ä»“åº“å†…ä¿®æ”¹ã€æµ‹è¯•ï¼Œåä½œæ•ˆç‡å¤§å¹…æå‡

- **ç»Ÿä¸€å·¥ç¨‹åŒ–è§„èŒƒ**ï¼šä»“åº“å†…å…±äº«æ„å»ºã€æµ‹è¯•ã€CI/CD æµç¨‹ï¼Œç¡®ä¿æ‰€æœ‰é¡¹ç›®éµå¾ªç›¸åŒçš„ä»£ç è§„èŒƒã€æµ‹è¯•æ ‡å‡†ï¼Œé™ä½å›¢é˜Ÿåä½œçš„æ²Ÿé€šæˆæœ¬ä¸ç»´æŠ¤æˆæœ¬

- **ç®€åŒ–ç‰ˆæœ¬ç®¡ç†**ï¼šæ— éœ€ç»´æŠ¤å¤šä¸ªä»“åº“çš„ç‰ˆæœ¬å·åŒæ­¥ï¼Œå¤æ‚é¡¹ç›®ï¼ˆå¦‚å‰ç«¯ + åç«¯ + å…±äº«åº“ï¼‰å¯ç»Ÿä¸€å‘å¸ƒç‰ˆæœ¬ï¼Œè¿½æº¯å˜æ›´æ›´æ¸…æ™°

3. ä¼˜ç¼ºç‚¹

| ä¼˜ç‚¹                   | ç¼ºç‚¹                                   |
| ---------------------- | -------------------------------------- |
| è·¨é¡¹ç›®å¤ç”¨æˆæœ¬ä½       | ä»“åº“ä½“ç§¯ä¼šéšé¡¹ç›®å¢å¤šå˜å¤§               |
| ä¾èµ–ä¸è§„èŒƒç»Ÿä¸€         | æƒé™ç®¡ç†æ›´ç²¾ç»†ï¼ˆéœ€æ§åˆ¶é¡¹ç›®è®¿é—®æƒé™ï¼‰   |
| åä½œæ•ˆç‡é«˜ã€å˜æ›´è¿½æº¯æ˜“ | æ„å»º / CI éœ€ä¼˜åŒ–ï¼ˆé¿å…å…¨é‡æ„å»ºï¼‰       |
| å‡å°‘ â€œé‡å¤é€ è½®å­â€      | å¯¹å·¥å…·é“¾ï¼ˆå¦‚æ„å»ºã€ç‰ˆæœ¬ç®¡ç†ï¼‰æœ‰ä¸€å®šè¦æ±‚ |

4. é€‚ç”¨åœºæ™¯

- å¤šæ¨¡å— / å¤šé¡¹ç›®ç´§å¯†åä½œçš„å›¢é˜Ÿï¼ˆå¦‚å‰ç«¯ç»„ä»¶åº“ + å¤šä¸ªä¸šåŠ¡åº”ç”¨ã€å‰åç«¯ä¸€ä½“åŒ–é¡¹ç›®ï¼‰ï¼›

- éœ€é¢‘ç¹å¤ç”¨å…¬å…±ä»£ç ã€ç»Ÿä¸€è§„èŒƒçš„åœºæ™¯ï¼›

- è¿½æ±‚é«˜æ•ˆåä½œã€é™ä½è·¨é¡¹ç›®æ²Ÿé€šæˆæœ¬çš„å›¢é˜Ÿã€‚

## å‰ç«¯æ•´åˆæ–¹æ¡ˆ

**iframe**

- æ— æ³•å…±äº«ç™»å½•æ€
- é€šä¿¡å¤æ‚
- éš”ç¦»æ€§æœ€å¥½

**å¾®å‰ç«¯**

- é€‚åˆå¤§å‹é¡¹ç›®å¤šå­åº”ç”¨
- å®Œå–„çš„ç”Ÿæ€å’Œè§£å†³æ–¹æ¡ˆ

**Web Components**

- åŸç”ŸJSç»„ä»¶åŒ–æ–¹æ¡ˆ
- ä¿æŒæ ·å¼å’Œé€»è¾‘ä¸€è‡´æ€§

## webcomponents

åŸç”ŸJSç»„ä»¶åŒ–

## iframeé€šä¿¡

- postmessage
- localStroageå’ŒsessionStorage
- é€šè¿‡æ“ä½œiframeé¡µé¢çš„windowå¯¹è±¡è¿›è¡Œé€šä¿¡ï¼ˆéœ€è¦åŒæºï¼‰

## iframeç¼ºç‚¹

- æ— æ³•å’Œä¸»é¡¹ç›®å…±äº«ç™»å½•æ€
- æ— æ³•åƒä¸€ä¸ªé¡¹ç›®ä¸€æ ·é€šè®¯

## åˆ†åŒ…

**æ¦‚å¿µ**ï¼šå°†åº”ç”¨ä»£ç æ‹†åˆ†æˆå¤šä¸ªåŒ…ï¼ŒæŒ‰éœ€åŠ è½½
**ä½œç”¨**ï¼šå‡å°‘é¦–å±åŠ è½½æ—¶é—´ï¼Œä¼˜åŒ–ç¼“å­˜ç­–ç•¥ï¼Œæé«˜æ„å»ºæ•ˆç‡
**æ ¸å¿ƒä»·å€¼**ï¼šæå‡ç”¨æˆ·ä½“éªŒï¼Œæ§åˆ¶åŒ…å¤§å°ï¼Œå®ç°æ¸è¿›å¼åŠ è½½
**åˆ†åŒ…åŸç†**ï¼š

- ä¾èµ–åˆ†æï¼šæ„å»ºå·¥å…·åˆ†ææ¨¡å—é—´ä¾èµ–å…³ç³»
- ä»£ç åˆ†å‰²ï¼šé€šè¿‡åˆ†å‰²ç‚¹å°†ä»£ç æå–åˆ°ç‹¬ç«‹chunk
- åŠ¨æ€åŠ è½½ï¼šè¿è¡Œæ—¶æŒ‰éœ€åŠ è½½åˆ†åŒ…ä»£ç 
- èµ„æºç®¡ç†ï¼šç‹¬ç«‹ç¼“å­˜å’Œç‰ˆæœ¬æ§åˆ¶

### ä¸åŒæ¡†æ¶åˆ†åŒ…å®ç°

**Webpack**
- åŠ¨æ€å¯¼å…¥ï¼š`import()`è¯­æ³•è‡ªåŠ¨åˆ†åŒ…
- é…ç½®åˆ†å‰²ï¼šsplitChunksé…ç½®vendoråŒ…
- é­”æ³•æ³¨é‡Šï¼šwebpackChunkNameæŒ‡å®šåŒ…å
- é¢„åŠ è½½ï¼šwebpackPrefetché¢„åŠ è½½éå…³é”®åŒ…

**Vite**

- ESMåŸç”Ÿï¼šåŸºäºESæ¨¡å—çš„æŒ‰éœ€åŠ è½½
- Rollupé…ç½®ï¼šmanualChunksæ‰‹åŠ¨åˆ†å—
- è‡ªåŠ¨ä¼˜åŒ–ï¼šä¾èµ–åˆ†æè‡ªåŠ¨æå–å…¬å…±æ¨¡å—

**å°ç¨‹åº**

- é…ç½®é©±åŠ¨ï¼šapp.jsonä¸­é…ç½®subpackages
- ç‹¬ç«‹åˆ†åŒ…ï¼šindependentå­—æ®µæ ‡è®°ç‹¬ç«‹è¿è¡Œ
- é¢„åŠ è½½è§„åˆ™ï¼špreloadRuleé…ç½®é¢„åŠ è½½ç­–ç•¥
- å¤§å°é™åˆ¶ï¼šä¸»åŒ…2Mï¼Œæ€»åˆ†åŒ…20M

### ç‹¬ç«‹åˆ†åŒ…

- æ ¸å¿ƒç‰¹ç‚¹ï¼šä¸ä¾èµ–ä¸»åŒ…ç‹¬ç«‹è¿è¡Œ
- å¯åŠ¨ä¼˜åŠ¿ï¼šç›´æ¥åŠ è½½åˆ†åŒ…ï¼Œè·³è¿‡ä¸»åŒ…
- é™åˆ¶ï¼šæ— æ³•å…±äº«ä¸»åŒ…æ ·å¼å’Œç»„ä»¶
- é€‚ç”¨åœºæ™¯ï¼šåŠŸèƒ½ç‹¬ç«‹ã€éœ€è¦å¿«é€Ÿå¯åŠ¨çš„é¡µé¢
- è¿›å…¥ä¸ç‹¬ç«‹åˆ†åŒ…é¡µé¢éœ€åŠ è½½ä¸»åŒ…

### é¢„åŠ è½½æœºåˆ¶

- åŸç†ï¼šé¢„æµ‹ç”¨æˆ·è¡Œä¸ºï¼Œæå‰åŠ è½½å¯èƒ½éœ€è¦çš„èµ„æº
- å®ç°æ–¹å¼ï¼š
  - Webpackï¼šé­”æ³•æ³¨é‡ŠwebpackPrefetch
  - å°ç¨‹åºï¼špreloadRuleé…ç½®é¢„åŠ è½½è§„åˆ™
  - åŸç”Ÿï¼šlink rel="preload"é¢„åŠ è½½å…³é”®èµ„æº
- ç­–ç•¥ï¼šåŸºäºç”¨æˆ·è¡Œä¸ºåˆ†æï¼Œç©ºé—²æ—¶åŠ è½½éå…³é”®èµ„æº

### åˆ†åŒ…å¼‚æ­¥åŒ–

- æ¦‚å¿µï¼šå…ˆå ä½æ¸²æŸ“ï¼Œåˆ†åŒ…åŠ è½½åæ›¿æ¢å®é™…å†…å®¹
- å®ç°æ¨¡å¼ï¼š
  - Reactï¼šSuspense + React.lazy
  - Vueï¼šå¼‚æ­¥ç»„ä»¶é…ç½®
  - å°ç¨‹åºï¼šrequire.asyncè·¨åŒ…å¼•ç”¨
- ä¼˜åŠ¿ï¼šæå‡æ„ŸçŸ¥æ€§èƒ½ï¼Œå®ç°æ¸è¿›å¼æ¸²æŸ“
- åˆ†åŒ…å¼‚æ­¥åŒ–æœ‰ç‚¹ç±»ä¼¼äºéª¨æ¶å±ï¼Œå…ˆå ä½æ¸²æŸ“ï¼Œä¹‹ååœ¨å…¶ä»–åŒ…åŠ è½½ä¹‹åå†æ¸²æŸ“ä¸ºå¯¹åº”ç»„ä»¶

### åŒ…å¤§å°æ§åˆ¶

- é™åˆ¶æ ‡å‡†ï¼šä¸»åŒ…â‰¤2Mï¼Œæ€»åˆ†åŒ…â‰¤20Mï¼ˆå°ç¨‹åºæ ‡å‡†ï¼‰
- ä¼˜åŒ–ç­–ç•¥ï¼š
  - å…¬å…±ä¾èµ–æå–
  - é‡å¤ä»£ç æ£€æµ‹
  - æŒ‰éœ€å¼•å…¥ç¬¬ä¸‰æ–¹åº“
  - èµ„æºå‹ç¼©å’Œä¼˜åŒ–

### è·¨åŒ…é€šä¿¡

- é™åˆ¶ï¼šé»˜è®¤ä¸èƒ½ç›´æ¥å¼•ç”¨å…¶ä»–åŒ…ç»„ä»¶
- è§£å†³æ–¹æ¡ˆï¼š
  - å¼‚æ­¥åŠ è½½ï¼šrequire.asyncæˆ–import()
  - äº‹ä»¶é€šä¿¡ï¼šå…¨å±€äº‹ä»¶æ€»çº¿
  - çŠ¶æ€å…±äº«ï¼šå…¨å±€çŠ¶æ€ç®¡ç†
- è®¾è®¡åŸåˆ™ï¼šæ˜ç¡®æ¥å£ï¼Œé™ä½è€¦åˆåº¦

## ç»„ä»¶è®¾è®¡åŸåˆ™

- å¤ç”¨æ€§ï¼šé€šç”¨ç»„ä»¶æŠ½è±¡
- å¯ç»´æŠ¤æ€§ï¼šæ¸…æ™°çš„æ¥å£å’Œæ–‡æ¡£
- æ€§èƒ½ï¼šé¿å…ä¸å¿…è¦çš„æ¸²æŸ“
- å…¼å®¹æ€§ï¼šå¤šç«¯é€‚é…
- æ˜“ç”¨æ€§ï¼šç®€æ´çš„APIè®¾è®¡

## eval åŠ¨æ€æ³¨å…¥ä»£ç 

**æ ¸å¿ƒ**ï¼šè¿è¡Œæ—¶å°†å­—ç¬¦ä¸²è§£æä¸ºå¯æ‰§è¡Œä»£ç å¹¶æ‰§è¡Œï¼Œçªç ´é™æ€ç¼–ç çš„å›ºå®šé€»è¾‘é™åˆ¶

**è§£å†³çš„é—®é¢˜**ï¼š

- é™æ€ä»£ç æ‰©å±•æ€§ä¸è¶³ï¼šæ— éœ€é‡å¯æœåŠ¡ / é‡æ„ä»£ç ï¼Œå³å¯è°ƒæ•´ä¸šåŠ¡è§„åˆ™ï¼ˆå¦‚åŠ¨æ€é…ç½®éªŒè¯é€»è¾‘ï¼‰

- å¿«é€Ÿè¿­ä»£éœ€æ±‚ï¼šæ— éœ€é‡æ–°ç¼–è¯‘éƒ¨ç½²ï¼Œå¿«é€Ÿæ›´æ–°æ‰§è¡Œé€»è¾‘ï¼ˆå¦‚çº¿ä¸Šä¸´æ—¶åŠŸèƒ½è¡¥ä¸ï¼‰

- è½»é‡åŒ–æ‰©å±•ï¼šé¿å…å¤æ‚æ’ä»¶æ¶æ„ï¼Œé€šè¿‡å­—ç¬¦ä¸²é…ç½®å®ç°åŠŸèƒ½é€‚é…

**ä¼˜ç‚¹**

- çµæ´»æ€§é«˜ï¼šé€‚é…å¤šå˜çš„ä¸šåŠ¡è§„åˆ™ä¸é…ç½®éœ€æ±‚
- å¼€å‘æ•ˆç‡æå‡ï¼šå‡å°‘é‡å¤ç¼–ç ä¸éƒ¨ç½²æµç¨‹ï¼Œå¿«é€ŸéªŒè¯ä¸´æ—¶é€»è¾‘
- æ‰©å±•æˆæœ¬ä½ï¼šæ— éœ€å¼•å…¥å¤æ‚æ¶æ„ï¼Œå­—ç¬¦ä¸²é…ç½®å³å¯å®ç°åŠŸèƒ½æ‰©å±•

**ç¼ºç‚¹**

- å®‰å…¨é£é™©çªå‡ºï¼šå¤–éƒ¨è¾“å…¥æœªè¿‡æ»¤æ˜“å¼•å‘ä»£ç æ³¨å…¥æ”»å‡»ï¼ˆå¦‚æ¶æ„æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼‰
- å¯ç»´æŠ¤æ€§å·®ï¼šåŠ¨æ€ä»£ç éšè—äºå­—ç¬¦ä¸²ï¼Œæ— æ³• IDE è¯­æ³•æ£€æŸ¥ã€è°ƒè¯•å›°éš¾
- æ€§èƒ½æŸè€—ï¼šå­—ç¬¦ä¸²è§£æ + ç¼–è¯‘è¿‡ç¨‹é¢å¤–æ¶ˆè€—èµ„æºï¼Œé«˜é¢‘æ‰§è¡Œåœºæ™¯æ€§èƒ½ä¸‹é™
- å…¼å®¹æ€§é—®é¢˜ï¼šä¸åŒè¯­è¨€ / ç¯å¢ƒä¸‹è¡Œä¸ºå·®å¼‚å¤§ï¼Œè·¨ç¯å¢ƒé€‚é…å¤æ‚

## è‡ªåŠ¨åŒ–æµ‹è¯•

1. `çº¯ Node.js ç¯å¢ƒçš„å•å…ƒ / é€»è¾‘æµ‹è¯•`ï¼ˆä»£è¡¨ï¼šJestï¼‰

**æ ¸å¿ƒå®ç°æ–¹å¼**ï¼šè„±ç¦»æµè§ˆå™¨ç¯å¢ƒï¼ŒåŸºäº Node.js è™šæ‹Ÿæœºè¿è¡Œæµ‹è¯•ä»£ç ï¼Œé€šè¿‡ã€Œæ¨¡æ‹Ÿï¼ˆMockï¼‰+ æ–­è¨€ã€éªŒè¯ä»£ç é€»è¾‘

- å¯¹ DOM/BOM ç­‰æµè§ˆå™¨ API åšæ¨¡æ‹Ÿï¼ˆå¦‚ jsdomï¼‰ï¼Œæ— éœ€çœŸå®æ¸²æŸ“é¡µé¢
- èšç„¦å‡½æ•°ã€ç»„ä»¶é€»è¾‘çš„è¾“å…¥è¾“å‡ºéªŒè¯ï¼Œè€Œéé¡µé¢äº¤äº’
- æ ¸å¿ƒæ˜¯ â€œéš”ç¦»ä¾èµ– + å•æ¨¡å—éªŒè¯â€ï¼Œé€šè¿‡å¤šçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œæå‡æ•ˆç‡

2. `æ— å¤´æµè§ˆå™¨ + è‡ªå®šä¹‰è„šæœ¬`ï¼ˆä»£è¡¨ï¼šPuppeteer/Playwright + Node è„šæœ¬ï¼‰

**æ ¸å¿ƒå®ç°æ–¹å¼**ï¼šåŸºäºçœŸå®æµè§ˆå™¨å†…æ ¸ï¼ˆChromium/Firefox ç­‰ï¼‰çš„æ— å¤´æ¨¡å¼ï¼Œé€šè¿‡ Node è„šæœ¬ç›´æ¥æ“æ§æµè§ˆå™¨è¡Œä¸º

- å®Œå…¨æ¨¡æ‹ŸçœŸå®ç”¨æˆ·æ“ä½œï¼ˆç‚¹å‡»ã€è¾“å…¥ã€æ»šåŠ¨ã€è·³è½¬ï¼‰
- å¯æ•è·çœŸå®é¡µé¢çš„æ€§èƒ½æŒ‡æ ‡ï¼ˆåŠ è½½æ—¶é—´ã€èµ„æºå¤§å°ã€LCP/FID ç­‰ï¼‰ã€DOM æ¸²æŸ“çŠ¶æ€
- æ ¸å¿ƒæ˜¯ â€œç²¾å‡†å¤åˆ»ç”¨æˆ·è¡Œä¸º + è·å–çœŸå®è¿è¡Œæ•°æ®â€ï¼Œå®šåˆ¶åŒ–æå¼ºï¼ˆå¯è‡ªç”±ç¼–å†™ä»»æ„æ“ä½œé€»è¾‘ï¼‰

3. `è·¨ç«¯ Web é©±åŠ¨æµ‹è¯•`ï¼ˆä»£è¡¨ï¼šSeleniumï¼‰

**æ ¸å¿ƒå®ç°æ–¹å¼**ï¼šé€šè¿‡ WebDriver åè®®ï¼ˆä¸­é—´å±‚ï¼‰è¿æ¥ä¸åŒæµè§ˆå™¨ï¼ˆChrome/Firefox/Edgeï¼‰ï¼Œå®ç°è·¨æµè§ˆå™¨ / è·¨è¯­è¨€çš„é¡µé¢æ“æ§

- ä¸ç›´æ¥æ“ä½œæµè§ˆå™¨ï¼Œè€Œæ˜¯é€šè¿‡é©±åŠ¨ç¨‹åºä¸‹å‘æŒ‡ä»¤ï¼Œå…¼å®¹ä¸åŒæµè§ˆå™¨å†…æ ¸
- æ”¯æŒå¤šè¯­è¨€ï¼ˆJava/Python/JS ç­‰ï¼‰ç¼–å†™æµ‹è¯•è„šæœ¬ï¼Œæ ¸å¿ƒè§£å†³ â€œè·¨æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•â€ é—®é¢˜
- æ ¸å¿ƒæ˜¯ â€œåè®®å±‚æŠ½è±¡ + è·¨ç¯å¢ƒé€‚é…â€ï¼Œé€‚åˆå¤šç«¯ç»Ÿä¸€çš„ Web è‡ªåŠ¨åŒ–

4. `æµè§ˆå™¨å†…åµŒå…¥å¼æµ‹è¯•`ï¼ˆä»£è¡¨ï¼šCypressï¼‰

**æ ¸å¿ƒå®ç°æ–¹å¼**ï¼šæµ‹è¯•è„šæœ¬ä¸è¢«æµ‹åº”ç”¨è¿è¡Œåœ¨åŒä¸€æµè§ˆå™¨ä¸Šä¸‹æ–‡ï¼ˆè€Œéè·¨è¿›ç¨‹ï¼‰ï¼Œç›´æ¥æ“æ§æµè§ˆå™¨åŸç”Ÿ API

- æ— éœ€ WebDriver ä¸­é—´å±‚ï¼Œå®æ—¶æ„ŸçŸ¥é¡µé¢å¼‚æ­¥æ“ä½œï¼ˆè‡ªåŠ¨ç­‰å¾…å…ƒç´ åŠ è½½ã€è¯·æ±‚å®Œæˆï¼‰ï¼›
- å†…ç½®æµè§ˆå™¨ç¯å¢ƒï¼Œæ”¯æŒå®æ—¶è°ƒè¯•ã€å½•å±ï¼Œæ ¸å¿ƒæ˜¯ â€œæ— è·¨è¿›ç¨‹æŸè€— + å¼ºå¼‚æ­¥é€‚é…â€ï¼Œä¸“æ³¨å•æµè§ˆå™¨ï¼ˆChromeï¼‰çš„å‰ç«¯äº¤äº’æµ‹è¯•ã€‚

5. `AI å¤§è¯­è¨€æ¨¡å‹é©±åŠ¨æµ‹è¯•`ï¼ˆä»£è¡¨ï¼šMCP Server + LLMï¼‰

**æ ¸å¿ƒå®ç°æ–¹å¼**ï¼šä»¥è‡ªç„¶è¯­è¨€ä¸ºè¾“å…¥ï¼Œé€šè¿‡ MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰è®© LLM å¯¹æ¥æµ‹è¯•å·¥å…·ï¼ˆæµè§ˆå™¨ / è„šæœ¬ï¼‰ï¼Œè‡ªåŠ¨ç”Ÿæˆ / æ‰§è¡Œæµ‹è¯•é€»è¾‘

- æ ¸å¿ƒæ˜¯ â€œè‡ªç„¶è¯­è¨€è½¬æµ‹è¯•æŒ‡ä»¤â€ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™è„šæœ¬
- LLM å¯æ„ŸçŸ¥é¡µé¢çŠ¶æ€å˜åŒ–ï¼ŒåŠ¨æ€è°ƒæ•´æµ‹è¯•æ­¥éª¤ï¼ˆå¦‚å‘ç°å…ƒç´ ä¸å­˜åœ¨æ—¶è‡ªåŠ¨é‡è¯• / æ¢è·¯å¾„ï¼‰
- æœ¬è´¨æ˜¯ â€œAI æ›¿ä»£äººå·¥ç¼–å†™è„šæœ¬ + åŠ¨æ€é€‚é…æµ‹è¯•æµç¨‹â€ï¼Œé™ä½ä»£ç ç¼–å†™é—¨æ§›

6. `æ¨¡å‹é©±åŠ¨æµ‹è¯•`ï¼ˆMDTï¼‰

**æ ¸å¿ƒå®ç°æ–¹å¼**ï¼šå…ˆæ„å»ºç³»ç»Ÿ / ä¸šåŠ¡çš„æŠ½è±¡æ¨¡å‹ï¼ˆå¦‚ UMLã€çŠ¶æ€æœºã€ä¸šåŠ¡æµç¨‹å›¾ï¼‰ï¼Œå†åŸºäºæ¨¡å‹è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹å’Œæ‰§è¡Œé€»è¾‘

- ä» â€œä¸šåŠ¡é€»è¾‘ / ç³»ç»Ÿè§„åˆ™â€ å‡ºå‘ï¼Œè€Œéæ‰‹åŠ¨ç¼–å†™å•ä¸ªç”¨ä¾‹
- è‡ªåŠ¨è¦†ç›–æ¨¡å‹ä¸­çš„åˆ†æ”¯ã€çŠ¶æ€è½¬æ¢åœºæ™¯ï¼Œæ ¸å¿ƒæ˜¯ â€œç”¨æ¨¡å‹è¦†ç›–åœºæ™¯ + è‡ªåŠ¨åŒ–ç”Ÿæˆç”¨ä¾‹â€ï¼Œé€‚åˆå¤æ‚ä¸šåŠ¡ç³»ç»Ÿ

7. `æ•°æ®é©±åŠ¨æµ‹è¯•`ï¼ˆDDTï¼‰

**æ ¸å¿ƒå®ç°æ–¹å¼**ï¼šå°†æµ‹è¯•æ•°æ®ä¸æµ‹è¯•é€»è¾‘å®Œå…¨åˆ†ç¦»ï¼Œæµ‹è¯•è„šæœ¬ä»…ä¿ç•™é€šç”¨æ“ä½œæµç¨‹ï¼Œæ•°æ®ä»å¤–éƒ¨æ–‡ä»¶ï¼ˆJSON/CSV/ æ•°æ®åº“ï¼‰è¯»å–

- åŒä¸€å¥—æ“ä½œé€»è¾‘ï¼Œå¯æ‰¹é‡æ‰§è¡Œä¸åŒè¾“å…¥æ•°æ®çš„æµ‹è¯•ï¼ˆå¦‚ç™»å½•åœºæ™¯ï¼šå¤šç»„è´¦å·å¯†ç ï¼‰ï¼›
- æ ¸å¿ƒæ˜¯ â€œæ•°æ®å¤ç”¨ + é€»è¾‘ç»Ÿä¸€ç»´æŠ¤â€ï¼Œå‡å°‘é‡å¤è„šæœ¬ç¼–å†™ï¼Œé€‚åˆé«˜é¢‘å›å½’çš„åœºæ™¯

## ç°åº¦æµ‹è¯•

#### 1. åŸºäºç”¨æˆ·å±æ€§çš„é™æ€ç°åº¦ï¼ˆæœ€åŸºç¡€ï¼‰

- **å®ç°é€»è¾‘**ï¼šé€šè¿‡ç”¨æˆ·å›ºå®šå±æ€§ï¼ˆç”¨æˆ· IDã€è®¾å¤‡å‹å·ã€åœ°åŸŸã€ä¼šå‘˜ç­‰çº§ç­‰ï¼‰ï¼Œåœ¨å‰ç«¯ä»£ç ä¸­å†™æ­»åˆ¤æ–­è§„åˆ™ï¼Œç¬¦åˆè§„åˆ™çš„ç”¨æˆ·åŠ è½½æ–°ç‰ˆæœ¬èµ„æºï¼Œå¦åˆ™åŠ è½½æ—§ç‰ˆæœ¬

- ä¼˜ç‚¹ï¼š

  - å®ç°ç®€å•ï¼Œæ— éœ€ä¾èµ–åç«¯æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œçº¯å‰ç«¯å³å¯å®Œæˆ
  - è§„åˆ™æ˜ç¡®ï¼ŒåŒä¸€ç”¨æˆ·å§‹ç»ˆå‘½ä¸­åŒä¸€ç‰ˆæœ¬ï¼Œä¾¿äºé—®é¢˜è¿½æº¯
  - å¼€å‘æˆæœ¬ä½ï¼Œé€‚åˆå°å‹é¡¹ç›®æˆ–åˆæœŸç°åº¦éªŒè¯
  
- ç¼ºç‚¹ï¼š

  - çµæ´»æ€§å·®ï¼Œè°ƒæ•´ç°åº¦äººç¾¤éœ€ä¿®æ”¹ä»£ç å¹¶é‡æ–°å‘å¸ƒ
  - è§„åˆ™å›ºåŒ–ï¼Œæ— æ³•åŠ¨æ€æ‰©å¤§ / ç¼©å°ç°åº¦èŒƒå›´
  - å¯èƒ½å› å±æ€§åˆ†å¸ƒä¸å‡å¯¼è‡´æµ‹è¯•åå·®ï¼ˆå¦‚æŸåœ°åŸŸç”¨æˆ·ç‰¹å¾ç‰¹æ®Šï¼‰

#### 2. åŸºäºåç«¯æ¥å£çš„åŠ¨æ€ç°åº¦

- **å®ç°é€»è¾‘**ï¼šå‰ç«¯è¯·æ±‚åç«¯æ¥å£æ—¶ï¼Œåç«¯è¿”å›ç”¨æˆ·çš„ç°åº¦æ ‡è¯†ï¼ˆå¦‚`isGray: true`ï¼‰ï¼Œå‰ç«¯æ ¹æ®æ ‡è¯†åŠ è½½å¯¹åº”ç‰ˆæœ¬èµ„æºï¼ˆå¦‚ä¸åŒ JS/CSS æ–‡ä»¶ã€ç»„ä»¶ï¼‰ã€‚

- ä¼˜ç‚¹ï¼š

  - ç°åº¦è§„åˆ™ç”±åç«¯åŠ¨æ€æ§åˆ¶ï¼Œæ— éœ€å‰ç«¯å‘ç‰ˆå³å¯è°ƒæ•´äººç¾¤
  - æ”¯æŒæŒ‰æ¯”ä¾‹ã€å±æ€§ç­‰å¤æ‚è§„åˆ™ï¼ˆè§„åˆ™é€»è¾‘åœ¨åç«¯å®ç°ï¼‰
  - å¯ç»“åˆç”¨æˆ·ç”»åƒç²¾å‡†åœˆé€‰æµ‹è¯•äººç¾¤
  
- ç¼ºç‚¹ï¼š

  - ä¾èµ–åç«¯æ¥å£ï¼Œå‰åç«¯éœ€ååŒå¼€å‘
  - é¦–æ¬¡åŠ è½½å¯èƒ½å› æ¥å£è¯·æ±‚å»¶è¿Ÿå¯¼è‡´ç‰ˆæœ¬åˆ‡æ¢å¡é¡¿
  - è‹¥åç«¯æ¥å£å¼‚å¸¸ï¼Œå¯èƒ½å½±å“æ•´ä½“ç°åº¦é€»è¾‘

#### 3. åŸºäº Feature Flagï¼ˆåŠŸèƒ½å¼€å…³ï¼‰çš„ç°åº¦

- **å®ç°é€»è¾‘**ï¼šåœ¨å‰ç«¯ä»£ç ä¸­åµŒå…¥å¼€å…³å˜é‡ï¼ˆå¦‚`featureFlags.newLogin: true/false`ï¼‰ï¼Œé€šè¿‡é…ç½®ä¸­å¿ƒï¼ˆå¦‚ LaunchDarklyã€é˜¿é‡Œäº‘é…ç½®ä¸­å¿ƒï¼‰åŠ¨æ€æ§åˆ¶å¼€å…³çŠ¶æ€ï¼Œå†³å®šæ˜¯å¦æ¸²æŸ“æ–°åŠŸèƒ½

- ä¼˜ç‚¹ï¼š

  - ç²’åº¦æç»†ï¼Œå¯æ§åˆ¶å•ä¸ªæŒ‰é’®ã€ç»„ä»¶æˆ–é¡µé¢çš„ç°åº¦
  - æ— éœ€å‘ç‰ˆå³å¯å¼€å¯ / å…³é—­åŠŸèƒ½ï¼Œå›æ»šæˆæœ¬æä½
  - æ”¯æŒå¤šåœºæ™¯ç»„åˆï¼ˆå¦‚ â€œæ–°ç”¨æˆ· + ç‰¹å®šåœ°åŸŸâ€ å¼€å¯åŠŸèƒ½ï¼‰
  - å¯ä¸ A/B æµ‹è¯•ç»“åˆï¼Œå¯¹æ¯”ä¸åŒåŠŸèƒ½æ•ˆæœ
  
- ç¼ºç‚¹ï¼š

  - éœ€æ¥å…¥é…ç½®ä¸­å¿ƒï¼Œå¢åŠ å‰ç«¯ä¾èµ–å’Œå¼€å‘æˆæœ¬
  - å¼€å…³è¿‡å¤šæ—¶æ˜“å¯¼è‡´ä»£ç å†—ä½™ï¼ˆéœ€å®šæœŸæ¸…ç†è¿‡æœŸå¼€å…³ï¼‰
  - é…ç½®ä¸­å¿ƒçš„å¯ç”¨æ€§ç›´æ¥å½±å“åŠŸèƒ½ç¨³å®šæ€§

#### 4. åŸºäºèµ„æºç‰ˆæœ¬çš„ç°åº¦ï¼ˆCDN / é™æ€èµ„æºï¼‰

- **å®ç°é€»è¾‘**ï¼šå°†æ–°æ—§ç‰ˆæœ¬çš„é™æ€èµ„æºï¼ˆJSã€CSSã€å›¾ç‰‡ï¼‰éƒ¨ç½²åˆ°ä¸åŒ CDN è·¯å¾„ï¼ˆå¦‚`v1.0.0/main.js`ã€`v2.0.0/main.js`ï¼‰ï¼Œå‰ç«¯é€šè¿‡åŠ¨æ€è®¡ç®—æˆ–åç«¯è¿”å›çš„ç‰ˆæœ¬å·ï¼ŒåŠ è½½å¯¹åº”è·¯å¾„çš„èµ„æº

- ä¼˜ç‚¹ï¼š

  - å®Œå…¨éš”ç¦»æ–°æ—§ç‰ˆæœ¬èµ„æºï¼Œé¿å…ä»£ç å†²çª
  - æ”¯æŒå¿«é€Ÿå›æ»šï¼ˆåˆ‡æ¢å›æ—§ç‰ˆæœ¬èµ„æºè·¯å¾„å³å¯ï¼‰
  - é€‚åˆå¤§ç‰ˆæœ¬æ›´æ–°æˆ–é‡æ„åœºæ™¯
  
- ç¼ºç‚¹ï¼š

  - èµ„æºå†—ä½™ï¼Œéœ€åŒæ—¶ç»´æŠ¤å¤šç‰ˆæœ¬é™æ€æ–‡ä»¶
  - è‹¥èµ„æºä¾èµ–å¤æ‚ï¼ˆå¦‚å…¬å…±åº“ç‰ˆæœ¬å·®å¼‚ï¼‰ï¼Œå¯èƒ½å¯¼è‡´åŠ è½½å¼‚å¸¸
  - é¦–æ¬¡åŠ è½½æ–°ç‰ˆæœ¬èµ„æºæ—¶ï¼Œå¯èƒ½å› ç¼“å­˜é—®é¢˜å¯¼è‡´ä½“éªŒä¸ä¸€è‡´

#### 5. åŸºäºè·¯ç”±çš„ç°åº¦

- **å®ç°é€»è¾‘**ï¼šåœ¨å‰ç«¯è·¯ç”±å±‚ï¼ˆå¦‚ React Routerã€Vue Routerï¼‰æ·»åŠ ç°åº¦åˆ¤æ–­ï¼Œç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·è·¯ç”±åˆ°æ–°ç‰ˆæœ¬é¡µé¢ï¼ˆå¦‚`/new-home`ï¼‰ï¼Œå…¶ä»–ç”¨æˆ·è·¯ç”±åˆ°æ—§ç‰ˆæœ¬é¡µé¢ï¼ˆå¦‚`/home`ï¼‰

- ä¼˜ç‚¹ï¼š

  - é¡µé¢çº§éš”ç¦»ï¼Œæ–°æ—§ç‰ˆæœ¬é¡µé¢é€»è¾‘äº’ä¸å¹²æ‰°
  - å¯é’ˆå¯¹ç‰¹å®šé¡µé¢ç°åº¦ï¼Œä¸å½±å“æ•´ä½“åº”ç”¨
  - å®ç°ç®€å•ï¼Œä»…éœ€åœ¨è·¯ç”±é…ç½®ä¸­æ·»åŠ åˆ¤æ–­è§„åˆ™
  
- ç¼ºç‚¹ï¼š

  - ä»…é€‚ç”¨äºé¡µé¢çº§ç°åº¦ï¼Œæ— æ³•æ§åˆ¶ç»„ä»¶çº§ç»†èŠ‚
  - è‹¥é¡µé¢é—´æœ‰æ•°æ®äº¤äº’ï¼Œå¯èƒ½å› ç‰ˆæœ¬å·®å¼‚å¯¼è‡´æ•°æ®ä¸å…¼å®¹
  - è·¯ç”±è§„åˆ™è°ƒæ•´éœ€å‰ç«¯å‘ç‰ˆï¼ˆé™æ€è·¯ç”±åœºæ™¯ï¼‰

#### 6. åŸºäº A/B æµ‹è¯•å·¥å…·çš„ç°åº¦ï¼ˆç¬¬ä¸‰æ–¹å·¥å…·ï¼‰

- **å®ç°é€»è¾‘**ï¼šæ¥å…¥ç¬¬ä¸‰æ–¹ A/B æµ‹è¯•å·¥å…·ï¼ˆå¦‚ Optimizelyã€Google Optimizeï¼‰ï¼Œé€šè¿‡å·¥å…·é…ç½®ç°åº¦äººç¾¤å’Œç‰ˆæœ¬è§„åˆ™ï¼Œå·¥å…·åœ¨å‰ç«¯åŠ¨æ€æ›¿æ¢ DOMã€CSS æˆ– JS é€»è¾‘

- ä¼˜ç‚¹ï¼š

  - æ— éœ€å¼€å‘ä»‹å…¥ï¼Œäº§å“ / è¿è¥å¯ç›´æ¥é…ç½®ç°åº¦è§„åˆ™
  - è‡ªå¸¦æ•°æ®ç»Ÿè®¡åŠŸèƒ½ï¼Œå¯å¯¹æ¯”ä¸åŒç‰ˆæœ¬çš„è½¬åŒ–ã€ç•™å­˜ç­‰æŒ‡æ ‡
  - æ”¯æŒå¯è§†åŒ–ç¼–è¾‘ï¼ˆå¦‚æ‹–æ‹½ä¿®æ”¹é¡µé¢å…ƒç´ ï¼‰
  
- ç¼ºç‚¹ï¼š

  - ä¾èµ–ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œå¯èƒ½å­˜åœ¨æ€§èƒ½æŸè€—ï¼ˆé¢å¤–è„šæœ¬åŠ è½½ï¼‰
  - é«˜çº§åŠŸèƒ½éœ€ä»˜è´¹ï¼Œæˆæœ¬è¾ƒé«˜
  - å¤æ‚é€»è¾‘ä¿®æ”¹å—é™ï¼Œæ›´é€‚åˆ UI / äº¤äº’å±‚é¢çš„ç°åº¦

#### æ ¸å¿ƒå¯¹æ¯”æ€»ç»“

- **ä¼˜å…ˆé€‰ Feature Flag**ï¼šéœ€ç²¾å‡†æ§åˆ¶ã€é¢‘ç¹è°ƒæ•´åŠŸèƒ½ï¼Œæˆ–éœ€å¿«é€Ÿå›æ»šçš„åœºæ™¯ï¼›
- **ä¼˜å…ˆé€‰åç«¯åŠ¨æ€ç°åº¦**ï¼šç°åº¦è§„åˆ™å¤æ‚ï¼ˆå¦‚æŒ‰æ¯”ä¾‹ã€ç”¨æˆ·æ ‡ç­¾ï¼‰ï¼Œä¸”å‰åç«¯ååŒèƒ½åŠ›å¼ºçš„åœºæ™¯ï¼›
- **ä¼˜å…ˆé€‰èµ„æºç‰ˆæœ¬ç°åº¦**ï¼šå¤§ç‰ˆæœ¬æ›´æ–°ã€é‡æ„ï¼Œæˆ–éœ€å®Œå…¨éš”ç¦»æ–°æ—§é€»è¾‘çš„åœºæ™¯ï¼›
- **é¿å…è¿‡åº¦è®¾è®¡**ï¼šå°å‹é¡¹ç›®æˆ–ç®€å•ç°åº¦éœ€æ±‚ï¼Œç”¨ç”¨æˆ·å±æ€§é™æ€ç°åº¦å³å¯ï¼Œé™ä½æˆæœ¬ã€‚

## ç‰ˆæœ¬ç®¡ç†æ ¸å¿ƒåŸåˆ™

#### 1. å¯ç°åº¦ï¼šåˆ†é˜¶æ®µæ§åˆ¶å‘å¸ƒèŒƒå›´

- **æ ¸å¿ƒé€»è¾‘**ï¼šä¸ç›´æ¥å…¨é‡å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œè€Œæ˜¯é€šè¿‡ â€œåˆ†å±‚ã€åˆ†ç¾¤ã€åˆ†æ¯”ä¾‹â€ çš„æ–¹å¼é€æ­¥æ”¾é‡ï¼Œè®©éƒ¨åˆ†ç”¨æˆ·å…ˆä½“éªŒæ–°ç‰ˆæœ¬ï¼ŒéªŒè¯æ— é—®é¢˜åå†æ‰©å¤§èŒƒå›´ã€‚
- **æ ¸å¿ƒä»·å€¼**ï¼šå°†é£é™©é™åˆ¶åœ¨å°èŒƒå›´ï¼Œé¿å…å…¨é‡å‘å¸ƒæ—¶çš„å¤§è§„æ¨¡æ•…éšœã€‚

#### 2. å¯ç›‘æ§ï¼šå®æ—¶æ„ŸçŸ¥ç‰ˆæœ¬çŠ¶æ€

- **æ ¸å¿ƒé€»è¾‘**ï¼šæ–°ç‰ˆæœ¬å‘å¸ƒåï¼Œé€šè¿‡å¤šç»´åº¦ç›‘æ§æŒ‡æ ‡ï¼Œå®æ—¶æ£€æµ‹åŠŸèƒ½å¯ç”¨æ€§ã€æ€§èƒ½è¡¨ç°ã€ç”¨æˆ·è¡Œä¸ºå¼‚å¸¸ï¼ŒåŠæ—¶å‘ç°ç°åº¦ / å…¨é‡è¿‡ç¨‹ä¸­çš„é—®é¢˜ã€‚
- å‰ç«¯é‡ç‚¹ç›‘æ§æŒ‡æ ‡ï¼š
  - æŠ€æœ¯æŒ‡æ ‡ï¼šé¡µé¢åŠ è½½æ—¶é—´ï¼ˆLCP/FID/CLSï¼‰ã€JS é”™è¯¯ç‡ã€æ¥å£è¯·æ±‚æˆåŠŸç‡ã€èµ„æºåŠ è½½å¤±è´¥ç‡ï¼›
  - ä¸šåŠ¡æŒ‡æ ‡ï¼šæ ¸å¿ƒåŠŸèƒ½ç‚¹å‡»ç‡ã€è½¬åŒ–ç‡ã€ç”¨æˆ·ç•™å­˜ç‡ã€å¼‚å¸¸åé¦ˆé‡ï¼›
  - ç›‘æ§å·¥å…·ï¼šSentryï¼ˆé”™è¯¯ç›‘æ§ï¼‰ã€Datadog/New Relicï¼ˆæ€§èƒ½ç›‘æ§ï¼‰ã€ç™¾åº¦ç»Ÿè®¡ / GAï¼ˆç”¨æˆ·è¡Œä¸ºï¼‰ã€è‡ªå®šä¹‰åŸ‹ç‚¹å‘Šè­¦ã€‚
- **æ ¸å¿ƒä»·å€¼**ï¼šå¿«é€Ÿå®šä½é—®é¢˜ï¼ˆå¦‚æ–°ç‰ˆæœ¬å¯¼è‡´çš„ JS æŠ¥é”™ã€æ€§èƒ½ä¸‹æ»‘ï¼‰ï¼Œé¿å…é—®é¢˜æ‰©æ•£ã€‚

#### 3. å¯å›æ»šï¼šæ•…éšœæ—¶å¿«é€Ÿå…œåº•

- **æ ¸å¿ƒé€»è¾‘**ï¼šæå‰é¢„è®¾å›æ»šæ–¹æ¡ˆï¼Œå½“ç›‘æ§å‘ç°æ–°ç‰ˆæœ¬å­˜åœ¨ä¸¥é‡é—®é¢˜ï¼ˆå¦‚åŠŸèƒ½ä¸å¯ç”¨ã€æŠ¥é”™ç‡çªå¢ï¼‰æ—¶ï¼Œèƒ½åœ¨çŸ­æ—¶é—´å†…å°†ç³»ç»Ÿæ¢å¤åˆ°ç¨³å®šçš„æ—§ç‰ˆæœ¬ã€‚
- å‰ç«¯å›æ»šæ–¹å¼ï¼š
  - é™æ€èµ„æºå›æ»šï¼šåˆ‡æ¢ CDN èµ„æºè·¯å¾„è‡³æ—§ç‰ˆæœ¬ï¼ˆå¦‚ä»`v2.0.0/main.js`åˆ‡å›`v1.9.0/main.js`ï¼‰ï¼›
  - åŠŸèƒ½å¼€å…³å›æ»šï¼šç›´æ¥å…³é—­ Feature Flagï¼Œç¦ç”¨æ–°ç‰ˆæœ¬åŠŸèƒ½ï¼›
  - è·¯ç”±å›æ»šï¼šå°†ç°åº¦è·¯ç”±ï¼ˆå¦‚`/new-home`ï¼‰é‡å®šå‘è‡³æ—§ç‰ˆæœ¬è·¯ç”±ï¼ˆå¦‚`/home`ï¼‰ï¼›
  - éƒ¨ç½²å›æ»šï¼šé‡æ–°å‘å¸ƒæ—§ç‰ˆæœ¬æ„å»ºåŒ…ï¼ˆé€‚ç”¨äºæ‰“åŒ…éƒ¨ç½²åœºæ™¯ï¼‰ã€‚
- **æ ¸å¿ƒä»·å€¼**ï¼šé™ä½æ•…éšœå½±å“æ—¶é•¿ï¼Œå‡å°‘ç”¨æˆ·æŸå¤±ï¼Œæ˜¯ç‰ˆæœ¬å‘å¸ƒçš„ â€œå®‰å…¨å…œåº•â€ã€‚

## ç¨‹åºè®¾è®¡æ¨¡å¼

#### ä¸€ã€åˆ›å»ºå‹æ¨¡å¼ï¼ˆèšç„¦ â€œå¯¹è±¡åˆ›å»ºâ€ï¼Œç®€åŒ–åˆ›å»ºé€»è¾‘ï¼‰

**1. å•ä¾‹æ¨¡å¼**

- **æ ¸å¿ƒ**ï¼šä¿è¯ä¸€ä¸ªç±»ä»…åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå…¨å±€å¯è®¿é—®ã€‚
- **ä¾‹**ï¼šVuex çš„ store å®ä¾‹ã€Vue çš„å…¨å±€ EventBusã€æµè§ˆå™¨çš„`window`å¯¹è±¡ï¼Œå‡ä¸ºå•ä¾‹ï¼›é¡¹ç›®ä¸­å°è£…çš„å…¨å±€è¯·æ±‚å®ä¾‹ï¼ˆå¦‚ axiosï¼‰ä¹Ÿå¸¸ç”¨å•ä¾‹æ¨¡å¼ï¼Œé¿å…é‡å¤åˆ›å»ºè¯·æ±‚å¯¹è±¡ã€‚

**2. å·¥å‚æ¨¡å¼**

- **æ ¸å¿ƒ**ï¼šé€šè¿‡ â€œå·¥å‚æ–¹æ³•â€ å°è£…å¯¹è±¡åˆ›å»ºé€»è¾‘ï¼Œæ ¹æ®å…¥å‚è¿”å›ä¸åŒç±»å‹å¯¹è±¡ï¼Œæ— éœ€æš´éœ²åˆ›å»ºç»†èŠ‚ã€‚
- **ä¾‹**ï¼šVue ç»„ä»¶åº“ä¸­ï¼Œæ ¹æ®ä¼ å…¥çš„`type`å‚æ•°ï¼ˆå¦‚`primary`/`success`ï¼‰ç”Ÿæˆä¸åŒæ ·å¼çš„æŒ‰é’®ç»„ä»¶ï¼›å°è£…è¯·æ±‚å‡½æ•°æ—¶ï¼Œæ ¹æ®`method`ï¼ˆGET/POSTï¼‰è¿”å›ä¸åŒçš„è¯·æ±‚å®ä¾‹ã€‚

#### äºŒã€ç»“æ„å‹æ¨¡å¼ï¼ˆèšç„¦ â€œå¯¹è±¡ç»„åˆâ€ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ï¼‰

**1. ä»£ç†æ¨¡å¼**

- **æ ¸å¿ƒ**ï¼šä¸ºç›®æ ‡å¯¹è±¡æä¾›ä»£ç†ï¼Œæ§åˆ¶å¯¹ç›®æ ‡å¯¹è±¡çš„è®¿é—®ï¼ˆå¦‚æ‹¦æˆªã€å¢å¼ºæ“ä½œï¼‰ã€‚
- **ä¾‹**ï¼šVue 2 çš„å“åº”å¼åŸç†ï¼ˆObject.definePropertyï¼‰æœ¬è´¨æ˜¯ä»£ç†æ¨¡å¼ï¼Œä»£ç†æ•°æ®çš„è¯»å– / ä¿®æ”¹ï¼Œè§¦å‘ä¾èµ–æ”¶é›†å’Œæ›´æ–°ï¼›å›¾ç‰‡æ‡’åŠ è½½ï¼ˆä»£ç†å›¾ç‰‡åŠ è½½ï¼Œå…ˆåŠ è½½å ä½å›¾ï¼Œæ»šåŠ¨åˆ°å¯è§†åŒºå†åŠ è½½çœŸå®å›¾ç‰‡ï¼‰ã€‚

**2. è£…é¥°å™¨æ¨¡å¼**

- **æ ¸å¿ƒ**ï¼šä¸ä¿®æ”¹åŸå¯¹è±¡ï¼Œé€šè¿‡ â€œè£…é¥°â€ åŠ¨æ€æ‰©å±•å¯¹è±¡åŠŸèƒ½ã€‚
- **ä¾‹**ï¼šVue ä¸­çš„è£…é¥°å™¨è¯­æ³•ï¼ˆå¦‚`@Component`/`@Prop`ï¼‰ï¼Œæ‰©å±•ç»„ä»¶çš„å±æ€§å’Œè¡Œä¸ºï¼›ç»™æŒ‰é’®æ·»åŠ é˜²æŠ– / èŠ‚æµè£…é¥°å™¨ï¼Œä¸ä¿®æ”¹æŒ‰é’®ç‚¹å‡»é€»è¾‘ï¼Œä»…å¢å¼ºç‚¹å‡»è¡Œä¸ºã€‚

**3. é€‚é…å™¨æ¨¡å¼**

- **æ ¸å¿ƒ**ï¼šè½¬æ¢æ¥å£ï¼Œè®©ä¸å…¼å®¹çš„æ¥å£èƒ½ååŒå·¥ä½œã€‚
- **ä¾‹**ï¼šå°è£…ä¸åŒç«¯çš„ APIï¼ˆå¦‚ H5 å’Œå°ç¨‹åºçš„åˆ†äº«æ¥å£ï¼‰ï¼Œæä¾›ç»Ÿä¸€çš„`share`æ–¹æ³•é€‚é…å·®å¼‚ï¼›axios æ‹¦æˆªå™¨ä¸­è½¬æ¢åç«¯è¿”å›çš„å¼‚å¸¸æ ¼å¼ï¼Œé€‚é…å‰ç«¯ç»Ÿä¸€çš„é”™è¯¯å¤„ç†é€»è¾‘ã€‚

#### ä¸‰ã€è¡Œä¸ºå‹æ¨¡å¼ï¼ˆèšç„¦ â€œå¯¹è±¡äº¤äº’â€ï¼Œä¼˜åŒ–åä½œé€»è¾‘ï¼‰

**1. è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆå‘å¸ƒ - è®¢é˜…æ¨¡å¼ï¼‰**

- **æ ¸å¿ƒ**ï¼šè§‚å¯Ÿè€…è®¢é˜…äº‹ä»¶ï¼Œè¢«è§‚å¯Ÿè€…ï¼ˆå‘å¸ƒè€…ï¼‰è§¦å‘äº‹ä»¶æ—¶é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ï¼Œè§£è€¦å‘å¸ƒè€…å’Œè§‚å¯Ÿè€…ã€‚
- **å‰ç«¯ä¸¾ä¾‹**ï¼šVue çš„å“åº”å¼æ›´æ–°ï¼ˆæ•°æ®ä¸ºå‘å¸ƒè€…ï¼Œè§†å›¾ä¸ºè§‚å¯Ÿè€…ï¼Œæ•°æ®å˜åŒ–è§¦å‘è§†å›¾æ›´æ–°ï¼‰ï¼›EventBusï¼ˆ`$on`è®¢é˜… /`$emit`å‘å¸ƒï¼‰ï¼›æµè§ˆå™¨çš„ DOM äº‹ä»¶ï¼ˆå¦‚`addEventListener`è®¢é˜…ç‚¹å‡»äº‹ä»¶ï¼‰ã€‚

**2. ç­–ç•¥æ¨¡å¼**

- **æ ¸å¿ƒ**ï¼šå®šä¹‰å¤šä¸ªç®—æ³• / ç­–ç•¥ï¼Œå°è£…åå¯æŒ‰éœ€åˆ‡æ¢ï¼Œé¿å…å¤§é‡`if-else`ã€‚
- **å‰ç«¯ä¸¾ä¾‹**ï¼šè¡¨å•éªŒè¯ï¼ˆæ ¹æ®ä¸åŒå­—æ®µç±»å‹ï¼Œåˆ‡æ¢æ‰‹æœºå· / é‚®ç®± / å¯†ç çš„éªŒè¯ç­–ç•¥ï¼‰ï¼›æ ¹æ®ç¯å¢ƒï¼ˆå¼€å‘ / æµ‹è¯• / ç”Ÿäº§ï¼‰åˆ‡æ¢ä¸åŒçš„æ¥å£åŸŸåç­–ç•¥ã€‚

**3. è¿­ä»£å™¨æ¨¡å¼**

- **æ ¸å¿ƒ**ï¼šæä¾›ç»Ÿä¸€æ–¹å¼éå†ä¸åŒç»“æ„çš„æ•°æ®ï¼ˆå¦‚æ•°ç»„ã€å¯¹è±¡ã€Setï¼‰ï¼Œæ— éœ€å…³å¿ƒæ•°æ®å†…éƒ¨ç»“æ„ã€‚
- **å‰ç«¯ä¸¾ä¾‹**ï¼šES6 çš„`for...of`éå†å™¨ï¼ˆå¯éå†æ•°ç»„ã€Mapã€Set ç­‰ï¼‰ï¼›Vue çš„`v-for`æŒ‡ä»¤ï¼Œç»Ÿä¸€éå†æ•°ç»„ / å¯¹è±¡ï¼Œå±è”½æ•°æ®ç»“æ„å·®å¼‚ã€‚

## æ¶æ„è®¾è®¡æ¨¡å¼

| æ¨¡å¼     | ä»‹ç»                                                         | ä»£è¡¨æ¡†æ¶ / åœºæ™¯                        |
| -------- | ------------------------------------------------------------ | -------------------------------------- |
| **MVX**  | Modelï¼ˆæ•°æ®ï¼‰+ Viewï¼ˆè§†å›¾ï¼‰+ Xï¼ˆä¸­é—´å±‚ï¼‰çš„**æ€»ç§°**ï¼Œæ˜¯åˆ†å±‚è§£è€¦æ¶æ„çš„ç»Ÿç§°ï¼ŒX æ˜¯å˜é‡ï¼ŒåŒ…å« MVC/MVP/MVVM ç­‰å˜ç§ | æ‰€æœ‰åˆ†å±‚æ¶æ„çš„å®¢æˆ·ç«¯ / å‰ç«¯é¡¹ç›®        |
| **MVC**  | Model + View + Controllerï¼ˆæ§åˆ¶å™¨ï¼‰View è§¦å‘äº‹ä»¶â†’Controller å¤„ç†â†’æ“ä½œ Modelâ†’æ‰‹åŠ¨æ›´æ–° ViewView ä¸ Model å¯ç›´æ¥é€šä¿¡ | jQueryã€Backbone.jsã€æ—©æœŸ Android å¼€å‘ |
| **MVP**  | Model + View + Presenterï¼ˆä¸­é—´äººï¼‰View ä¸ Model å®Œå…¨éš”ç¦»ï¼Œå…¨é  Presenter ä¸­è½¬å¤„ç†ã€æ›´æ–° View | ä¸­å¤§å‹ Android åº”ç”¨ã€WinForm å¼€å‘      |
| **MVVM** | Model + View + ViewModelï¼ˆæ•°æ®æ¡¥æ¢ï¼‰View ä¸ ViewModel **åŒå‘ç»‘å®š**ï¼Œæ•°æ®å˜åŒ–è‡ªåŠ¨åŒæ­¥ï¼Œæ— éœ€æ‰‹åŠ¨æ›´æ–° | Vueã€Angularã€Reactï¼ˆè¿‘ä¼¼ï¼‰ã€SwiftUI   |

**å¯¹æ¯”**

| å¯¹æ¯”ç»´åº¦          | MVC                  | MVP                   | MVVMï¼ˆå‰ç«¯ä¸»æµï¼‰      |
| ----------------- | -------------------- | --------------------- | --------------------- |
| æœ¬è´¨å®šä½          | åŸºç¡€åˆ†å±‚æ¨¡å¼         | MVC çš„è§£è€¦å‡çº§ç‰ˆ      | å‰ç«¯ä¸»æµåŒå‘ç»‘å®šæ¨¡å¼  |
| ä¸­é—´å±‚è§’è‰²        | Controllerï¼ˆè°ƒåº¦è€…ï¼‰ | Presenterï¼ˆæ‰‹åŠ¨ä¸­è½¬ï¼‰ | ViewModelï¼ˆè‡ªåŠ¨ç»‘å®šï¼‰ |
| View-Model è€¦åˆåº¦ | å¼±è€¦åˆï¼ˆå¯ç›´æ¥é€šä¿¡ï¼‰ | å®Œå…¨è§£è€¦              | å®Œå…¨è§£è€¦              |
| æ•°æ®åŒæ­¥æ–¹å¼      | æ‰‹åŠ¨æ›´æ–° View        | æ‰‹åŠ¨è°ƒç”¨ View æ–¹æ³•    | è‡ªåŠ¨åŒå‘ç»‘å®š          |
| å‰ç«¯é€‚é…æ€§        | ä½ï¼ˆéœ€æ“ä½œ DOMï¼‰     | ä¸­ï¼ˆéœ€å†™æ›´æ–°é€»è¾‘ï¼‰    | é«˜ï¼ˆæ¡†æ¶å°è£…ï¼‰        |
| å¯æµ‹è¯•æ€§          | ä¸€èˆ¬                 | é«˜                    | é«˜                    |

**æ€»ç»“**

- MVXï¼šåˆ†å±‚è§£è€¦æ¶æ„çš„ â€œå¤§å®¶æ—æ€»ç§°â€ï¼›
- MVCï¼šæ§åˆ¶å™¨ç®¡æ‰€æœ‰ï¼Œè§†å›¾æ•°æ®èƒ½ç›´æ¥èŠï¼›
- MVPï¼šä¸­é—´äººåšä¸­è½¬ï¼Œè§†å›¾æ•°æ®ä¸è¯´è¯ï¼›
- MVVMï¼šåŒå‘ç»‘å®šçœåŠ›æ°”ï¼Œæ•°æ®è§†å›¾è‡ªåŠ¨æ›´ã€‚

# JavaScript

## proxy ç¼ºç‚¹

- å…¼å®¹æ€§ï¼šä¸æ”¯æŒIEæµè§ˆå™¨
- æ€§èƒ½ï¼šå¤„ç†å¤§é‡æ•°æ®æˆ–é¢‘ç¹æ“ä½œå¯¹è±¡ä¼šæ¯”Object.definePropertyç¨å·®
- è°ƒè¯•ï¼šä¸å®¹æ˜“çœ‹å‡ºæ˜¯å“ªé‡Œè§¦å‘äº†æ‹¦æˆª

## Argumentså¯¹è±¡

- åŒ…å«å‡½æ•°è°ƒç”¨æ—¶çš„æ‰€æœ‰å®å‚
- æœ‰lengthå±æ€§ï¼Œä½†ä¸èƒ½ç”¨æ•°ç»„æ–¹æ³•

## ES6 å†…å®¹

1. let/const å£°æ˜
   - å—çº§ä½œç”¨åŸŸå˜é‡ / å¸¸é‡ï¼Œè§£å†³ var å˜é‡æå‡å’Œä½œç”¨åŸŸæ±¡æŸ“é—®é¢˜ï¼Œconst å£°æ˜åªè¯»å¸¸é‡ï¼ˆå¼•ç”¨ç±»å‹å†…éƒ¨å¯ä¿®æ”¹ï¼‰ã€‚
2. ç®­å¤´å‡½æ•°
   - ç®€æ´å‡½æ•°å†™æ³• `() => {}`ï¼Œæ— ç‹¬ç«‹ thisï¼ˆç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸ thisï¼‰ï¼Œä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼Œé€‚åˆç®€çŸ­å›è°ƒã€‚
3. è§£æ„èµ‹å€¼
   - å¿«é€Ÿä»æ•°ç»„ / å¯¹è±¡ä¸­æå–å€¼å¹¶èµ‹å€¼ç»™å˜é‡ï¼Œå¦‚ `let [a,b] = [1,2]`ã€`let {name} = {name: 'test'}`ï¼Œç®€åŒ–æ•°æ®è¯»å–ã€‚
4. æ¨¡æ¿å­—ç¬¦ä¸²
   - åå¼•å· ``` åŒ…è£¹ï¼Œæ”¯æŒæ¢è¡Œå’Œå˜é‡æ’å€¼ `${å˜é‡}`ï¼Œæ›¿ä»£ä¼ ç»Ÿå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¦‚ ``å§“åï¼š${name}``ã€‚
5. å¯¹è±¡å­—é¢é‡å¢å¼º
   - æ”¯æŒå±æ€§ç®€å†™ï¼ˆ`{name}` ç­‰ä»·äº `{name:name}`ï¼‰ã€æ–¹æ³•ç®€å†™ï¼ˆ`{fn(){}}`ï¼‰ã€è®¡ç®—å±æ€§åï¼ˆ`{[key]: value}`ï¼‰ï¼Œç®€åŒ–å¯¹è±¡å®šä¹‰ã€‚
6. Class ç±»
   - æä¾›é¢å‘å¯¹è±¡ç¼–ç¨‹çš„è¯­æ³•ç³–ï¼ŒåŸºäºåŸå‹é“¾å®ç°ï¼Œæ”¯æŒ `class` å®šä¹‰ç±»ã€`constructor` æ„é€ å™¨ã€`extends` ç»§æ‰¿ï¼Œè®©é¢å‘å¯¹è±¡ä»£ç æ›´æ¸…æ™°ã€‚
7. æ¨¡å—åŒ–ï¼ˆES Moduleï¼‰
   - å¼•å…¥ `import/export` å®ç°æ¨¡å—éš”ç¦»ï¼Œæ”¯æŒæŒ‰éœ€å¯¼å…¥å¯¼å‡ºï¼Œæ›¿ä»£ CommonJS/AMD ç­‰æ–¹æ¡ˆï¼Œæˆä¸ºå‰ç«¯æ¨¡å—åŒ–æ ‡å‡†ã€‚
8. Promise
   - å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆï¼Œè§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ï¼Œé€šè¿‡ `new Promise((resolve,reject)=>{})` å°è£…å¼‚æ­¥æ“ä½œï¼Œæ”¯æŒ `then/catch/finally` é“¾å¼è°ƒç”¨ã€‚
9. Set/Map æ•°æ®ç»“æ„
   - **Set**ï¼šå­˜å‚¨å”¯ä¸€å€¼çš„é›†åˆï¼Œå®ç°æ•°ç»„å»é‡ï¼›**Map**ï¼šé”®å€¼å¯¹é›†åˆï¼Œé”®æ”¯æŒä»»æ„ç±»å‹ï¼ˆçªç ´å¯¹è±¡é”®ä»…ä¸ºå­—ç¬¦ä¸² / ç¬¦å·çš„é™åˆ¶ï¼‰ã€‚
10. WeakSet/WeakMap
    - å¼±å¼•ç”¨ç‰ˆæœ¬çš„ Set/Mapï¼Œé”® / å€¼ä»…æ”¯æŒå¯¹è±¡ï¼Œä¸é˜»æ­¢åƒåœ¾å›æ”¶ï¼Œé€‚åˆå­˜å‚¨ä¸´æ—¶å…³è”æ•°æ®ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚
11. Symbol æ•°æ®ç±»å‹
    - æ–°å¢åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç”Ÿæˆå”¯ä¸€æ ‡è¯†ï¼Œç”¨äºå®šä¹‰å¯¹è±¡ç§æœ‰å±æ€§æˆ–é¿å…å±æ€§åå†²çªï¼Œå¦‚ `const key = Symbol()`ã€‚
12. Generator å‡½æ•°
    - ç”¨ `function*` å®šä¹‰ï¼Œé€šè¿‡ `yield` å®ç°å‡½æ•°æ‰§è¡Œçš„æš‚åœ / æ¢å¤ï¼Œæ”¯æŒæ•°æ®åŒå‘ä¼ é€’ï¼Œæ˜¯ async/await çš„åº•å±‚åŸºç¡€ã€‚
13. æ‰©å±•è¿ç®—ç¬¦ / å‰©ä½™å‚æ•°
    - **æ‰©å±•è¿ç®—ç¬¦** `...`ï¼šå±•å¼€æ•°ç»„ / å¯¹è±¡ï¼Œå¦‚ `Math.max(...arr)`ã€`{...obj}`ï¼›**å‰©ä½™å‚æ•°**ï¼šæ”¶é›†å‡½æ•°å¤šä½™å‚æ•°ä¸ºæ•°ç»„ï¼Œå¦‚ `fn(...args)`ã€‚
14. é»˜è®¤å‚æ•°
    - å‡½æ•°å‚æ•°æ”¯æŒè®¾ç½®é»˜è®¤å€¼ï¼Œå¦‚ `function fn(a=10){}`ï¼Œç®€åŒ–å‚æ•°é»˜è®¤é€»è¾‘ã€‚
15. for...of å¾ªç¯
    - éå†å¯è¿­ä»£å¯¹è±¡ï¼ˆæ•°ç»„ã€Setã€Map ç­‰ï¼‰ï¼Œæ”¯æŒä¸­æ–­å¾ªç¯ï¼Œæ¯” for...in æ›´é€‚åˆéå†å€¼ã€‚

## åŸå‹å’ŒåŸå‹é“¾

- æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåŸå‹ï¼ŒåŸå‹ä¹Ÿæ˜¯å¯¹è±¡
- åŸå‹é“¾æ˜¯é“¾å¼ç»“æ„ï¼Œç»ˆç‚¹æ˜¯null
- JavaScriptå®ç°ç»§æ‰¿çš„æ ¸å¿ƒæœºåˆ¶

## äº‹ä»¶ä»£ç†

- åˆ©ç”¨äº‹ä»¶å†’æ³¡æœºåˆ¶
- å­å…ƒç´ äº‹ä»¶ç»Ÿä¸€ç»‘å®šåˆ°çˆ¶å…ƒç´ 
- åŠ¨æ€æ·»åŠ å…ƒç´ æ— éœ€é‡æ–°ç»‘å®š
- å‡å°‘å†…å­˜å ç”¨

## entries

#### å®šä¹‰

`entries()` æ˜¯ JavaScript ä¸­**å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚ Arrayã€Mapã€Setï¼‰** çš„å†…ç½®æ–¹æ³•ï¼Œç”¨äºè¿”å›ä¸€ä¸ª**è¿­ä»£å™¨å¯¹è±¡**ï¼Œè¯¥è¿­ä»£å™¨ä¼šæŒ‰é¡ºåºç”ŸæˆåŒ…å«å¯è¿­ä»£å¯¹è±¡ä¸­ã€Œé”®å€¼å¯¹ã€çš„æ•°ç»„ï¼ˆæ ¼å¼ï¼š`[é”®, å€¼]`ï¼‰ã€‚

- è°ƒç”¨åä¸ä¼šä¿®æ”¹åŸå¯¹è±¡ï¼Œä»…è¿”å›è¿­ä»£å™¨ã€‚
- éœ€é…åˆ `for...of`ã€`next()` ç­‰è¿­ä»£æ–¹å¼ä½¿ç”¨ã€‚

#### ä¸åŒå¯¹è±¡ä¸­ `entries()` çš„ä½œç”¨ä¸å·®å¼‚

1. æ•°ç»„ï¼ˆArrayï¼‰çš„ `entries()`

- **è¿”å›å€¼**ï¼šè¿­ä»£å™¨ï¼Œæ¯æ¬¡è¿­ä»£ç”Ÿæˆ `[ç´¢å¼•, å…ƒç´ å€¼]` æ•°ç»„ï¼ˆç´¢å¼•ä¸ºæ•°å­—ï¼Œä» 0 å¼€å§‹ï¼‰

  ```javascript
  const arr = ['a', 'b', 'c'];
  const iterator = arr.entries();
  for (const entry of iterator) {
    console.log(entry); // [0, 'a'] â†’ [1, 'b'] â†’ [2, 'c']
  }
  ```

- **ä½œç”¨**ï¼šåŒæ—¶è·å–æ•°ç»„çš„ç´¢å¼•å’Œå¯¹åº”å…ƒç´ ï¼Œé€‚åˆéœ€è¦ç´¢å¼•å‚ä¸çš„éå†åœºæ™¯ï¼ˆå¦‚ä¿®æ”¹ç‰¹å®šä½ç½®å…ƒç´ ã€ç»Ÿè®¡å…ƒç´ ä½ç½®ï¼‰

2. Map çš„ `entries()`

- **è¿”å›å€¼**ï¼šè¿­ä»£å™¨ï¼Œæ¯æ¬¡è¿­ä»£ç”Ÿæˆ `[é”®, å€¼]` æ•°ç»„ï¼ˆMap ä¸­ã€Œé”®ã€å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼‰

  ```javascript
  const map = new Map();
  map.set('name', 'Alice');
  map.set('age', 20);
  for (const entry of map.entries()) {
    console.log(entry); // ['name', 'Alice'] â†’ ['age', 20]
  }
  ```

- **ä½œç”¨**ï¼šéå† Map ä¸­çš„æ‰€æœ‰é”®å€¼å¯¹ï¼Œæ˜¯ Map é»˜è®¤çš„è¿­ä»£æ–¹å¼ï¼ˆç›´æ¥ `for...of map` ç­‰æ•ˆäº `map.entries()`ï¼‰

3. Set çš„ `entries()`

- **è¿”å›å€¼**ï¼šè¿­ä»£å™¨ï¼Œæ¯æ¬¡è¿­ä»£ç”Ÿæˆ `[å€¼, å€¼]` æ•°ç»„ï¼ˆSet ä¸­æ— é”®ï¼Œé”®å’Œå€¼ç›¸åŒï¼‰

  ```javascript
  const set = new Set(['x', 'y']);
  for (const entry of set.entries()) {
    console.log(entry); // ['x', 'x'] â†’ ['y', 'y']
  }
  ```

- **ä½œç”¨**ï¼šä¿æŒä¸å…¶ä»–å¯è¿­ä»£å¯¹è±¡ API ä¸€è‡´æ€§ï¼Œå®é™…ç”¨é€”è¾ƒå°‘ï¼ˆé€šå¸¸ç›´æ¥ç”¨ `values()` éå† Set å€¼ï¼‰

#### åº”ç”¨åœºæ™¯

1. **æ•°ç»„éå†éœ€ç´¢å¼•æ—¶**ï¼šæ›¿ä»£ `for` å¾ªç¯ï¼Œæ›´ç®€æ´åœ°åŒæ—¶è·å–ç´¢å¼•å’Œå…ƒç´ ï¼Œä¾‹å¦‚ï¼š

   ```javascript
   // è¿‡æ»¤å¹¶è®°å½•ç¬¦åˆæ¡ä»¶å…ƒç´ çš„ç´¢å¼•
   const arr = [10, 25, 8, 30];
   const result = [];
   for (const [index, value] of arr.entries()) {
     if (value > 20) {
       result.push({ index, value }); // è®°å½•ç´¢å¼•å’Œå€¼
     }
   }
   ```
   
2. **Map é”®å€¼å¯¹æ‰¹é‡å¤„ç†**ï¼šä¾‹å¦‚å°† Map è½¬æ¢ä¸ºå¯¹è±¡ï¼ˆé€‚åˆé”®ä¸ºå­—ç¬¦ä¸²çš„åœºæ™¯ï¼‰ï¼š

   ```javascript
const map = new Map([['id', 1], ['name', 'Bob']]);
   const obj = {};
for (const [key, value] of map.entries()) {
     obj[key] = value; // { id: 1, name: 'Bob' }
}
   ```

3. **å®ç°å¯è¿­ä»£å¯¹è±¡çš„ç»Ÿä¸€éå†é€»è¾‘**ï¼šå½“éœ€è¦å…¼å®¹æ•°ç»„ã€Map ç­‰å¤šç§å¯è¿­ä»£å¯¹è±¡æ—¶ï¼Œç”¨ `entries()` å¯ç»Ÿä¸€å¤„ç†ã€Œé”®å€¼å¯¹ã€æ ¼å¼ï¼Œä¾‹å¦‚é€šç”¨çš„æ—¥å¿—æ‰“å°å·¥å…·ï¼š

   ```javascript
   function logEntries(iterable) {
     for (const [key, value] of iterable.entries()) {
       console.log(`é”®: ${key}, å€¼: ${value}`);
     }
   }
   // åŒæ—¶æ”¯æŒæ•°ç»„ã€Map
   logEntries(['a', 'b']);
   logEntries(new Map([['x', 1]]));
   ```
   

#### æ€»ç»“

- **æœ¬è´¨**ï¼šæä¾›ç»Ÿä¸€çš„ã€Œé”®å€¼å¯¹è¿­ä»£ã€æ¥å£ï¼Œè®©ä¸åŒå¯è¿­ä»£å¯¹è±¡çš„éå†é€»è¾‘ä¸€è‡´ã€‚
- **å…³é”®å·®å¼‚**ï¼šä¸åŒå¯¹è±¡çš„ `entries()` è¿”å›çš„ã€Œé”®ã€å«ä¹‰ä¸åŒï¼ˆæ•°ç»„æ˜¯ç´¢å¼•ï¼ŒMap æ˜¯è‡ªå®šä¹‰é”®ï¼ŒSet æ˜¯å€¼æœ¬èº«ï¼‰ã€‚
- **ä½¿ç”¨åŸåˆ™**ï¼šéœ€è¦åŒæ—¶å¤„ç†ã€Œé”® / ç´¢å¼•ã€å’Œã€Œå€¼ã€æ—¶ä½¿ç”¨ï¼Œå•çº¯éå†å€¼ä¼˜å…ˆç”¨ `values()`ï¼Œå•çº¯éå†é”®ä¼˜å…ˆç”¨ `keys()`ã€‚

## Seté›†åˆï¼ˆæ— åºã€å”¯ä¸€å€¼çš„é›†åˆï¼‰

- **`add(value)`**

  ä½œç”¨ï¼šå‘ Set ä¸­æ·»åŠ å…ƒç´ ï¼ˆå€¼å”¯ä¸€ï¼Œé‡å¤æ·»åŠ æ— æ•ˆï¼‰

  è¿”å›å€¼ï¼šSet æœ¬èº«ï¼ˆå¯é“¾å¼è°ƒç”¨ï¼‰

  ```javascript
  const set = new Set();
  set.add(1).add(2); // ç»“æœï¼šSet {1, 2}
  ```

- **`delete(value)`**

  ä½œç”¨ï¼šåˆ é™¤æŒ‡å®šå…ƒç´ 

  è¿”å›å€¼ï¼šåˆ é™¤æˆåŠŸè¿”å› `true`ï¼Œå¦åˆ™ `false`

  ```javascript
  set.delete(1); // trueï¼ŒSet å˜ä¸º {2}
  ```

- **`has(value)`**

  ä½œç”¨ï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨äº Set ä¸­

  è¿”å›å€¼ï¼š`true`ï¼ˆå­˜åœ¨ï¼‰æˆ– `false`ï¼ˆä¸å­˜åœ¨ï¼‰

  ```javascript
  set.has(2); // true
  ```

- **`clear()`**

  ä½œç”¨ï¼šæ¸…ç©º Set ä¸­æ‰€æœ‰å…ƒç´ 

  ```javascript
  set.clear(); // Set å˜ä¸ºç©º
  ```

- **`size`ï¼ˆå±æ€§ï¼Œéæ–¹æ³•ï¼‰**

  ä½œç”¨ï¼šè·å– Set ä¸­å…ƒç´ çš„æ•°é‡

  ```javascript
  new Set([1, 2, 3]).size; // 3
  ```

- **`forEach(callback[, thisArg])`**

  ä½œç”¨ï¼šéå† Set ä¸­æ‰€æœ‰å…ƒç´ ï¼ˆå›è°ƒå‚æ•°ï¼š`value, value, set`ï¼Œå›  Set æ— é”®ï¼Œé”®å€¼ç›¸åŒï¼‰

  ```javascript
  new Set([1, 2]).forEach((val) => console.log(val)); // 1 â†’ 2
  ```

- **`keys()` / `values()` / `entries()`**

  ä½œç”¨ï¼šè¿”å›è¿­ä»£å™¨ï¼ˆSet ä¸­ `keys()` ä¸ `values()` æ•ˆæœä¸€è‡´ï¼Œ`entries()` è¿”å› `[value, value]`ï¼‰ã€‚

  ```javascript
  const iter = new Set([1, 2]).entries();
  iter.next(); // { value: [1, 1], done: false }
  ```

## Map æ˜ å°„ï¼ˆé”®å€¼å¯¹é›†åˆï¼Œé”®å¯ä»»æ„ç±»å‹ï¼‰

- **`set(key, value)`**

  ä½œç”¨ï¼šå‘ Map ä¸­æ·»åŠ é”®å€¼å¯¹ï¼ˆé”®å”¯ä¸€ï¼Œé‡å¤è®¾ç½®ä¼šè¦†ç›–æ—§å€¼ï¼‰

  è¿”å›å€¼ï¼šMap æœ¬èº«ï¼ˆå¯é“¾å¼è°ƒç”¨ï¼‰

  ```javascript
  const map = new Map();
  map.set('name', 'Alice').set('age', 20); // Map { 'name' => 'Alice', 'age' => 20 }
  ```

- **`get(key)`**

  ä½œç”¨ï¼šè·å–æŒ‡å®šé”®å¯¹åº”çš„å€¼

  è¿”å›å€¼ï¼šé”®å­˜åœ¨åˆ™è¿”å›å¯¹åº”å€¼ï¼Œå¦åˆ™ `undefined`

  ```javascript
  map.get('name'); // 'Alice'
  ```

- **`delete(key)`**

  ä½œç”¨ï¼šåˆ é™¤æŒ‡å®šé”®çš„é”®å€¼å¯¹

  è¿”å›å€¼ï¼šåˆ é™¤æˆåŠŸè¿”å› `true`ï¼Œå¦åˆ™ `false`

  ```javascript
  map.delete('age'); // trueï¼ŒMap å˜ä¸º { 'name' => 'Alice' }
  ```

- **`has(key)`**

  ä½œç”¨ï¼šåˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨äº Map ä¸­

  è¿”å›å€¼ï¼š`true`ï¼ˆå­˜åœ¨ï¼‰æˆ– `false`ï¼ˆä¸å­˜åœ¨ï¼‰

  ```javascript
  map.has('name'); // true
  ```

- **`clear()`**

  ä½œç”¨ï¼šæ¸…ç©º Map ä¸­æ‰€æœ‰é”®å€¼å¯¹

  æ— è¿”å›å€¼

  ```javascript
  map.clear(); // Map å˜ä¸ºç©º
  ```

- **`size`ï¼ˆå±æ€§ï¼Œéæ–¹æ³•ï¼‰**

  ä½œç”¨ï¼šè·å– Map ä¸­é”®å€¼å¯¹çš„æ•°é‡

  ```javascript
  new Map([['a', 1], ['b', 2]]).size; // 2
  ```

- **`forEach(callback[, thisArg])`**

  ä½œç”¨ï¼šéå† Map ä¸­æ‰€æœ‰é”®å€¼å¯¹ï¼ˆå›è°ƒå‚æ•°ï¼š`value, key, map`ï¼‰

  ```javascript
  new Map([['a', 1]]).forEach((val, key) => console.log(key, val)); // 'a' 1
  ```

- **`keys()` / `values()` / `entries()`**

  ä½œç”¨ï¼šè¿”å›è¿­ä»£å™¨ï¼ˆ`keys()` éå†é”®ï¼Œ`values()` éå†å€¼ï¼Œ`entries()` éå† `[key, value]`ï¼‰ã€‚

  ```javascript
  const iter = new Map([['a', 1]]).entries();
  iter.next(); // { value: ['a', 1], done: false }
  ```

## Map ä¸ WeakMap

#### 1. æ ¸å¿ƒå·®å¼‚

| ç‰¹æ€§         | Map                                              | WeakMap                                                      |
| ------------ | ------------------------------------------------ | ------------------------------------------------------------ |
| **é”®çš„ç±»å‹** | ä»»æ„ç±»å‹ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ã€å‡½æ•°ç­‰ï¼‰           | ä»…æ”¯æŒ**å¯¹è±¡ç±»å‹**ï¼ˆnull é™¤å¤–ï¼‰                              |
| **å¼•ç”¨ç‰¹æ€§** | å¯¹é”®å¯¹è±¡æ˜¯**å¼ºå¼•ç”¨**                             | å¯¹é”®å¯¹è±¡æ˜¯**å¼±å¼•ç”¨**                                         |
| **å¯éå†æ€§** | å¯éå†ï¼ˆforEachã€for...ofã€keys/values/entriesï¼‰ | ä¸å¯éå†ï¼ˆæ— éå†æ–¹æ³•ã€æ—  size å±æ€§ï¼‰                         |
| **åƒåœ¾å›æ”¶** | é”®å¯¹è±¡å³ä½¿æ— å…¶ä»–å¼•ç”¨ï¼ŒMap ä»æŒæœ‰ï¼Œä¸ä¼šè¢«å›æ”¶     | é”®å¯¹è±¡æ— å…¶ä»–å¼ºå¼•ç”¨æ—¶ï¼Œä¼šè¢«åƒåœ¾å›æ”¶ï¼Œå¯¹åº”é”®å€¼å¯¹è‡ªåŠ¨ä» WeakMap ç§»é™¤ |
| **é¢å¤–æ–¹æ³•** | æ”¯æŒ clear () æ¸…ç©ºæ‰€æœ‰é”®å€¼å¯¹                     | æ—  clear () æ–¹æ³•ï¼ˆES2021 ä¹Ÿæœªæ·»åŠ ï¼‰                          |

#### 2. æ ¸å¿ƒä½œç”¨

- **Map**ï¼šé€‚ç”¨äºéœ€è¦**æŒä¹…å­˜å‚¨é”®å€¼å¯¹**ã€**éå†é”®å€¼å¯¹**ã€**é”®ç±»å‹å¤šæ ·**çš„åœºæ™¯ï¼ˆå¦‚ç¼“å­˜å›ºå®šæ•°æ®ã€å­˜å‚¨è‡ªå®šä¹‰é”®çš„æ˜ å°„å…³ç³»ï¼‰ã€‚
- **WeakMap**ï¼šé€‚ç”¨äº**ä¸´æ—¶å…³è”å¯¹è±¡æ•°æ®**çš„åœºæ™¯ï¼ˆå¦‚ DOM å…ƒç´ çš„é™„åŠ æ•°æ®ã€ç±»çš„ç§æœ‰å±æ€§ã€é¿å…å†…å­˜æ³„æ¼çš„ç¼“å­˜ï¼‰ï¼Œå› ä¸ºå¼±å¼•ç”¨ç‰¹æ€§ä¸ä¼šé˜»æ­¢é”®å¯¹è±¡è¢«åƒåœ¾å›æ”¶ã€‚

## Set ä¸ WeakSet

#### 1. æ ¸å¿ƒå·®å¼‚

| ç‰¹æ€§         | Set                                          | WeakSet                                                 |
| ------------ | -------------------------------------------- | ------------------------------------------------------- |
| **å€¼çš„ç±»å‹** | ä»»æ„ç±»å‹ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ã€å‡½æ•°ç­‰ï¼‰       | ä»…æ”¯æŒ**å¯¹è±¡ç±»å‹**ï¼ˆnull é™¤å¤–ï¼‰                         |
| **å¼•ç”¨ç‰¹æ€§** | å¯¹å€¼å¯¹è±¡æ˜¯**å¼ºå¼•ç”¨**                         | å¯¹å€¼å¯¹è±¡æ˜¯**å¼±å¼•ç”¨**                                    |
| **å¯éå†æ€§** | å¯éå†ï¼ˆforEachã€for...ofã€keys/valuesï¼‰     | ä¸å¯éå†ï¼ˆæ— éå†æ–¹æ³•ã€æ—  size å±æ€§ï¼‰                    |
| **åƒåœ¾å›æ”¶** | å€¼å¯¹è±¡å³ä½¿æ— å…¶ä»–å¼•ç”¨ï¼ŒSet ä»æŒæœ‰ï¼Œä¸ä¼šè¢«å›æ”¶ | å€¼å¯¹è±¡æ— å…¶ä»–å¼ºå¼•ç”¨æ—¶ï¼Œä¼šè¢«åƒåœ¾å›æ”¶ï¼Œè‡ªåŠ¨ä» WeakSet ç§»é™¤ |
| **é¢å¤–æ–¹æ³•** | æ”¯æŒ clear () æ¸…ç©ºæ‰€æœ‰å€¼                     | æ—  clear () æ–¹æ³•                                        |

#### 2. æ ¸å¿ƒä½œç”¨

- **Set**ï¼šé€‚ç”¨äºéœ€è¦**å»é‡**ã€**éå†å”¯ä¸€å€¼é›†åˆ**ã€**å€¼ç±»å‹å¤šæ ·**çš„åœºæ™¯ï¼ˆå¦‚æ•°ç»„å»é‡ã€å­˜å‚¨å”¯ä¸€çš„åŸå§‹å€¼ / å¯¹è±¡ï¼‰ã€‚
- **WeakSet**ï¼šé€‚ç”¨äº**å­˜å‚¨ä¸´æ—¶å¯¹è±¡é›†åˆ**çš„åœºæ™¯ï¼ˆå¦‚è·Ÿè¸ª DOM å…ƒç´ ã€æ ‡è®°ä¸´æ—¶å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼‰ï¼Œå¼±å¼•ç”¨ç‰¹æ€§é¿å…å†…å­˜æ³„æ¼ã€‚

## Mapã€WeakMapã€Setã€WeakSetæ¸…é™¤åï¼Œå†…éƒ¨å¯¹è±¡æ˜¯å¦è¢«æ¸…é™¤ï¼Ÿ

éœ€åˆ†ã€Œä¸»åŠ¨æ¸…é™¤ã€å’Œã€Œåƒåœ¾å›æ”¶è§¦å‘ã€ä¸¤ç§åœºæ™¯åˆ†æï¼š

#### 1. ä¸»åŠ¨è°ƒç”¨ clear ()ï¼ˆä»… Map/Set æ”¯æŒï¼‰

- **Map/Set**ï¼šè°ƒç”¨ `clear()` åï¼Œä¼šç§»é™¤å†…éƒ¨æ‰€æœ‰é”®å€¼å¯¹ / å€¼ï¼Œå¯¹å†…éƒ¨å¯¹è±¡çš„**å¼ºå¼•ç”¨è¢«è§£é™¤**ã€‚æ­¤æ—¶è‹¥è¿™äº›å¯¹è±¡æ— å…¶ä»–å¼ºå¼•ç”¨ï¼Œä¼šè¢«åƒåœ¾å›æ”¶ï¼›è‹¥æœ‰å…¶ä»–å¼ºå¼•ç”¨ï¼ˆå¦‚å¤–éƒ¨å˜é‡æŒ‡å‘ï¼‰ï¼Œåˆ™å¯¹è±¡ä¸ä¼šè¢«æ¸…é™¤ã€‚
- **WeakMap/WeakSet**ï¼šæ—  `clear()` æ–¹æ³•ï¼Œæ— æ³•ä¸»åŠ¨æ¸…ç©ºï¼›è‹¥æƒ³ç§»é™¤æŸä¸ªå¯¹è±¡ï¼Œåªèƒ½ç­‰å¾…è¯¥å¯¹è±¡æ— å…¶ä»–å¼ºå¼•ç”¨ï¼Œç”±åƒåœ¾å›æ”¶è‡ªåŠ¨æ¸…ç†ã€‚

#### 2. ä»…ç§»é™¤å®¹å™¨å¼•ç”¨ï¼ˆå¦‚ `map = null`ï¼‰

- **Map/Set**ï¼šè‹¥ä»…å°† Map/Set å˜é‡ç½®ä¸º nullï¼Œä½†å†…éƒ¨å¯¹è±¡ä»æœ‰å…¶ä»–å¼ºå¼•ç”¨ â†’ å¯¹è±¡ä¸ä¼šè¢«æ¸…é™¤ï¼›è‹¥å†…éƒ¨å¯¹è±¡æ— å…¶ä»–å¼ºå¼•ç”¨ â†’ å›  Map/Set åŸæœ¬çš„å¼ºå¼•ç”¨è¢«è§£é™¤ï¼Œå¯¹è±¡ä¼šè¢«åƒåœ¾å›æ”¶ã€‚
- **WeakMap/WeakSet**ï¼šå³ä½¿å®¹å™¨æœ¬èº«æœªè¢«é”€æ¯ï¼Œåªè¦å†…éƒ¨å¯¹è±¡æ— å…¶ä»–å¼ºå¼•ç”¨ â†’ å¯¹è±¡ä¼šè¢«åƒåœ¾å›æ”¶ï¼Œä¸”å®¹å™¨ä¸­å¯¹åº”çš„é”®å€¼å¯¹ / å€¼ä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚

#### æ€»ç»“

- ã€Œå¯¹è±¡æ˜¯å¦è¢«æ¸…é™¤ã€çš„æ ¸å¿ƒæ˜¯ï¼š**å¯¹è±¡æ˜¯å¦å­˜åœ¨é™¤å®¹å™¨å¤–çš„å…¶ä»–å¼ºå¼•ç”¨**ï¼Œè€Œéå®¹å™¨æœ¬èº«æ˜¯å¦è¢«æ¸…ç©ºã€‚
- Map/Set å› å¼ºå¼•ç”¨ï¼Œè‹¥ä¸ä¸»åŠ¨æ¸…é™¤å®¹å™¨æˆ–å¯¹è±¡å¼•ç”¨ï¼Œå¯¹è±¡ä¸ä¼šè¢«å›æ”¶ï¼›WeakMap/WeakSet å› å¼±å¼•ç”¨ï¼Œæ— éœ€æ‰‹åŠ¨æ¸…ç†ï¼Œåªè¦å¯¹è±¡æ— å…¶ä»–å¼•ç”¨å°±ä¼šè¢«å›æ”¶ã€‚

## å¼ºå¼•ç”¨ä¸å¼±å¼•ç”¨

1. **å¼ºå¼•ç”¨**

   è¿™æ˜¯ JavaScript ä¸­é»˜è®¤çš„å¼•ç”¨ç±»å‹ï¼Œå½“ä¸€ä¸ªå˜é‡ï¼ˆæˆ–æ•°æ®ç»“æ„ï¼‰æŒæœ‰å¯¹è±¡çš„å¼ºå¼•ç”¨æ—¶ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè®¤ä¸ºè¯¥å¯¹è±¡ â€œä»åœ¨ä½¿ç”¨â€ï¼Œä¸ä¼šå›æ”¶å…¶å ç”¨çš„å†…å­˜ã€‚

   åªè¦å¼ºå¼•ç”¨å­˜åœ¨ï¼Œå³ä½¿ç¨‹åºä¸­ä¸å†å®é™…ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œå®ƒä¹Ÿä¼šä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œå¯èƒ½å¼•å‘å†…å­˜æ³„æ¼ã€‚

   ä¾‹å¦‚æ™®é€šå˜é‡èµ‹å€¼`let obj = {name: 'test'}`ï¼Œä»¥åŠ`Map`ã€`Set`å¯¹å†…éƒ¨å¯¹è±¡çš„å¼•ç”¨ï¼Œéƒ½å±äºå¼ºå¼•ç”¨ã€‚

2. **å¼±å¼•ç”¨**

   å¼±å¼•ç”¨ä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ç›®æ ‡å¯¹è±¡ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ä»…è¢«å¼±å¼•ç”¨æŒæœ‰æ—¶ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶ä¼šåœ¨åˆé€‚æ—¶æœºè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡ï¼Œå¹¶é‡Šæ”¾å…¶å†…å­˜ã€‚

   JavaScript ä¸­ä»…`WeakMap`ï¼ˆå¯¹é”®çš„å¼•ç”¨ï¼‰ã€`WeakSet`ï¼ˆå¯¹å€¼çš„å¼•ç”¨ï¼‰å®ç°äº†å¼±å¼•ç”¨ï¼Œä¸”ä»…æ”¯æŒå¯¹è±¡ç±»å‹çš„å¼±å¼•ç”¨ï¼Œä¸æ”¯æŒåŸå§‹å€¼ã€‚

   ä¾‹å¦‚å°†å¯¹è±¡ä½œä¸º`WeakMap`çš„é”®æ—¶ï¼Œè‹¥è¯¥å¯¹è±¡æ— å…¶ä»–å¼ºå¼•ç”¨ï¼Œä¼šè¢«åƒåœ¾å›æ”¶ï¼ŒåŒæ—¶å¯¹åº”çš„é”®å€¼å¯¹ä¹Ÿä¼šä»`WeakMap`ä¸­è‡ªåŠ¨ç§»é™¤ã€‚

**å¯¹æ¯”**

| ç‰¹æ€§               | å¼ºå¼•ç”¨                               | å¼±å¼•ç”¨                                      |
| ------------------ | ------------------------------------ | ------------------------------------------- |
| **é»˜è®¤è¡Œä¸º**       | JavaScript é»˜è®¤å¼•ç”¨æ–¹å¼              | ä»…`WeakMap/WeakSet`æ”¯æŒï¼Œéé»˜è®¤             |
| **åƒåœ¾å›æ”¶å½±å“**   | é˜»æ­¢å¯¹è±¡è¢«åƒåœ¾å›æ”¶                   | ä¸é˜»æ­¢å¯¹è±¡è¢«åƒåœ¾å›æ”¶                        |
| **æ”¯æŒçš„æ•°æ®ç±»å‹** | å¯å¼•ç”¨ä»»æ„ç±»å‹ï¼ˆåŸå§‹å€¼ã€å¯¹è±¡ï¼‰       | ä»…æ”¯æŒå¼•ç”¨å¯¹è±¡ç±»å‹ï¼ˆnull é™¤å¤–ï¼‰             |
| **å¯éå†æ€§**       | æŒæœ‰å¼ºå¼•ç”¨çš„ç»“æ„ï¼ˆå¦‚ Map/Setï¼‰å¯éå† | æŒæœ‰å¼±å¼•ç”¨çš„ç»“æ„ï¼ˆWeakMap/WeakSetï¼‰ä¸å¯éå† |
| **å†…å­˜æ³„æ¼é£é™©**   | è‹¥æœªæ‰‹åŠ¨è§£é™¤å¼•ç”¨ï¼Œæ˜“å¼•å‘å†…å­˜æ³„æ¼     | æ— å†…å­˜æ³„æ¼é£é™©ï¼Œè‡ªåŠ¨éšå¯¹è±¡å›æ”¶              |
| **å…¸å‹ä½¿ç”¨åœºæ™¯**   | éœ€é•¿æœŸæŒæœ‰æ•°æ®ã€éå†æ•°æ®çš„åœºæ™¯       | ä¸´æ—¶å…³è”å¯¹è±¡æ•°æ®ã€é¿å…å†…å­˜æ³„æ¼çš„åœºæ™¯        |

## ï¼Ÿï¼Ÿä¸ ||

### ||ï¼ˆé€»è¾‘æˆ–è¿ç®—ç¬¦ï¼‰

æ ¸å¿ƒé€»è¾‘ï¼šè‹¥å·¦ä¾§æ“ä½œæ•°**ä¸ºå‡å€¼**ï¼ˆfalseã€0ã€''ã€nullã€undefinedã€NaNï¼‰ï¼Œåˆ™è¿”å›å³ä¾§æ“ä½œæ•°ï¼›å¦åˆ™è¿”å›å·¦ä¾§æ“ä½œæ•°ã€‚

æœ¬è´¨æ˜¯ â€œåˆ¤æ–­æ˜¯å¦ä¸ºå‡å€¼â€ï¼Œè€Œé â€œæ˜¯å¦ä¸º null/undefinedâ€ã€‚

### ??ï¼ˆç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼‰

ES2020 æ–°å¢ç‰¹æ€§ï¼Œæ ¸å¿ƒé€»è¾‘ï¼šä»…å½“å·¦ä¾§æ“ä½œæ•°**ä¸º null æˆ– undefined** æ—¶ï¼Œè¿”å›å³ä¾§æ“ä½œæ•°ï¼›å¦åˆ™è¿”å›å·¦ä¾§æ“ä½œæ•°ã€‚

æœ¬è´¨æ˜¯ â€œåˆ¤æ–­æ˜¯å¦ä¸ºç©ºå€¼ï¼ˆnull/undefinedï¼‰â€ï¼Œå¯¹ 0ã€''ã€false ç­‰å‡å€¼ä¸æ•æ„Ÿã€‚

**ç¤ºä¾‹**

```javascript
// 1. å·¦ä¾§ä¸º 0ï¼ˆå‡å€¼ä½†éç©ºå€¼ï¼‰
console.log(0 || 10); // 10ï¼ˆ|| è®¤ä¸º 0 æ˜¯å‡å€¼ï¼Œè¿”å›å³ä¾§ï¼‰
console.log(0 ?? 10); // 0ï¼ˆ?? ä»…åˆ¤æ–­ null/undefinedï¼Œè¿”å›å·¦ä¾§ï¼‰

// 2. å·¦ä¾§ä¸ºç©ºå­—ç¬¦ä¸²
console.log('' || 'é»˜è®¤å€¼'); // 'é»˜è®¤å€¼'ï¼ˆ|| è®¤ä¸º '' æ˜¯å‡å€¼ï¼‰
console.log('' ?? 'é»˜è®¤å€¼'); // ''ï¼ˆ?? ä¿ç•™ç©ºå­—ç¬¦ä¸²ï¼‰

// 3. å·¦ä¾§ä¸º null
console.log(null || 'é»˜è®¤å€¼'); // 'é»˜è®¤å€¼'
console.log(null ?? 'é»˜è®¤å€¼'); // 'é»˜è®¤å€¼'ï¼ˆä¸¤è€…ç»“æœä¸€è‡´ï¼‰

// 4. å·¦ä¾§ä¸º undefined
console.log(undefined || 'é»˜è®¤å€¼'); // 'é»˜è®¤å€¼'
console.log(undefined ?? 'é»˜è®¤å€¼'); // 'é»˜è®¤å€¼'ï¼ˆä¸¤è€…ç»“æœä¸€è‡´ï¼‰
```

## Generator

Generator æ˜¯ ES6 å¼•å…¥çš„ç‰¹æ®Šå‡½æ•°ï¼ˆ`function*` å®šä¹‰ï¼‰ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯**ä¸­æ–­ / æ¢å¤å‡½æ•°æ‰§è¡Œ**ï¼Œå®ç°ã€Œå¯æ§çš„å¼‚æ­¥æµç¨‹ã€å’Œã€Œæƒ°æ€§è¿­ä»£ã€ï¼Œæ˜¯å¼‚æ­¥ç¼–ç¨‹ï¼ˆå¦‚ async/await åº•å±‚ï¼‰ã€è‡ªå®šä¹‰è¿­ä»£å™¨çš„åŸºç¡€ã€‚

1. **æ‰§è¡Œæš‚åœä¸æ¢å¤**ï¼šé€šè¿‡ `yield` å…³é”®å­—æš‚åœå‡½æ•°æ‰§è¡Œï¼Œè¿”å›è¿­ä»£å™¨å¯¹è±¡ï¼›è°ƒç”¨ `next()` å¯æ¢å¤æ‰§è¡Œï¼Œç»§ç»­åˆ°ä¸‹ä¸€ä¸ª `yield`/ å‡½æ•°ç»“æŸï¼Œæ”¯æŒåˆ†æ­¥æ‰§è¡Œé€»è¾‘ã€‚
2. **æ•°æ®åŒå‘ä¼ é€’**ï¼š`next(å‚æ•°)` å¯å°†æ•°æ®ä¼ å…¥æš‚åœå¤„ï¼Œ`yield` å¯å‘å¤–è¿”å›å€¼ï¼Œå®ç°å‡½æ•°å†…å¤–æ•°æ®äº¤äº’ã€‚
3. **ç”Ÿæˆè¿­ä»£å™¨**ï¼šGenerator å‡½æ•°è¿”å›çš„è¿­ä»£å™¨å¯ç›´æ¥ç”¨äº `for...of` éå†ï¼Œè½»æ¾å®ç°è‡ªå®šä¹‰è¿­ä»£é€»è¾‘ï¼ˆå¦‚æƒ°æ€§ç”Ÿæˆæ— é™åºåˆ—ã€åˆ†é¡µæ•°æ®ï¼‰ã€‚

**åœºæ™¯**

- å¼‚æ­¥æµç¨‹æ§åˆ¶ï¼ˆasync/await åŸºäº Generator + è‡ªåŠ¨æ‰§è¡Œå™¨å®ç°ï¼‰ï¼›
- æƒ°æ€§ç”Ÿæˆæ•°æ®ï¼ˆæŒ‰éœ€äº§ç”Ÿå€¼ï¼Œé¿å…ä¸€æ¬¡æ€§ç”Ÿæˆå¤§é‡æ•°æ®ï¼‰ï¼›
- è‡ªå®šä¹‰å¯éå†å¯¹è±¡ï¼ˆæ›¿ä»£æ‰‹åŠ¨å†™è¿­ä»£å™¨ï¼‰ã€‚

**ç¤ºä¾‹**

```javascript
function* gen() {
  yield 1; // æš‚åœï¼Œè¿”å› 1
  yield 2; // æ¢å¤åæš‚åœï¼Œè¿”å› 2
  return 3;
}
const g = gen();
g.next(); // { value: 1, done: false }
g.next(); // { value: 2, done: false }
g.next(); // { value: 3, done: true }
```

## flatMap å‡½æ•°

**æœ¬è´¨**

`flatMap` = `map`ï¼ˆæ˜ å°„ï¼‰ + `flat(1)`ï¼ˆä¸€ç»´æ‰å¹³åŒ–ï¼‰ï¼šå…ˆå¯¹æ•°ç»„æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ˜ å°„æ“ä½œï¼Œå†å°†æ˜ å°„ç»“æœè‡ªåŠ¨æ‹å¹³ä¸€å±‚ï¼Œè¿”å›æ–°æ•°ç»„ã€‚

**æ ¸å¿ƒæ‹†è§£**

1. å…ˆçœ‹ map + flat çš„ç»„åˆï¼ˆç­‰ä»·æ›¿ä»£ï¼‰

å¦‚æœä¸ç”¨ `flatMap`ï¼Œè¦å®ç°ç›¸åŒæ•ˆæœéœ€è¦ä¸¤æ­¥ï¼š

```javascript
const arr = [1, 2, 3];

// ç¬¬ä¸€æ­¥ï¼šmap æ˜ å°„ï¼ˆæ¯ä¸ªå…ƒç´ å˜æˆæ•°ç»„ï¼‰
const mapped = arr.map(num => [num, num * 2]); 
console.log(mapped); // [[1,2], [2,4], [3,6]]

// ç¬¬äºŒæ­¥ï¼šflat(1) æ‹å¹³ä¸€å±‚
const flattened = mapped.flat(1); 
console.log(flattened); // [1,2,2,4,3,6]

// flatMap ä¸€æ­¥åˆ°ä½
const result = arr.flatMap(num => [num, num * 2]);
console.log(result); // [1,2,2,4,3,6]
```

# TypeScript

## æ¥å£ä½œç”¨

- å®šä¹‰æ•°æ®ç»“æ„çš„è§„èŒƒ
- è§„å®šå¿…å¡«ã€å¯é€‰ã€åªè¯»å±æ€§
- æä¾›ç±»å‹æ£€æŸ¥å’Œæ™ºèƒ½æç¤º
- ä¾¿äºåä½œå’Œä»£ç ç»´æŠ¤

## interface vs type

**æœ¬è´¨**

- **interface**ï¼šåªç»™ã€Œå¯¹è±¡ / ç±»ã€å®š â€œç»“æ„è§„çŸ©â€ï¼ˆæ¯”å¦‚æœ‰å“ªäº›å±æ€§ã€æ–¹æ³•ï¼‰ï¼Œèƒ½å¤šäººæ¥åŠ›æ”¹ã€èƒ½ç»§æ‰¿ï¼›
- **type**ï¼šç»™ä»»æ„ç±»å‹ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ã€å¤æ‚ç»„åˆç±»å‹ï¼‰èµ· â€œå¤–å·â€ï¼Œç›¸å½“äºè‡ªå®šä¹‰æ–°ç±»å‹ï¼Œä¸èƒ½æ¥åŠ›æ”¹ï¼Œåªèƒ½ç”¨ `&` æ‹¼æ–°ç±»å‹ã€‚
  ï¼ˆå¯ä»¥ç®€å•ç†è§£ä¸ºStringã€Numberï¼Œè¿™éƒ½æ˜¯è‡ªå¸¦çš„typeï¼Œè€Œä½ å¯ä»¥åˆ›å»ºè‡ªå·±çš„typeï¼‰

**å¯¹æ¯”**

| å¯¹æ¯”ç»´åº¦ | interface             | type                                             |
| -------- | --------------------- | ------------------------------------------------ |
| å£°æ˜åˆå¹¶ | æ”¯æŒï¼ˆåŒåè‡ªåŠ¨åˆå¹¶ï¼‰  | ä¸æ”¯æŒï¼ˆé‡å¤å®šä¹‰æŠ¥é”™ï¼‰                           |
| ç±»å‹èŒƒå›´ | ä»…èƒ½æè¿°å¯¹è±¡ / ç±»ç»“æ„ | æ”¯æŒæ‰€æœ‰ç±»å‹ï¼ˆåŸºæœ¬ / è”åˆ / å…ƒç»„ç­‰ï¼‰             |
| æ‰©å±•æ–¹å¼ | ç”¨ extends ç»§æ‰¿       | ç”¨ & äº¤å‰ç±»å‹å®ç°                                |
| ç±»å®ç°   | æ”¯æŒ class implements | ä»…æ”¯æŒå¯¹è±¡ç»“æ„å‹ typeï¼Œå¤æ‚ typeï¼ˆå¦‚è”åˆï¼‰ä¸æ”¯æŒ |

**é€‚ç”¨åœºæ™¯**

- **interface**ï¼šå®šä¹‰ API å…¥å‚ / è¿”å›å€¼ç»“æ„ã€ç±»çš„å±æ€§æ–¹æ³•çº¦æŸã€éœ€è¦å¤šäººæ‰©å±•çš„å…¨å±€ç±»å‹ï¼ˆå¦‚æ‰©å±• window å¯¹è±¡ï¼‰ï¼›
- **type**ï¼šå®šä¹‰åŸºæœ¬ç±»å‹åˆ«åï¼ˆå¦‚ type ID = stringï¼‰ã€çŠ¶æ€æšä¸¾ï¼ˆtype Status = 'success'|'fail'ï¼‰ã€å…ƒç»„ / äº¤å‰ç±»å‹ç»„åˆã€‚

## never ç±»å‹

**å®šä¹‰**

`never` æ˜¯ TypeScript ä¸­è¡¨ç¤º â€œæ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹â€ï¼Œå³æŸä¸ªåœºæ™¯ä¸‹**ä¸å¯èƒ½æœ‰ä»»ä½•å€¼å‡ºç°**ï¼Œæ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼Œä½†æ²¡æœ‰ä»»ä½•ç±»å‹æ˜¯ `never` çš„å­ç±»å‹ï¼ˆé™¤è‡ªèº«ï¼‰ã€‚

**ç‰¹å¾**

1. **æ— å€¼å¯è¾¾**ï¼šå˜é‡ / è¿”å›å€¼æ ‡æ³¨ä¸º `never`ï¼Œæ„å‘³ç€è¯¥å˜é‡æ°¸è¿œä¸ä¼šè¢«èµ‹å€¼ï¼Œè¯¥å‡½æ•°æ°¸è¿œä¸ä¼šæ­£å¸¸è¿”å›ï¼ˆè¦ä¹ˆæŠ›é”™ï¼Œè¦ä¹ˆæ— é™å¾ªç¯ï¼‰ï¼›
2. **ç±»å‹æ”¶çª„**ï¼šå¯ç”¨äºç©·å°½æ€§æ£€æŸ¥ï¼ˆç¡®ä¿æ¡ä»¶åˆ†æ”¯è¦†ç›–æ‰€æœ‰å¯èƒ½ï¼‰ï¼›
3. **å…¼å®¹æ€§**ï¼š`never` å¯èµ‹å€¼ç»™ä»»æ„ç±»å‹ï¼Œä½†ä»»æ„ç±»å‹ï¼ˆé™¤ `never`ï¼‰éƒ½ä¸èƒ½èµ‹å€¼ç»™ `never`ã€‚

**ä½¿ç”¨åœºæ™¯**

1. æ°¸è¿œä¸ä¼šè¿”å›çš„å‡½æ•°

```ts
// æŠ›é”™å‡½æ•°ï¼šæ°¸è¿œä¸ä¼šæ­£å¸¸è¿”å›ï¼Œè¿”å›å€¼ä¸ºnever
function throwError(msg: string): never {
  throw new Error(msg);
}

// æ— é™å¾ªç¯å‡½æ•°ï¼šæ°¸è¿œä¸ä¼šç»“æŸï¼Œè¿”å›å€¼ä¸ºnever
function infiniteLoop(): never {
  while (true) {}
}
```

2. ç©·å°½æ€§æ£€æŸ¥ï¼ˆç¡®ä¿åˆ†æ”¯å…¨è¦†ç›–ï¼‰

```ts
type Status = 'success' | 'fail' | 'pending';

function handleStatus(status: Status) {
  switch (status) {
    case 'success': break;
    case 'fail': break;
    case 'pending': break;
    // è‹¥æ¼å†™åˆ†æ”¯ï¼Œtsä¼šæŠ¥é”™ï¼šç±»å‹â€œstringâ€ä¸èƒ½èµ‹å€¼ç»™ç±»å‹â€œneverâ€
    default: const _exhaustiveCheck: never = status;
  }
}
```

3. ç±»å‹æ”¶çª„åˆ°æ— å¯èƒ½

```ts
// å½“ç±»å‹å®ˆå«æ’é™¤æ‰€æœ‰å¯èƒ½åï¼Œå‰©ä½™ç±»å‹ä¸ºnever
function fn(x: string | number) {
  if (typeof x === 'string') {
    // x: string
  } else if (typeof x === 'number') {
    // x: number
  } else {
    // x: neverï¼ˆæ— å…¶ä»–å¯èƒ½ï¼‰
  }
}
```

**ä¸voidåŒºåˆ«**

| ç±»å‹  | æ ¸å¿ƒåŒºåˆ«                           |
| ----- | ---------------------------------- |
| never | æ°¸ä¸å­˜åœ¨å€¼ï¼Œå‡½æ•°æ°¸ä¸è¿”å›           |
| void  | å‡½æ•°æ— æ˜¾å¼è¿”å›ï¼ˆå¯è¿”å› undefinedï¼‰ |

# CSS

## Less & SCSS 

1. `Less`

   åŠ¨æ€æ ·å¼è¯­è¨€ï¼ŒåŸºäº CSS æ‰©å±•ï¼Œè¯­æ³•æ›´è´´è¿‘åŸç”Ÿ CSSï¼Œå­¦ä¹ æˆæœ¬ä½ï¼Œé€šè¿‡å®¢æˆ·ç«¯è„šæœ¬æˆ–ç¼–è¯‘å·¥å…·è½¬æ¢ä¸ºæ ‡å‡† CSSã€‚

2. `SCSS`

   Sass çš„å‡çº§ç‰ˆè¯­æ³•ï¼Œå®Œå…¨å…¼å®¹ CSS3ï¼Œæ”¯æŒåµŒå¥—ã€å˜é‡ç­‰é«˜çº§ç‰¹æ€§ï¼Œéœ€ç¼–è¯‘ä¸º CSS è¿è¡Œï¼Œæ˜¯ç›®å‰æ›´ä¸»æµçš„ CSS é¢„å¤„ç†å™¨ã€‚

| ç‰¹æ€§              | Less                              | SCSS                                              |
| ----------------- | --------------------------------- | ------------------------------------------------- |
| **è¯­æ³•é£æ ¼**      | å…¼å®¹ CSSï¼Œæ— å¼ºåˆ¶åˆ†å· / å¤§æ‹¬å·     | å…¼å®¹ CSSï¼Œå¯ä½¿ç”¨ Sass ç¼©è¿›è¯­æ³•ï¼ˆæ— åˆ†å· / å¤§æ‹¬å·ï¼‰ |
| **å˜é‡å£°æ˜**      | `@å˜é‡å: å€¼`                     | `$å˜é‡å: å€¼`                                     |
| **ä½œç”¨åŸŸ**        | å…ˆå…¨å±€åå±€éƒ¨ï¼Œå˜é‡æå‡            | å±€éƒ¨ä¼˜å…ˆï¼Œæ— å˜é‡æå‡                              |
| **æ··å…¥ï¼ˆMixinï¼‰** | `.mixin() { }`ï¼Œç›´æ¥è°ƒç”¨ `.mixin` | `@mixin mixin() { }`ï¼Œé€šè¿‡ `@include mixin` è°ƒç”¨  |
| **ç»§æ‰¿**          | æ— åŸç”Ÿç»§æ‰¿ï¼Œéœ€ç”¨æ··å…¥æ¨¡æ‹Ÿ          | `@extend é€‰æ‹©å™¨` å®ç°æ ·å¼ç»§æ‰¿                     |
| **å¾ªç¯**          | ä»…æ”¯æŒ `each` éå†                | æ”¯æŒ `for`/`each`/`while` å¤šç§å¾ªç¯                |
| **å‡½æ•°**          | å†…ç½®å‡½æ•°è¾ƒå°‘ï¼Œæ‰©å±•å¼±              | å†…ç½®ä¸°å¯Œå‡½æ•°ï¼Œæ”¯æŒè‡ªå®šä¹‰å‡½æ•°                      |
| **ä¾èµ–ç®¡ç†**      | éœ€æ‰‹åŠ¨å¼•å…¥                        | æ”¯æŒ `@use`/`@forward` æ¨¡å—åŒ–å¯¼å…¥                 |

**æ€»ç»“**

- Lessï¼š**è½»é‡æ˜“ä¸Šæ‰‹**ï¼Œé€‚åˆå°å‹é¡¹ç›®æˆ–å¿«é€Ÿå¼€å‘ï¼Œå¯¹ CSS æ–°æ‰‹å‹å¥½ã€‚
- SCSSï¼š**åŠŸèƒ½å¼ºå¤§ã€ç”Ÿæ€å®Œå–„**ï¼Œæ”¯æŒå¤æ‚é€»è¾‘å’Œæ¨¡å—åŒ–ï¼Œé€‚åˆä¸­å¤§å‹é¡¹ç›®ï¼Œç¤¾åŒºèµ„æºæ›´ä¸°å¯Œã€‚

# Node.js

## process.nextTick

**å®šä¹‰**

`process.nextTick` æ˜¯ Node.js æä¾›çš„ä¸“å± APIï¼Œç”¨äºå°†**å›è°ƒå‡½æ•°æ·»åŠ åˆ° â€œnextTick é˜Ÿåˆ—â€**ï¼Œè¯¥é˜Ÿåˆ—ä¼šåœ¨å½“å‰æ‰§è¡Œæ ˆæ¸…ç©ºåã€ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰å¼€å§‹å‰ç«‹å³æ‰§è¡Œï¼Œå±äº â€œå¾®ä»»åŠ¡â€ èŒƒç•´ä¸”ä¼˜å…ˆçº§é«˜äº Promise.then ç­‰å…¶ä»–å¾®ä»»åŠ¡ã€‚

**ç‰¹ç‚¹**

1. **æ‰§è¡Œæ—¶æœº**ï¼šå½“å‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯• â†’ æ‰§è¡Œ nextTick é˜Ÿåˆ—æ‰€æœ‰å›è°ƒ â†’ å†å¤„ç†å…¶ä»–å¾®ä»»åŠ¡ï¼ˆå¦‚ Promiseï¼‰â†’ è¿›å…¥äº‹ä»¶å¾ªç¯çš„ä¸‹ä¸€ä¸ªé˜¶æ®µï¼ˆå¦‚ timersã€I/O å›è°ƒç­‰ï¼‰ã€‚
2. **é«˜ä¼˜å…ˆçº§**ï¼šnextTick é˜Ÿåˆ—çš„æ‰§è¡Œä¼˜å…ˆçº§æ˜¯ Node.js äº‹ä»¶å¾ªç¯ä¸­æœ€é«˜çš„ï¼Œå³ä½¿å¤šæ¬¡è°ƒç”¨ `process.nextTick`ï¼Œä¹Ÿä¼šä¸€æ¬¡æ€§æ‰§è¡Œå®Œé˜Ÿåˆ—ä¸­æ‰€æœ‰å›è°ƒï¼Œå†ç»§ç»­åç»­æµç¨‹ã€‚
3. **æ— å¼‚æ­¥å»¶è¿Ÿ**ï¼šä¸åŒäº `setTimeout(fn, 0)`ï¼ˆä¼šæ¨è¿Ÿåˆ°ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯çš„ timers é˜¶æ®µï¼‰ï¼Œ`process.nextTick` æ— æœ€å°å»¶è¿Ÿï¼Œæ‰§è¡Œæ›´å³æ—¶ã€‚
4. **æ³¨æ„ç‚¹**ï¼šè‹¥é€’å½’è°ƒç”¨ `process.nextTick`ï¼Œä¼šé˜»å¡äº‹ä»¶å¾ªç¯ï¼ˆå› ä¸ºä¸€ç›´æ‰§è¡Œ nextTick é˜Ÿåˆ—ï¼Œæ— æ³•è¿›å…¥åç»­é˜¶æ®µï¼‰ï¼Œå¯¼è‡´ I/O å›è°ƒã€å®šæ—¶å™¨ç­‰æ— æ³•æ‰§è¡Œã€‚

**ç¤ºä¾‹**

```javascript
console.log('åŒæ­¥ä»£ç å¼€å§‹');
process.nextTick(() => {
  console.log('nextTick å›è°ƒæ‰§è¡Œ'); // åŒæ­¥æ ˆæ¸…ç©ºåç«‹å³æ‰§è¡Œ
});
Promise.resolve().then(() => {
  console.log('Promise.then æ‰§è¡Œ'); // æ™šäº nextTick
});
console.log('åŒæ­¥ä»£ç ç»“æŸ');

// è¾“å‡ºé¡ºåºï¼š
// åŒæ­¥ä»£ç å¼€å§‹
// åŒæ­¥ä»£ç ç»“æŸ
// nextTick å›è°ƒæ‰§è¡Œ
// Promise.then æ‰§è¡Œ
```

## Node.js Classic é›†ç¾¤æ¨¡å¼

**å®šä¹‰**

Node.js Classic é›†ç¾¤æ¨¡å¼ï¼ˆ`cluster` æ¨¡å—å®ç°ï¼‰æ˜¯ Node.js å®˜æ–¹æä¾›çš„**å¤šè¿›ç¨‹å¹¶å‘æ–¹æ¡ˆ**ï¼Œæ ¸å¿ƒç›®çš„æ˜¯çªç ´å•çº¿ç¨‹ EventLoop çš„ CPU åˆ©ç”¨ç‡ç“¶é¢ˆ â€”â€” é€šè¿‡å¯åŠ¨å¤šä¸ªå­è¿›ç¨‹ï¼ˆWorkerï¼‰å…±äº«åŒä¸€ä¸ªä¸»ç«¯å£ï¼ˆå¦‚ 8080ï¼‰ï¼Œåˆ©ç”¨å¤šæ ¸ CPU å¹¶è¡Œå¤„ç†è¯·æ±‚ï¼Œæå‡æœåŠ¡ååé‡ã€‚

**æ ¸å¿ƒæ¶æ„ï¼ˆä¸»ä»æ¨¡å¼ï¼‰**

1. ä¸»è¿›ç¨‹ï¼ˆMasterï¼‰

- è§’è‰²ï¼šè¿›ç¨‹ç®¡ç†å™¨ï¼Œä¸å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼›
- æ ¸å¿ƒæ“ä½œï¼š
  1. ç›‘å¬ç«¯å£ï¼Œæ¥æ”¶æ‰€æœ‰å®¢æˆ·ç«¯è¯·æ±‚ï¼›
  2. é€šè¿‡ `round-robin`ï¼ˆè½®è¯¢ï¼‰ç®—æ³•å°†è¯·æ±‚åˆ†å‘åˆ°ç©ºé—²çš„å­è¿›ç¨‹ï¼›
  3. ç®¡ç†å­è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»ºã€ç›‘æ§ã€é‡å¯å´©æºƒçš„å­è¿›ç¨‹ï¼‰ï¼›
  4. æ§åˆ¶å­è¿›ç¨‹é€šä¿¡ï¼ˆé€šè¿‡ `IPC` é€šé“ä¼ é€’æ¶ˆæ¯ï¼‰ã€‚

2. å­è¿›ç¨‹ï¼ˆWorkerï¼‰

- è§’è‰²ï¼šä¸šåŠ¡å¤„ç†å•å…ƒï¼Œæ¯ä¸ª Worker æ˜¯ç‹¬ç«‹çš„ Node.js è¿›ç¨‹ï¼Œæ‹¥æœ‰è‡ªå·±çš„ EventLoopï¼›
- æ ¸å¿ƒç‰¹æ€§ï¼š
  1. å…±äº«ä¸»è¿›ç¨‹ç›‘å¬çš„ç«¯å£ï¼Œæ— éœ€å•ç‹¬ç»‘å®šç«¯å£ï¼›
  2. è¿›ç¨‹é—´å†…å­˜éš”ç¦»ï¼ˆæ¯ä¸ª Worker æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œä¸ä¼šå…±äº«å˜é‡ï¼‰ï¼›
  3. å•ä¸ª Worker å´©æºƒä¸å½±å“å…¶ä»– Workerï¼Œä¸»è¿›ç¨‹å¯è‡ªåŠ¨é‡å¯ã€‚

**è¿è¡Œæœºåˆ¶**

1. å¯åŠ¨æµç¨‹ï¼š
   - ä¸»è¿›ç¨‹åŠ è½½ `cluster` æ¨¡å—ï¼Œè°ƒç”¨ `cluster.fork()` åˆ›å»ºä¸ CPU æ ¸å¿ƒæ•°åŒ¹é…çš„ Worker è¿›ç¨‹ï¼›
   - æ‰€æœ‰ Worker ç»§æ‰¿ä¸»è¿›ç¨‹çš„ç«¯å£ç›‘å¬ï¼Œæ“ä½œç³»ç»Ÿå°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒ Workerã€‚
2. è¯·æ±‚åˆ†å‘ï¼š
   - åº•å±‚ä¾èµ–æ“ä½œç³»ç»Ÿçš„ `SO_REUSEADDR` å¥—æ¥å­—é€‰é¡¹ï¼Œå®ç°å¤šè¿›ç¨‹ç›‘å¬åŒä¸€ç«¯å£ï¼›
   - é»˜è®¤ç”¨è½®è¯¢ç­–ç•¥åˆ†å‘è¯·æ±‚ï¼Œç¡®ä¿è´Ÿè½½å‡è¡¡ã€‚
3. è¿›ç¨‹é€šä¿¡ï¼š
   - ä¸» / å­è¿›ç¨‹é€šè¿‡ `IPC`ï¼ˆInter-Process Communicationï¼‰é€šé“é€šä¿¡ï¼Œæ”¯æŒå‘é€ / æ¥æ”¶ JSON æ ¼å¼æ•°æ®ï¼›
   - æ— æ³•ç›´æ¥å…±äº«å†…å­˜ï¼Œéœ€é€šè¿‡ä¸»è¿›ç¨‹ä¸­è½¬ï¼ˆæˆ–å€ŸåŠ© Redis ç­‰å¤–éƒ¨å­˜å‚¨ï¼‰ã€‚

**ç‰¹ç‚¹**

1. ä¼˜åŠ¿

- å……åˆ†åˆ©ç”¨å¤šæ ¸ CPUï¼Œè§£å†³ Node.js å•çº¿ç¨‹ CPU å¯†é›†å‹ä»»åŠ¡ç“¶é¢ˆï¼›
- è¿›ç¨‹éš”ç¦»ï¼Œå•ä¸ª Worker å´©æºƒä¸å¯¼è‡´æ•´ä¸ªæœåŠ¡å®•æœºï¼›
- å®˜æ–¹åŸç”Ÿæ¨¡å—ï¼Œæ— éœ€é¢å¤–ä¾èµ–ï¼Œé…ç½®ç®€å•ã€‚

2. å±€é™æ€§

- å†…å­˜å¼€é”€å¤§ï¼ˆæ¯ä¸ª Worker ç‹¬ç«‹å ç”¨å†…å­˜ï¼Œå¦‚å•è¿›ç¨‹å ç”¨ 50MBï¼Œ8 æ ¸åˆ™çº¦ 400MBï¼‰ï¼›
- è¿›ç¨‹é—´é€šä¿¡æˆæœ¬é«˜ï¼Œä¸é€‚åˆé«˜é¢‘æ•°æ®å…±äº«ï¼›
- ä»…è§£å†³ CPU ç“¶é¢ˆï¼ŒI/O å¯†é›†å‹åœºæ™¯ä¼˜åŠ¿ä¸æ˜æ˜¾ï¼ˆNode.js å•çº¿ç¨‹å·²é€‚é… I/O å¼‚æ­¥ï¼‰ã€‚

**å…¸å‹ä½¿ç”¨åœºæ™¯**

- CPU å¯†é›†å‹æœåŠ¡ï¼ˆå¦‚æ•°æ®è®¡ç®—ã€åŠ å¯†è§£å¯†ï¼‰ï¼›
- é«˜å¹¶å‘ HTTP æœåŠ¡ï¼ˆå¦‚ API ç½‘å…³ã€åå°æœåŠ¡ï¼‰ï¼›
- éœ€ä¿éšœæœåŠ¡é«˜å¯ç”¨çš„ç”Ÿäº§ç¯å¢ƒï¼ˆè¿›ç¨‹å´©æºƒè‡ªåŠ¨é‡å¯ï¼‰ã€‚

# æµè§ˆå™¨

## æµè§ˆå™¨å­˜å‚¨

**Cookie**

- å®¹é‡ï¼šä¸è¶…è¿‡4KB
- ç”Ÿå‘½å‘¨æœŸï¼šå¯è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œä¸è®¾ç½®åˆ™æµè§ˆå™¨å…³é—­æ¸…é™¤
- ä½œç”¨åŸŸï¼šåŒæºé¡µé¢ï¼Œå¯è®¾ç½®domainå…±äº«å­åŸŸ
- è‡ªåŠ¨å‘é€ï¼šæ¯æ¬¡HTTPè¯·æ±‚è‡ªåŠ¨æºå¸¦ï¼ˆå¯è®¾ç½®ï¼‰

**LocalStorage**

- å®¹é‡ï¼š5MB
- ç”Ÿå‘½å‘¨æœŸï¼šæ°¸ä¹…å­˜å‚¨ï¼Œéœ€æ‰‹åŠ¨æ¸…é™¤
- ä½œç”¨åŸŸï¼šåŒæºé¡µé¢å…±äº«

**SessionStorage**

- å®¹é‡ï¼š5MB
- ç”Ÿå‘½å‘¨æœŸï¼šå½“å‰ä¼šè¯æœ‰æ•ˆï¼Œæ ‡ç­¾é¡µå…³é—­å³æ¸…é™¤
- ä½œç”¨åŸŸï¼šåŒä¸€æ ‡ç­¾é¡µçš„åŒæºé¡µé¢å…±äº«

## åŒæºç­–ç•¥

- æ˜¯ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œç”¨äºé™åˆ¶ä¸åŒæºçš„èµ„æºè®¿é—®
- è¦æ±‚åè®®ã€åŸŸåã€ç«¯å£å®Œå…¨ä¸€è‡´

## cookie å…±äº«è§„åˆ™

- cookieçš„ä½œç”¨èŒƒå›´ä¸»è¦ç”±domainå’Œpathå†³å®š
- åŒæºï¼šé¡µé¢ä¹‹é—´å…±äº«cookie
- è·¨åŸŸï¼šé»˜è®¤ä¸å…±äº«cookie
- å­åŸŸåï¼šéœ€è¦è®¾ç½®domainæ‰èƒ½å…±äº«cookie

## localStroage å­˜å¤§æ•°æ®ç©ºé—´å¯èƒ½ä¸å¤Ÿ

- é€šè¿‡æµ‹è¯•æ•°æ®åˆ†ç‰‡å­˜å‚¨ï¼Œå¤§è‡´è®¡ç®—å‰©ä½™ç©ºé—´

- åšå›æº¯åˆ é™¤æµ‹è¯•æ•°æ®

## IndexedDB

IndexedDB æ˜¯æµè§ˆå™¨å†…ç½®çš„**éå…³ç³»å‹ï¼ˆNoSQLï¼‰æœ¬åœ°æ•°æ®åº“**ï¼ŒåŸºäºäº‹åŠ¡æœºåˆ¶ï¼Œæ”¯æŒå­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®ï¼ˆJSONã€äºŒè¿›åˆ¶æ•°æ®ç­‰ï¼‰ï¼Œå¼¥è¡¥ localStorage å­˜å‚¨å®¹é‡å°ï¼ˆé€šå¸¸ 5MBï¼‰ã€ä»…å­˜å­—ç¬¦ä¸²çš„ä¸è¶³

#### ä½œç”¨ï¼š

1. ç¦»çº¿æ•°æ®å­˜å‚¨ï¼ˆå¦‚ PWA åº”ç”¨ç¦»çº¿ç¼“å­˜æ ¸å¿ƒæ•°æ®ï¼‰
2. å¤§é‡å‰ç«¯æ•°æ®æŒä¹…åŒ–ï¼ˆå¦‚åˆ†é¡µåˆ—è¡¨ã€ç”¨æˆ·æ“ä½œè®°å½•ï¼‰
3. æ›¿ä»£ localStorage å­˜å‚¨å¤æ‚ç»“æ„æ•°æ®ï¼ˆæ”¯æŒå¯¹è±¡ã€æ•°ç»„ã€Blob ç­‰ï¼‰
4. æ”¯æŒç´¢å¼•æŸ¥è¯¢ï¼Œæå‡å¤§æ•°æ®é‡ä¸‹çš„æ£€ç´¢æ•ˆç‡

#### ç‰¹æ€§

- å¼‚æ­¥æ“ä½œï¼šæ‰€æœ‰ API å‡ä¸ºå¼‚æ­¥ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹
- è·¨åŸŸé™åˆ¶ï¼šä»…åŒæºé¡µé¢å¯è®¿é—®
- å­˜å‚¨å®¹é‡ï¼šæ— å›ºå®šä¸Šé™ï¼ˆé€šå¸¸ä¸ºå‡ å GBï¼Œå—æµè§ˆå™¨ / è®¾å¤‡é™åˆ¶ï¼‰
- äº‹åŠ¡æœºåˆ¶ï¼šæ“ä½œéœ€åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§
- æ”¯æŒç´¢å¼•ï¼šå¯å¯¹å­—æ®µåˆ›å»ºç´¢å¼•ï¼Œå¿«é€ŸæŸ¥è¯¢æ•°æ®

#### æ€»ç»“

1. IndexedDB æ˜¯æµè§ˆå™¨ç«¯é«˜æ€§èƒ½ã€å¤§å®¹é‡çš„æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆï¼Œä¸»æ‰“å¼‚æ­¥ã€ç»“æ„åŒ–æ•°æ®å­˜å‚¨
2. æ ¸å¿ƒæµç¨‹ï¼šæ‰“å¼€æ•°æ®åº“ â†’ åˆ›å»º / è·å–å¯¹è±¡ä»“åº“ â†’ å¼€å¯äº‹åŠ¡ â†’ æ‰§è¡Œå¢åˆ æ”¹æŸ¥
3. é€‚ç”¨åœºæ™¯ï¼šç¦»çº¿åº”ç”¨ã€å¤§æ•°æ®é‡æœ¬åœ°ç¼“å­˜ã€å¤æ‚ç»“æ„æ•°æ®å­˜å‚¨
4. æ³¨æ„ï¼šAPI ååº•å±‚ï¼Œå®é™…å¼€å‘å¯å°è£…ï¼ˆå¦‚ localForage åº“ï¼‰ç®€åŒ–ä½¿ç”¨

## äº‹ä»¶å¾ªç¯

**å®šä¹‰**

äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰æ˜¯æµè§ˆå™¨è§£å†³ JS å•çº¿ç¨‹å¼‚æ­¥æ‰§è¡Œçš„æ ¸å¿ƒæœºåˆ¶ï¼šJS ä¸»çº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œå¼‚æ­¥ä»»åŠ¡ï¼ˆå® / å¾®ä»»åŠ¡ï¼‰è¿›å…¥å¯¹åº”é˜Ÿåˆ—ï¼ŒåŒæ­¥ä»£ç æ‰§è¡Œå®Œåï¼Œå…ˆæ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå†æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œé‡å¤æ­¤è¿‡ç¨‹å½¢æˆ â€œå¾ªç¯â€ã€‚

**å®ä»»åŠ¡ï¼ˆMacrotaskï¼‰**

| ç±»å‹                           | å¸¸è§åœºæ™¯                                        |
| ------------------------------ | ----------------------------------------------- |
| `script` æ•´ä½“ä»£ç               | é¡µé¢åŠ è½½æ—¶çš„ä¸»ä»£ç å—                            |
| `setTimeout`/`setInterval`     | å®šæ—¶å™¨å¼‚æ­¥ä»»åŠ¡                                  |
| `setImmediate`ï¼ˆIE/Edge æ”¯æŒï¼‰ | ç«‹å³æ‰§è¡Œçš„å®ä»»åŠ¡                                |
| `I/O`                          | ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å†™ï¼ˆæµè§ˆå™¨ç«¯ä¸»è¦ä¸º Ajax/fetchï¼‰ |
| `UI Rendering`                 | æµè§ˆå™¨é¡µé¢æ¸²æŸ“ï¼ˆæ¯è½®äº‹ä»¶å¾ªç¯æœ«å°¾æ‰§è¡Œï¼‰          |
| `requestAnimationFrame`        | åŠ¨ç”»å¸§å›è°ƒ                                      |

**å¾®ä»»åŠ¡ï¼ˆMicrotaskï¼‰**

| ç±»å‹                         | å¸¸è§åœºæ™¯                                      |
| ---------------------------- | --------------------------------------------- |
| `Promise.then/catch/finally` | Promise çŠ¶æ€å˜æ›´åçš„å›è°ƒ                      |
| `async/await`                | æœ¬è´¨æ˜¯ Promise è¯­æ³•ç³–ï¼Œawait åä»£ç å±äºå¾®ä»»åŠ¡ |
| `MutationObserver`           | ç›‘å¬ DOM å˜åŒ–çš„å›è°ƒ                           |
| `queueMicrotask()`           | æ‰‹åŠ¨æ·»åŠ å¾®ä»»åŠ¡çš„ API                          |

**é¡ºåº**

1. æ‰§è¡ŒåŒæ­¥ä»£ç  â†’ é‡åˆ°å® / å¾®ä»»åŠ¡åˆ†åˆ«å…¥å¯¹åº”é˜Ÿåˆ—ï¼›
2. åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯• â†’ æ‰§è¡Œ**æ‰€æœ‰å¾®ä»»åŠ¡**ï¼ˆæŒ‰å…¥é˜Ÿé¡ºåºï¼‰ï¼›
3. å¾®ä»»åŠ¡æ¸…ç©ºå â†’ æ‰§è¡Œ**ä¸€ä¸ªå®ä»»åŠ¡**ï¼›
4. é‡å¤ 1-3 æ­¥éª¤ï¼Œå½¢æˆäº‹ä»¶å¾ªç¯ã€‚

**æ€»ç»“**

1. å¾®ä»»åŠ¡ä¼˜å…ˆçº§é«˜äºå®ä»»åŠ¡ï¼Œæ¯è½®å®ä»»åŠ¡æ‰§è¡Œåå¿…æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼›
2. å¸¸è§å¾®ä»»åŠ¡ä»¥ Promise ç›¸å…³ä¸ºä¸»ï¼Œå®ä»»åŠ¡ä»¥å®šæ—¶å™¨ã€I/O ä¸ºä¸»ï¼›
3. äº‹ä»¶å¾ªç¯ä¿è¯äº†å¼‚æ­¥ä»»åŠ¡æŒ‰åºæ‰§è¡Œï¼Œé¿å…å•çº¿ç¨‹é˜»å¡ã€‚

## V8 ä¸ Web Worker

| è§’è‰²       | æ ¸å¿ƒä½œç”¨                                                     |
| ---------- | ------------------------------------------------------------ |
| V8         | è¿è¡Œ JS ä»£ç çš„å¼•æ“ï¼Œé»˜è®¤å•çº¿ç¨‹å·¥ä½œï¼›è´Ÿè´£å¤„ç†é¡µé¢äº¤äº’ã€DOM æ“ä½œã€æ¸²æŸ“ç›¸å…³é€»è¾‘ï¼Œæ˜¯å‰ç«¯ä»£ç çš„ â€œä¸»æ‰§è¡Œè€…â€ã€‚ |
| Web Worker | V8 çš„ â€œè®¡ç®—åŠ©æ‰‹â€ï¼Œå¯æ–°å¼€ç‹¬ç«‹çº¿ç¨‹ï¼›ä¸“é—¨æ‰¿æ¥è€—æ—¶é•¿ã€å èµ„æºçš„è®¡ç®—ç±»ä»»åŠ¡ï¼ˆå¦‚å¤æ‚æ•°æ®è¿ç®—ã€å¤§é‡å¾ªç¯å¤„ç†ï¼‰ï¼Œä¸ç¢°é¡µé¢ DOM / æ¸²æŸ“ã€‚ |

**å…³ç³»**

1. Web Worker ä¾é™„ V8 å¼•æ“å­˜åœ¨ï¼Œæ˜¯ä¸ºå¼¥è¡¥ V8 å•çº¿ç¨‹æ˜“å¡é¡¿çš„é—®é¢˜è€Œç”Ÿ
2. ä¸¤è€…é€šè¿‡ â€œæ¶ˆæ¯ä¼ é€’â€ æ²Ÿé€šï¼ˆWorker ç®—å®Œç»“æœä¼ ç»™ V8ï¼‰ï¼Œä¸å…±äº«æ•°æ®ï¼Œäº’ä¸å¹²æ‰°
3. V8 ä¸“æ³¨é¡µé¢æ ¸å¿ƒäº¤äº’ / æ¸²æŸ“ï¼ŒWorker ä¸“æ³¨è€—æ—¶è®¡ç®—ï¼Œåˆ†å·¥åä½œè®©ç½‘é¡µæ›´æµç•…

**æ€»ç»“**

V8 æ˜¯ç®¡å‰ç«¯ä»£ç è¿è¡Œçš„ â€œä¸»åŠ›â€ï¼ŒWeb Worker æ˜¯å¸® V8 å¹²è„æ´»ç´¯æ´»çš„ â€œè®¡ç®—åŠ©æ‰‹â€ï¼Œé¿å…ä¸»åŠ›è¢«å¤æ‚è®¡ç®—å¡ä½ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿ã€‚

## Runtime æ¨¡å¼ ä¸ Web Worker 

#### Runtime æ¨¡å¼ï¼ˆä¸»çº¿ç¨‹è¿è¡Œæ¨¡å¼ï¼‰

Runtimeï¼ˆè¿è¡Œæ—¶ï¼‰æ¨¡å¼ï¼Œç®€å•è¯´å°±æ˜¯**JS ä»£ç é»˜è®¤åœ¨æµè§ˆå™¨ä¸»çº¿ç¨‹ï¼ˆV8 å¼•æ“ä¸»çº¿ç¨‹ï¼‰é‡Œæ‰§è¡Œ**çš„æ¨¡å¼ï¼š

- ä¸»çº¿ç¨‹æ—¢è¦å¤„ç†ç”¨æˆ·ç‚¹å‡»ã€é¡µé¢æ¸²æŸ“ï¼Œåˆè¦è·‘æ‰€æœ‰ JS ä»£ç ï¼›
- å¦‚æœä»£ç é‡Œæœ‰è€—æ—¶è®¡ç®—ï¼ˆæ¯”å¦‚å¤§å¾ªç¯ã€å¤æ‚æ•°æ®å¤„ç†ï¼‰ï¼Œä¼šç›´æ¥å¡ä½ä¸»çº¿ç¨‹ â†’ é¡µé¢å¡é¡¿ã€ç‚¹ä¸åŠ¨ï¼ˆè¿™å°±æ˜¯ä½ è¯´çš„ â€œwrong timeâ€ æ ¸å¿ƒé—®é¢˜ï¼šæŠŠè€—æ´»æ”¾åœ¨äº†ä¸»çº¿ç¨‹çš„ â€œé”™è¯¯æ—¶æœº / é”™è¯¯ä½ç½®â€ï¼‰ã€‚

#### Web Workerï¼šè§£å†³ Runtime æ¨¡å¼å¡é¡¿çš„æ–¹æ¡ˆ

Web Worker æ˜¯æ‰‹åŠ¨åˆ›å»ºçš„ â€œç‹¬ç«‹å­çº¿ç¨‹â€ï¼ˆå¯ä»¥å¼€å¤šä¸ªï¼‰ï¼Œä¸“é—¨æ‰¿æ¥ä¸»çº¿ç¨‹çš„è€—æ—¶è®¡ç®—ï¼Œæ ¸å¿ƒç‰¹ç‚¹ï¼š

- âœ… éœ€**ä¸»åŠ¨åˆ›å»º + è°ƒç”¨**ï¼šä¸ä¼šè‡ªåŠ¨ç”Ÿæ•ˆï¼Œè¦æ‰‹åŠ¨å†™ä»£ç åˆ›å»ºå®ä¾‹ã€å‘é€ä»»åŠ¡ï¼›
- âœ… ä¸ç¢° DOMï¼šå­çº¿ç¨‹é‡Œä¸èƒ½æ“ä½œé¡µé¢å…ƒç´ ï¼ˆæ¯”å¦‚æ”¹æŒ‰é’®æ–‡å­—ã€æ¸²æŸ“åˆ—è¡¨ï¼‰ï¼›
- âœ… æ¶ˆæ¯é€šä¿¡ï¼šå’Œä¸»çº¿ç¨‹é `postMessage()`ä¼ æ•°æ®ã€`onmessage`æ”¶ç»“æœï¼Œäº’ä¸å¹²æ‰°ã€‚
- âš ï¸é€‚é…æƒ…å†µï¼š1.CPUå¯†é›†å‹ï¼›2.ä»»åŠ¡å¯è¢«ç‹¬ç«‹æ‹†åˆ†ï¼›å°±å¯ä»¥é€šè¿‡Web Workerå¼€å¤šä»»åŠ¡

egï¼šå¤§æ–‡ä»¶ä¸Šä¼ ï¼ˆæ–‡ä»¶åˆ†ç‰‡ï¼‰ã€å›¾è¡¨è®¡ç®—

#### å¯¹æ¯”ï¼ˆRuntime â†’ Web Worker æ”¹é€ é€»è¾‘ï¼‰

| æ¨¡å¼         | æ‰§è¡Œä½ç½®   | é—®é¢˜ç‚¹                      | æ”¹é€ ä¸º Worker å              |
| ------------ | ---------- | --------------------------- | ----------------------------- |
| Runtime æ¨¡å¼ | ä¸»çº¿ç¨‹     | è€—æ—¶è®¡ç®—å¡ä½é¡µé¢æ¸²æŸ“ / äº¤äº’ | è€—æ—¶è®¡ç®—ç§»åˆ° Worker å­çº¿ç¨‹    |
| Web Worker   | ç‹¬ç«‹å­çº¿ç¨‹ | ä¸èƒ½æ“ä½œ DOMã€éœ€æ‰‹åŠ¨è°ƒç”¨    | ä¸»çº¿ç¨‹ä¸“æ³¨æ¸²æŸ“ / äº¤äº’ï¼Œä¸å¡é¡¿ |

Runtime æ˜¯ JS é»˜è®¤çš„ä¸»çº¿ç¨‹è¿è¡Œæ¨¡å¼ï¼Œå®¹æ˜“å› è€—æ—¶è®¡ç®—å¡é¡¿ï¼›Web Worker éœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼ŒæŠŠ â€œå¡ä¸»çº¿ç¨‹çš„æ´»â€ ç§»åˆ°ç‹¬ç«‹å­çº¿ç¨‹ï¼Œè®©é¡µé¢ä¿æŒæµç•…ï¼Œæ ¸å¿ƒæ˜¯ â€œä¸»åŠ¨æ‹†åˆ†ã€æ¶ˆæ¯é€šä¿¡â€ã€‚

## V8 å¼•æ“å·¥ä½œè¿‡ç¨‹

#### å®šä½

V8 æ˜¯ Google å¼€å‘çš„å¼€æº JavaScript å¼•æ“ï¼Œç”¨äº Chrome æµè§ˆå™¨å’Œ Node.jsï¼Œ**æ ¸å¿ƒç›®æ ‡æ˜¯é«˜æ•ˆç¼–è¯‘ã€æ‰§è¡Œ JS ä»£ç **ï¼Œé‡‡ç”¨**å³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰** ç»“åˆè§£é‡Šæ‰§è¡Œçš„æ··åˆæ¨¡å¼ã€‚

#### å·¥ä½œæµç¨‹

1. **è¯æ³•åˆ†æï¼ˆScannerï¼‰**
   - æŠŠè¾“å…¥çš„ JS æºä»£ç å­—ç¬¦ä¸²ï¼Œæ‹†åˆ†æˆä¸€ä¸ªä¸ª**è¯æ³•å•å…ƒ**ï¼ˆTokenï¼‰
   - ä¾‹ï¼š`let a = 1;` â†’ æ‹†åˆ†ä¸º `let`/`a`/`=`/`1`/`;` ç­‰ Token
2. **è¯­æ³•åˆ†æï¼ˆParserï¼‰â†’ ç”Ÿæˆ AST**
   - æŒ‰ç…§ JS è¯­æ³•è§„åˆ™ï¼Œå°† Token åºåˆ—ç»„è£…æˆ**æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰**ï¼ŒAST æ˜¯ä»£ç çš„æ ‘å½¢æŠ½è±¡è¡¨ç¤ºï¼Œä¸¢å¼ƒäº†ç©ºæ ¼ã€æ³¨é‡Šç­‰æ— å…³ä¿¡æ¯ï¼Œåªä¿ç•™è¯­æ³•ç»“æ„
   - **ä½œç”¨**ï¼šAST æ˜¯åç»­ç¼–è¯‘ã€ä¼˜åŒ–çš„åŸºç¡€ï¼ŒESLintã€Babelã€ä»£ç å‹ç¼©å·¥å…·éƒ½ä¾èµ– AST å·¥ä½œ
3. **è§£é‡Šæ‰§è¡Œï¼ˆIgnition è§£é‡Šå™¨ï¼‰**
   - V8 æ—©æœŸç‰ˆæœ¬ä¼šç›´æ¥ç”¨ **Ignition è§£é‡Šå™¨** éå† ASTï¼Œç”Ÿæˆ**å­—èŠ‚ç **ï¼ˆä»‹äº AST å’Œæœºå™¨ç ä¹‹é—´çš„ä¸­é—´ä»£ç ï¼‰ï¼Œç„¶åé€è¡Œè§£é‡Šæ‰§è¡Œå­—èŠ‚ç 
   - **ä¼˜åŠ¿**ï¼šå¯åŠ¨å¿«ï¼Œé€‚åˆé¦–æ¬¡æ‰§è¡Œçš„ä»£ç ï¼›**åŠ£åŠ¿**ï¼šæ‰§è¡Œé€Ÿåº¦æ¯”æœºå™¨ç æ…¢
4. **ç¼–è¯‘ä¼˜åŒ–ï¼ˆTurboFan ç¼–è¯‘å™¨ï¼‰**
   - V8 çš„**çƒ­ç‚¹ä»£ç ç›‘æµ‹**æœºåˆ¶ä¼šç»Ÿè®¡ä»£ç æ‰§è¡Œæ¬¡æ•°ï¼Œå°†é¢‘ç¹æ‰§è¡Œçš„ä»£ç æ ‡è®°ä¸º**çƒ­ç‚¹ä»£ç **
   - TurboFan ç¼–è¯‘å™¨ä¼šæŠŠçƒ­ç‚¹ä»£ç çš„å­—èŠ‚ç ï¼Œç¼–è¯‘æˆ**ä¼˜åŒ–åçš„æœºå™¨ç **ï¼Œç›´æ¥äº¤ç»™ CPU æ‰§è¡Œï¼Œå¤§å¹…æå‡æ‰§è¡Œé€Ÿåº¦
   - **å…³é”®ä¼˜åŒ–**ï¼šåŸºäºç±»å‹æ¨æµ‹ï¼ˆæ¯”å¦‚æ¨æµ‹å˜é‡æ˜¯æ•°å­—ç±»å‹ï¼‰ç”Ÿæˆé«˜æ•ˆæœºå™¨ç ï¼›è‹¥ç±»å‹å‘ç”Ÿå˜åŒ–ï¼ˆæ¯”å¦‚å˜é‡ä»æ•°å­—å˜æˆå­—ç¬¦ä¸²ï¼‰ï¼Œä¼šè§¦å‘**å»ä¼˜åŒ–**ï¼Œå›é€€åˆ°è§£é‡Šæ‰§è¡Œ
5. **åƒåœ¾å›æ”¶ï¼ˆGCï¼‰**
   - æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒV8 çš„åƒåœ¾å›æ”¶å™¨ä¼šè‡ªåŠ¨æ¸…ç†ä¸å†ä½¿ç”¨çš„å†…å­˜ï¼ˆå¦‚æœªè¢«å¼•ç”¨çš„å¯¹è±¡ï¼‰ï¼Œé€šè¿‡**åˆ†ä»£å›æ”¶**ï¼ˆæ–°ç”Ÿä»£ + è€ç”Ÿä»£ï¼‰æå‡å›æ”¶æ•ˆç‡ã€‚

**æ€»ç»“**

V8 å…ˆæŠŠ JS ä»£ç æ‹†æˆ Token â†’ ç”Ÿæˆ AST â†’ è§£é‡Šå™¨è½¬å­—èŠ‚ç æ‰§è¡Œ â†’ çƒ­ç‚¹ä»£ç ç”±ç¼–è¯‘å™¨è½¬æœºå™¨ç æé€Ÿï¼Œå…¨ç¨‹å…¼é¡¾å¯åŠ¨é€Ÿåº¦å’Œè¿è¡Œæ€§èƒ½ã€‚

## ASTï¼ˆAbstract Syntax Treeï¼‰

**ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰**ï¼šæºä»£ç è§£æåçš„**ç»“æ„åŒ–æ ‘çŠ¶æ•°æ®**ï¼Œå‰¥ç¦»æ ¼å¼ç»†èŠ‚ï¼ˆç©ºæ ¼ã€æ³¨é‡Šï¼‰ï¼Œä»…ä¿ç•™è¯­æ³•é€»è¾‘ï¼Œæ˜¯ä»£ç è½¬æ¢ã€åˆ†æçš„ä¸­é—´è½½ä½“ã€‚

`ASTå®šä½:`**AST æ˜¯ JS ä»£ç è½¬æ¢è¿‡ç¨‹çš„ä¸­é—´æ•°æ®ç»“æ„**ï¼Œèƒ½è¾…åŠ©æµè§ˆå™¨çš„ JavaScript å¼•æ“è§£æã€æ£€æŸ¥è¯­æ³•å¹¶è¿›è¡Œä¼˜åŒ–ï¼Œæœ€ç»ˆé«˜æ•ˆæ‰§è¡Œ JS ä»£ç ã€‚

#### åº”ç”¨

1. **Babel è¯­æ³•è½¬æ¢**

   - è§£æ ES6+ ä»£ç ç”Ÿæˆ AST
   - éå†ä¿®æ”¹ ASTï¼ˆå¦‚ç®­å¤´å‡½æ•°è½¬æ™®é€šå‡½æ•°ï¼‰
   - ç”Ÿæˆ ES5 å…¼å®¹ä»£ç 

2. **Vue æ¨¡æ¿ç¼–è¯‘**

   Vue åœ¨æ„å»ºæ—¶ï¼Œæ¨¡æ¿ç­‰å†…å®¹å…ˆè¢«è§£ææˆ ASTï¼Œç„¶åä¾æ® AST ç”Ÿæˆå¯åœ¨æµè§ˆå™¨è¿è¡Œçš„ JavaScript ä»£ç 

3. **æ„å»ºå·¥å…·ï¼ˆWebpack/Viteï¼‰**

   - åˆ†æ AST æ¢³ç†æ¨¡å—ä¾èµ–
   - Tree-Shakingï¼šåˆ é™¤ AST ä¸­æœªä½¿ç”¨çš„ä»£ç èŠ‚ç‚¹
   - åˆå¹¶å¤šæ¨¡å— AST ç”Ÿæˆæ‰“åŒ…äº§ç‰©

4. **ä»£ç å‹ç¼©æ··æ·†ï¼ˆTerserï¼‰**

   - éå† AST åˆ æ³¨é‡Šã€ç®€åŒ–è¯­æ³•
   - ä¿®æ”¹ AST æ ‡è¯†ç¬¦ï¼ˆå˜é‡ / å‡½æ•°åå˜çŸ­ï¼‰
   - ç”Ÿæˆä½“ç§¯æ›´å°ã€éš¾é˜…è¯»çš„ä»£ç 

5. **ä»£ç æ£€æŸ¥ï¼ˆESLintï¼‰**

   - è§£æä»£ç ä¸º AST
   - æŒ‰è§„åˆ™æ£€æŸ¥ AST èŠ‚ç‚¹ï¼ˆå¦‚ç¦ç”¨ `var`ï¼‰
   - è¾“å‡ºè¯­æ³• / è§„èŒƒé”™è¯¯

**æ€»ç»“**

AST æ˜¯ä»£ç  â€œè§£æ - ä¿®æ”¹ - ç”Ÿæˆâ€ çš„æ ¸å¿ƒï¼Œå‰ç«¯å·¥å…·é“¾å‡ ä¹éƒ½ä¾èµ–å®ƒã€‚

## historyéƒ¨ç½²

å“ˆå¸Œæ¨¡å¼ï¼ˆ#ï¼‰ä¾èµ–æµè§ˆå™¨ç«¯è·¯ç”±ï¼Œhistory æ¨¡å¼ä¾èµ–æœåŠ¡ç«¯é…ç½®ï¼Œ`éƒ¨ç½²æ ¸å¿ƒæ˜¯è®©æœåŠ¡ç«¯å¯¹æ‰€æœ‰è·¯ç”±è¯·æ±‚è¿”å›å‰ç«¯å…¥å£æ–‡ä»¶ï¼ˆå¦‚ index.htmlï¼‰`

#### æ­¥éª¤

1. å‰ç«¯é…ç½®ä¿®æ”¹ï¼š
   - è·¯ç”±é…ç½®ä¸­æŠŠ`mode: 'hash'`æ”¹ä¸º`mode: 'history'`ï¼›
   - è‹¥ç”¨ Vue/React æ¡†æ¶ï¼Œé…ç½®`base`ï¼ˆå¦‚éƒ¨ç½²å­è·¯å¾„éœ€æŒ‡å®šï¼Œä¾‹`base: '/admin/'`ï¼‰ã€‚
2. æœåŠ¡ç«¯é…ç½®ï¼ˆå…³é”®ï¼‰ï¼š
   - Nginxï¼šä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ `try_files $uri $uri/ /index.html;`ï¼ˆåŒ¹é…ä¸åˆ°æ–‡ä»¶æ—¶è¿”å›å…¥å£æ–‡ä»¶ï¼‰ï¼›
   - Apacheï¼šé…ç½®`.htaccess`ï¼Œæ·»åŠ `FallbackResource /index.html`ï¼›
   - Node.jsï¼ˆExpressï¼‰ï¼šç”¨`express-history-api-fallback`ä¸­é—´ä»¶ï¼ŒæŒ‡å‘å…¥å£æ–‡ä»¶ã€‚

æ ¸å¿ƒé€»è¾‘ï¼šhistory æ¨¡å¼ä¸‹æµè§ˆå™¨ç›´æ¥è¯·æ±‚`/xxx`ï¼ˆæ—  #ï¼‰ï¼ŒæœåŠ¡ç«¯éœ€æ‹¦æˆªè¿™ç±»éé™æ€èµ„æºè¯·æ±‚ï¼Œç»Ÿä¸€è¿”å›å…¥å£æ–‡ä»¶ï¼Œç”±å‰ç«¯è·¯ç”±æ¥ç®¡è§£æã€‚

# æ€§èƒ½ä¼˜åŒ–

## æ ¸å¿ƒæŒ‡æ ‡
- åŠ è½½æ€§èƒ½
- èµ„æºåŠ è½½å¤§å°
- è¿è¡Œæ€§èƒ½
- å†…å­˜æ€§èƒ½

## å‰ç«¯æ€§èƒ½æŒ‡æ ‡ï¼ˆè°·æ­Œæå‡ºï¼‰

| ç®€å†™     |           å…¨å†™           | é‡Šä¹‰             | æŒ‡æ ‡å«ä¹‰                                                 | å…³æ³¨é‡ç‚¹                            | ä¼˜åŒ–æ–¹æ¡ˆ                                                     |
| -------- | :----------------------: | ---------------- | -------------------------------------------------------- | ----------------------------------- | ------------------------------------------------------------ |
| **Load** |        Load Event        | é¡µé¢åŠ è½½å®Œæˆäº‹ä»¶ | é¡µé¢æ‰€æœ‰èµ„æºï¼ˆDOMã€CSSã€JSã€å›¾ç‰‡ã€å­—ä½“ç­‰ï¼‰åŠ è½½å®Œæˆåè§¦å‘ | å…¨éƒ¨èµ„æºåŠ è½½å®Œæˆæƒ…å†µ                | 1. å‹ç¼©å›¾ç‰‡ï¼ˆWebP/AVIF æ ¼å¼ï¼‰ã€æ‡’åŠ è½½éé¦–å±å›¾ç‰‡ï¼›2. åˆå¹¶å‹ç¼© CSS/JSï¼Œå‰”é™¤æ— ç”¨ä»£ç ï¼›3. å­—ä½“æ–‡ä»¶é¢„åŠ è½½ï¼ˆlink rel="preload"ï¼‰æˆ–ä½¿ç”¨ç³»ç»Ÿå­—ä½“ï¼›4. å‡å°‘ç¬¬ä¸‰æ–¹èµ„æºï¼ˆå¦‚å¹¿å‘Šã€ç»Ÿè®¡è„šæœ¬ï¼‰ |
| **FP**   |       First Paint        | é¦–æ¬¡ç»˜åˆ¶         | æµè§ˆå™¨é¦–æ¬¡æ¸²æŸ“åƒç´ çš„æ—¶é—´ï¼ˆå¦‚èƒŒæ™¯è‰²ï¼‰                     | é¦–æ¬¡è§†è§‰åé¦ˆ                        | 1. å†…è”å…³é”® CSSï¼ˆé¿å…å¤–éƒ¨ CSS é˜»å¡æ¸²æŸ“ï¼‰ï¼›2. å‡å°‘é¦–å± HTML ä½“ç§¯ï¼ˆå‰”é™¤å†—ä½™æ ‡ç­¾ï¼‰ï¼›3. é¿å…é¦–å±åŠ è½½é‡é‡çº§ JSï¼ˆå»¶è¿ŸåŠ è½½éå…³é”® JSï¼‰ï¼›4. è®¾ç½®é¡µé¢èƒŒæ™¯è‰²ï¼ˆè®©ç”¨æˆ·å¿«é€Ÿæ„ŸçŸ¥åŠ è½½ï¼‰ |
| **FCP**  |  First Contentful Paint  | é¦–æ¬¡å†…å®¹ç»˜åˆ¶     | é¦–æ¬¡æ¸²æŸ“æœ‰æ„ä¹‰å†…å®¹ï¼ˆæ–‡æœ¬ã€å›¾ç‰‡ç­‰ï¼‰çš„æ—¶é—´                 | æœ‰ç”¨å†…å®¹é¦–æ¬¡å‡ºç°                    | 1. ä¼˜å…ˆåŠ è½½é¦–å±å…³é”®èµ„æºï¼ˆæ–‡æœ¬ã€æ ¸å¿ƒå›¾ç‰‡ï¼‰ï¼›2. å†…è”é¦–å±å¿…è¦ JSï¼ˆé¿å…å¤–éƒ¨ JS é˜»å¡ DOM è§£æï¼‰ï¼›3. ä¼˜åŒ– HTML è§£æï¼ˆå‡å°‘åµŒå¥—ã€é¿å…åŒæ­¥è„šæœ¬é˜»å¡ï¼‰ï¼›4. ä½¿ç”¨ CDN åŠ é€Ÿé™æ€èµ„æº |
| **DCL**  |     DOMContentLoaded     | DOM å†…å®¹åŠ è½½å®Œæˆ | åˆå§‹ HTML è§£æå®Œæˆï¼ˆæ— éœ€ç­‰ CSS / å›¾ç‰‡ï¼‰æ—¶è§¦å‘            | DOM è§£ææ•ˆç‡                        | 1. æŠŠéå…³é”® JS æ”¾åœ¨bodyåº•éƒ¨æˆ–åŠ defer/asyncï¼›2. å‡å°‘ HTML æ–‡ä»¶å¤§å°ï¼ˆå‹ç¼©ã€å‰”é™¤æ³¨é‡Šï¼‰ï¼›3. é¿å…åŒæ­¥åŠ è½½ç¬¬ä¸‰æ–¹è„šæœ¬ï¼›4. ä¼˜åŒ– CSS åŠ è½½ï¼ˆé¿å… CSSOM é˜»å¡ DOM è§£æï¼‰ |
| **LCP**  | Largest Contentful Paint | æœ€å¤§å†…å®¹ç»˜åˆ¶     | è§†å£å†…æœ€å¤§å¯è§å†…å®¹å…ƒç´ å®Œæˆæ¸²æŸ“çš„æ—¶é—´                     | æ ¸å¿ƒå†…å®¹åŠ è½½é€Ÿåº¦ï¼ˆCore Web Vitalsï¼‰ | 1. ä¼˜åŒ–æ ¸å¿ƒå›¾ç‰‡ï¼ˆå‹ç¼©ã€å»¶è¿ŸåŠ è½½éé¦–å±å¤§å›¾ã€ä½¿ç”¨loading="lazy"ï¼‰ï¼›2. å†…è”å…³é”® CSSï¼Œé¿å…æ¸²æŸ“é˜»å¡ï¼›3. é¢„åŠ è½½æ ¸å¿ƒèµ„æºï¼ˆpreloadå¤§å›¾ç‰‡ / å…³é”®è„šæœ¬ï¼‰ï¼›4. ä¼˜åŒ–æœåŠ¡å™¨å“åº”é€Ÿåº¦ï¼ˆSSR/SSGã€CDN ç¼“å­˜ï¼‰ï¼›5. é¿å…é¦–å±æ ¸å¿ƒå†…å®¹è¢« JS åŠ¨æ€æ’å…¥ï¼ˆç›´æ¥å†™åœ¨ HTML ä¸­ï¼‰ |
| **FID**  |    First Input Delay     | é¦–æ¬¡è¾“å…¥å»¶è¿Ÿ     | ç”¨æˆ·é¦–æ¬¡äº¤äº’åˆ°æµè§ˆå™¨å“åº”çš„æ—¶é—´å·®                         | äº¤äº’å“åº”æ€§ï¼ˆCore Web Vitalsï¼‰       | 1. æ‹†åˆ†é‡é‡çº§ JSï¼ˆæŒ‰åŠŸèƒ½åˆ†åŒ…ï¼ŒæŒ‰éœ€åŠ è½½ï¼‰ï¼›2. ä¼˜åŒ– JS æ‰§è¡Œæ•ˆç‡ï¼ˆå‡å°‘é•¿ä»»åŠ¡ã€ä½¿ç”¨ Web Workers å¤„ç†è€—æ—¶é€»è¾‘ï¼‰ï¼›3. å»¶è¿ŸåŠ è½½éå…³é”® JSï¼ˆrequestIdleCallbackï¼‰ï¼›4. å‡å°‘ä¸»çº¿ç¨‹é˜»å¡ï¼ˆé¿å…åŒæ­¥æ‰§è¡Œå¤§é‡è®¡ç®—ï¼‰ |
| **TTI**  |   Time to Interactive    | å¯äº¤äº’æ—¶é—´       | é¡µé¢å®Œå…¨åŠ è½½ä¸”èƒ½æµç•…å“åº”ç”¨æˆ·äº¤äº’çš„æ—¶é—´                   | æ•´ä½“äº¤äº’å°±ç»ªåº¦                      | 1. ä¼˜åŒ– LCPï¼ˆæ ¸å¿ƒå†…å®¹å¿«é€ŸåŠ è½½ï¼‰ï¼›2. å‡å°‘ TBTï¼ˆä¸»çº¿ç¨‹é˜»å¡ï¼‰ï¼›3. å»¶è¿ŸåŠ è½½éé¦–å±èµ„æºï¼›4. ä¼˜åŒ– JS æ‰§è¡Œï¼ˆæ‹†åˆ†é•¿ä»»åŠ¡ã€ç¼“å­˜è®¡ç®—ç»“æœï¼‰ |
| **TBT**  |   Total Blocking Time    | æ€»é˜»å¡æ—¶é—´       | FCP åˆ° TTI æœŸé—´ï¼Œä¸»çº¿ç¨‹é˜»å¡è¶… 50ms çš„æ—¶é—´æ€»å’Œ            | ä¸»çº¿ç¨‹é˜»å¡æƒ…å†µï¼ˆCore Web Vitalsï¼‰   | 1. æ‹†åˆ†é•¿ä»»åŠ¡ï¼ˆå°†å•ä¸ª > 50ms çš„ JS ä»»åŠ¡æ‹†åˆ†ä¸ºå¤šä¸ªçŸ­ä»»åŠ¡ï¼‰ï¼›2. ä¼˜åŒ– JS ä»£ç ï¼ˆå‡å°‘å¾ªç¯åµŒå¥—ã€é¿å…ä¸å¿…è¦çš„ DOM æ“ä½œï¼‰ï¼›3. ä½¿ç”¨ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰æŒ‰éœ€åŠ è½½ JSï¼›4. é¿å…åŒæ­¥åŠ è½½å¤§å‹åº“ï¼ˆç”¨ ES æ¨¡å—åŠ¨æ€å¯¼å…¥ï¼‰ |
| **CLS**  | Cumulative Layout Shift  | ç´¯ç§¯å¸ƒå±€åç§»     | é¡µé¢ç”Ÿå‘½å‘¨æœŸå†…å¯è§å…ƒç´ æ„å¤–å¸ƒå±€åç§»çš„ç´¯ç§¯åˆ†æ•°             | è§†è§‰ç¨³å®šæ€§ï¼ˆCore Web Vitalsï¼‰       | 1. å›¾ç‰‡ / è§†é¢‘è®¾ç½®å›ºå®šå®½é«˜æ¯”ï¼ˆaspect-ratioï¼‰æˆ–å ä½ç¬¦ï¼›2. é¿å…åŠ¨æ€æ’å…¥å†…å®¹åˆ°é¡µé¢é¡¶éƒ¨ï¼›3. å­—ä½“åŠ è½½æ—¶ä½¿ç”¨font-display: swapé¿å…æ–‡å­—è·³åŠ¨ï¼›4. é¢„ç•™å¹¿å‘Š / åŠ¨æ€ç»„ä»¶çš„å›ºå®šç©ºé—´ |
| **FMP**  |  First Meaningful Paint  | é¦–æ¬¡æœ‰æ•ˆç»˜åˆ¶     | ä¸»è¦å†…å®¹é¦–æ¬¡å‘ˆç°çš„æ—¶é—´ï¼ˆå·²è¢« LCP æ›¿ä»£ï¼‰                  | æ—©æœŸæœ‰ç”¨å†…å®¹å‘ˆç°                    | åŒ FCP+LCP ä¼˜åŒ–æ–¹æ¡ˆï¼ˆä¼˜å…ˆä¿éšœé¦–å±æ ¸å¿ƒå†…å®¹åŠ è½½å’Œæ¸²æŸ“ï¼‰        |

**æ€»ç»“**

1. **æ„ŸçŸ¥ç±»æŒ‡æ ‡**ï¼šFPã€FCPã€LCP å…³æ³¨é¡µé¢ â€œè§†è§‰å‘ˆç°â€ï¼Œç›´æ¥å½±å“ç”¨æˆ·ç¬¬ä¸€å°è±¡ï¼›
2. **äº¤äº’ç±»æŒ‡æ ‡**ï¼šFIDã€TBTã€TTI å…³æ³¨é¡µé¢ â€œå“åº”é€Ÿåº¦â€ï¼Œå½±å“ç”¨æˆ·æ“ä½œä½“éªŒï¼›
3. **ç¨³å®šæ€§æŒ‡æ ‡**ï¼šCLS å…³æ³¨é¡µé¢ â€œè§†è§‰ç¨³å®šæ€§â€ï¼Œé¿å…å¸ƒå±€æŠ–åŠ¨ï¼›
4. **åŸºç¡€æŒ‡æ ‡**ï¼šDCLã€Load å…³æ³¨ DOM è§£æå’Œèµ„æºåŠ è½½çš„åº•å±‚æ•ˆç‡ï¼›
5. **æ ¸å¿ƒé‡ç‚¹**ï¼šLCPã€FIDã€CLS æ˜¯ Google æå‡ºçš„ **Core Web Vitals**ï¼ˆæ ¸å¿ƒç½‘é¡µæŒ‡æ ‡ï¼‰ï¼Œç›´æ¥å½±å“ SEO å’Œç”¨æˆ·ä½“éªŒã€‚

## ä¼˜åŒ–ç­–ç•¥

**èµ„æºå±‚é¢**
- Tree Shakingã€å‹ç¼©ä»£ç å‡å°‘æ‰“åŒ…ä½“ç§¯
- CDNåˆ†å‘é™æ€èµ„æº
- å›¾ç‰‡è½¬WebP

**åŠ è½½ç­–ç•¥**
- æ‡’åŠ è½½ã€é¢„åŠ è½½å…³é”®èµ„æº
- æŒ‰éœ€åŠ è½½
- éª¨æ¶å±ä¼˜åŒ–ä½“éªŒ
- WebViewé¢„åŠ è½½ï¼ˆh5ï¼‰

**æ¸²æŸ“ä¼˜åŒ–**
- SSRæœåŠ¡ç«¯æ¸²æŸ“
- Next.jsé¢„æ¸²æŸ“
- è™šæ‹Ÿåˆ—è¡¨
- å‡å°‘é‡æ’é‡ç»˜

**ç¼“å­˜ç­–ç•¥**
- HTTPæ¥å£ç¼“å­˜ï¼ˆå“åº”å¤´Cache-Controlï¼‰
- æœ¬åœ°ç¼“å­˜å¸¸ç”¨æ•°æ®

## å­—ä½“å­é›†åŒ–

1. å®šä¹‰ï¼š

ä»å®Œæ•´å­—ä½“æ–‡ä»¶ä¸­ï¼Œæå–ç½‘é¡µ / åº”ç”¨**å®é™…ç”¨åˆ°çš„å­—ç¬¦**ï¼ˆå¦‚ä»…ä¿ç•™ä¸­æ–‡å¸¸ç”¨å­—ã€é¡µé¢ç‰¹å®šæ–‡æœ¬ï¼‰ï¼Œç”Ÿæˆç²¾ç®€ç‰ˆå­—ä½“æ–‡ä»¶çš„ä¼˜åŒ–æŠ€æœ¯ï¼ˆæœ¬è´¨æ˜¯ â€œå­—ä½“ç˜¦èº«â€ï¼‰

2. ä½œç”¨

- å¤§å¹…å‡å°å­—ä½“æ–‡ä»¶ä½“ç§¯ï¼ˆå®Œæ•´å­—ä½“å¯èƒ½å‡  MBï¼Œå­é›†åŒ–åå¯é™è‡³å‡ å KBï¼‰

- åŠ å¿«å­—ä½“åŠ è½½é€Ÿåº¦ï¼Œæå‡é¡µé¢æ€§èƒ½ï¼ˆå°¤å…¶ä¼˜åŒ– LCPã€Load æŒ‡æ ‡ï¼‰

- èŠ‚çœç½‘ç»œå¸¦å®½å’Œç”¨æˆ·æµé‡ï¼Œé€‚é…ç§»åŠ¨åœºæ™¯

3. åœºæ™¯

- ç½‘é¡µä»…ä½¿ç”¨ç‰¹å®šå­—ç¬¦ï¼ˆå¦‚ä¸­æ–‡å¸¸ç”¨å­—ã€å“ç‰Œåç§°ä¸“ç”¨å­—ï¼‰
- ç§»åŠ¨ç«¯åº”ç”¨ï¼ˆéœ€æ§åˆ¶å®‰è£…åŒ…å¤§å°ã€å‡å°‘èµ„æºåŠ è½½ï¼‰
- éœ€åŠ è½½ç‰¹æ®Šå­—ä½“ï¼ˆå¦‚ä¹¦æ³•ä½“ã€å“ç‰Œå®šåˆ¶å­—ä½“ï¼‰ä½†ä»…ç”¨å°‘é‡å­—ç¬¦çš„åœºæ™¯

4. æ³¨æ„ç‚¹

- éœ€æå‰æ˜ç¡®ç”¨åˆ°çš„å­—ç¬¦é›†ï¼ˆé¿å…é—æ¼å¿…è¦å­—ç¬¦å¯¼è‡´æ˜¾ç¤ºå¼‚å¸¸ï¼‰
- éœ€æµ‹è¯•å…¼å®¹æ€§ï¼ˆéƒ¨åˆ†å­é›†åŒ–å·¥å…·ç”Ÿæˆçš„å­—ä½“å¯èƒ½åœ¨æ—§æµè§ˆå™¨æ˜¾ç¤ºå¼‚å¸¸ï¼‰
- é…åˆ`font-display: swap`ä½¿ç”¨ï¼Œé¿å…å­—ä½“åŠ è½½æœŸé—´æ–‡å­—ä¸å¯è§

# ç½‘ç»œé€šè®¯

## SSE æ–­è¿

- SSE `onerror`äº‹ä»¶ï¼Œæ–­è¿è‡ªåŠ¨è§¦å‘
- è®¾ç½®é‡è¯•é—´éš”å’Œæœ€å¤§æ¬¡æ•°
- sseæ²¡æœ‰é‡è¿æœºåˆ¶ï¼Œæ–­å¼€åªèƒ½æ–°å»ºç«‹ä¸€ä¸ªè¿æ¥

## WS æ–­è¿

- å¿ƒè·³æœºåˆ¶æ£€æµ‹è¿æ¥çŠ¶æ€
- æ–­è„¸è§¦å‘ä¼š`onclose`äº‹ä»¶
- è¶…æ—¶è®¤ä¸ºè¿æ¥æ–­å¼€
- è¿æ¥é”™è¯¯ä¼šè§¦å‘`onerror`äº‹ä»¶

## WS vs SSE

- é€šä¿¡æ–¹å‘
  WebSocketï¼šå…¨åŒå·¥é€šä¿¡ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥äº’ç›¸å‘é€æ¶ˆæ¯
  Server-Sent Eventsï¼šå•å‘é€šä¿¡ï¼Œåªèƒ½æœåŠ¡å™¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®
- åè®®åŸºç¡€
  WebSocketï¼šç‹¬ç«‹çš„ WebSocket åè®®ï¼Œéœ€è¦åè®®å‡çº§
  Server-Sent Eventsï¼šåŸºäº HTTP åè®®ï¼Œä½¿ç”¨æ ‡å‡† HTTP è¯·æ±‚
- æ•°æ®æ ¼å¼
  WebSocketï¼šæ”¯æŒäºŒè¿›åˆ¶æ•°æ®å’Œæ–‡æœ¬æ•°æ®
  Server-Sent Eventsï¼šåªæ”¯æŒæ–‡æœ¬æ•°æ®ï¼Œæ ¼å¼ä¸º text/event-stream
- è¿æ¥ç®¡ç†
  WebSocketï¼šæŒä¹…è¿æ¥ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†é‡è¿
  Server-Sent Eventsï¼šæµè§ˆå™¨è‡ªåŠ¨å¤„ç†é‡è¿ï¼Œæ”¯æŒæ–­çº¿é‡è¿
- é€‚ç”¨åœºæ™¯
  WebSocketï¼šèŠå¤©åº”ç”¨ã€å®æ—¶æ¸¸æˆã€ååŒç¼–è¾‘ç­‰åŒå‘é€šä¿¡åœºæ™¯
  Server-Sent Eventsï¼šæ–°é—»æ¨é€ã€è‚¡ç¥¨è¡Œæƒ…ã€å®æ—¶é€šçŸ¥ç­‰å•å‘ä¿¡æ¯æµåœºæ™¯
- CORS é™åˆ¶
  WebSocketï¼šä¸å—åŒæºç­–ç•¥é™åˆ¶
  Server-Sent Eventsï¼šå—åŒæºç­–ç•¥é™åˆ¶ï¼Œè·¨åŸŸéœ€è¦é…ç½® CORS
- å¤´éƒ¨å¼€é”€
  WebSocketï¼šå»ºç«‹è¿æ¥åå¤´éƒ¨å¼€é”€å¾ˆå°ï¼Œå¯¹æœåŠ¡å™¨å¼€é”€å¤§
  Server-Sent Eventsï¼šæ¯ä¸ªæ¶ˆæ¯éƒ½åŒ…å« HTTP å¤´éƒ¨ä¿¡æ¯

## è·¨åŸŸè§£å†³æ–¹æ¡ˆ

- CORSï¼šåç«¯é…ç½® Access-Control-Allow-Origin
- JSONPï¼šåˆ©ç”¨scriptæ ‡ç­¾ï¼Œä»…GETè¯·æ±‚
- ä»£ç†æœåŠ¡å™¨ï¼šå¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨
- PostMessageï¼šè·¨æºçª—å£é€šä¿¡
- Document.domainï¼šä¸»åŸŸåç›¸åŒæ—¶ä½¿ç”¨

## åˆ¤æ–­ç½‘ç»œæƒ…å†µ

- navigator.connectionï¼š
  downlink è¡¨ç¤ºå½“å‰ä¸‹è½½é€Ÿåº¦
  rtt å¾€è¿”æ—¶å»¶ï¼Œååº”ç½‘ç»œå“åº”é€Ÿåº¦
  effectiveTypeï¼šç½‘ç»œç±»å‹2Gã€3Gã€4Gã€5G
- onlineã€offlineï¼š
  åªèƒ½åˆ¤æ–­æ˜¯å¦æœ‰ç½‘ï¼Œä¸èƒ½ç¡®å®šç½‘ç»œè´¨é‡
- wsã€sse é€šè¿‡å¿ƒè·³æ£€æµ‹åˆ¤æ–­
- æ¥å£å“åº”æ—¶é—´

## document.domain

- ä½œç”¨ï¼šç»•è¿‡æµè§ˆå™¨åŒæºç­–ç•¥é™åˆ¶
- åŸç†ï¼šæ‰‹åŠ¨è®¾ç½®document.domain = ä¸»åŸŸåï¼Œè®©ä¸åŒå­åŸŸåé¡µé¢å…±äº«åŒä¸€åŸŸå
- åœºæ™¯ï¼šä¸»åŸŸåç›¸åŒï¼Œå­åŸŸåä¸åŒçš„æƒ…å†µä¸‹ä½¿ç”¨

## HTTPåè®®

#### 1. HTTP 0.9ï¼ˆ1991ï¼ŒåŸå§‹å•è¡Œåè®®ï¼‰
- **å®šä¹‰**ï¼šæ— å®˜æ–¹ç‰ˆæœ¬å·ï¼Œåè¢«å®šä¸º 0.9ï¼Œå±äºæç®€çš„å•è¡Œåè®®ï¼Œä¸»è¦ç”¨äºå­¦æœ¯åœºæ™¯ä¸‹è¶…æ–‡æœ¬ä¼ è¾“
- **ç‰¹ç‚¹**ï¼šä»…æ”¯æŒ GET è¯·æ±‚æ–¹æ³•ï¼›å“åº”ä»…å«çº¯ HTML æ–‡æœ¬ï¼Œæ— è¯·æ±‚å¤´ã€å“åº”å¤´å’ŒçŠ¶æ€ç ï¼›æ— æ³•ä¼ è¾“å›¾ç‰‡ã€æ ·å¼ç­‰å…¶ä»–ç±»å‹æ–‡ä»¶
- **ä¼˜åŠ¿**ï¼šåè®®é€»è¾‘ç®€å•ï¼Œæ— é¢å¤–å†—ä½™å†…å®¹ï¼Œé€‚é…æ—©æœŸç®€å•çš„æ–‡æœ¬äº¤äº’éœ€æ±‚
#### 2. HTTP 1.0ï¼ˆ1996ï¼Œé¦–ä¸ªæ­£å¼ç‰ˆæœ¬ï¼‰
- **å®šä¹‰**ï¼šHTTP ç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬ï¼Œè§£å†³äº† 0.9 ç‰ˆæœ¬åŠŸèƒ½å•ä¸€çš„é—®é¢˜ï¼Œä¸ºåè®®å¢åŠ åŸºç¡€æ‰©å±•æ€§
- **æ ¸å¿ƒåŒºåˆ«**ï¼šæ–°å¢ POSTã€HEAD ç­‰è¯·æ±‚æ–¹æ³•ï¼›å¼•å…¥è¯·æ±‚å¤´å’Œå“åº”å¤´ï¼Œæ”¯æŒä¼ è¾“å›¾ç‰‡ã€éŸ³é¢‘ç­‰å¤šç§ç±»å‹æ–‡ä»¶ï¼›æ–°å¢çŠ¶æ€ç æœºåˆ¶ï¼ˆå¦‚ 200 æˆåŠŸã€404 èµ„æºæœªæ‰¾åˆ°ï¼‰ï¼Œä¾¿äºå®¢æˆ·ç«¯åˆ¤æ–­è¯·æ±‚ç»“æœ
- **ä¼˜åŠ¿**ï¼šé€‚é…æ—©æœŸç½‘é¡µå¤šæ ·åŒ–èµ„æºä¼ è¾“éœ€æ±‚ï¼Œèƒ½æ¸…æ™°åé¦ˆè¯·æ±‚çŠ¶æ€ï¼›æ‰©å±•æ€§å¢å¼ºï¼Œå¯é€šè¿‡è¯·æ±‚å¤´åå•†æ•°æ®æ ¼å¼ç­‰ä¿¡æ¯
- **ä¸è¶³**ï¼šæ¯æ¬¡è¯·æ±‚éœ€é‡æ–°å»ºç«‹ TCP è¿æ¥ï¼Œè¿æ¥ç”¨å®Œå³æ–­ï¼Œå¤šèµ„æºç½‘é¡µåŠ è½½æ—¶é¢‘ç¹æ¡æ‰‹ï¼Œæ•ˆç‡æä½
#### 3. HTTP 1.1ï¼ˆ1999ï¼Œæ ‡å‡†åŒ–æˆç†Ÿç‰ˆæœ¬ï¼‰ã€æœ€å¹¿æ³›ã€‘
- **å®šä¹‰**ï¼šHTTP å²ä¸Šæœ€å…·é‡Œç¨‹ç¢‘æ„ä¹‰çš„ç‰ˆæœ¬ï¼Œè§£å†³ 1.0 ç‰ˆæœ¬çš„è¿æ¥æ•ˆç‡é—®é¢˜ï¼Œæˆä¸ºé•¿æœŸä¸»æµçš„æ ‡å‡†åŒ–åè®®
- **æ ¸å¿ƒåŒºåˆ«**ï¼šé»˜è®¤å¼€å¯é•¿è¿æ¥ï¼ˆConnection: keep-aliveï¼‰ï¼Œä¸€æ¬¡ TCP è¿æ¥å¯å¤„ç†å¤šä¸ªè¯·æ±‚ï¼›æ”¯æŒç®¡é“åŒ–æŠ€æœ¯ï¼Œå…è®¸å®¢æˆ·ç«¯åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚ï¼›æ‰©å®¹çŠ¶æ€ç ï¼ˆå¦‚ 304 ç¼“å­˜ç”Ÿæ•ˆï¼‰ï¼›æ–°å¢ Host å¤´ï¼Œæ”¯æŒåŒä¸€ IP éƒ¨ç½²å¤šä¸ªåŸŸå
- **ä¼˜åŠ¿**ï¼šå¤§å¹…å‡å°‘ TCP è¿æ¥å»ºç«‹æ¬¡æ•°ï¼Œç¼©çŸ­å¤šèµ„æºç½‘é¡µåŠ è½½æ—¶é—´ï¼›ç¼“å­˜æœºåˆ¶å’ŒçŠ¶æ€ç æ›´å®Œå–„ï¼Œé™ä½æ— æ•ˆæ•°æ®ä¼ è¾“ï¼›é€‚é…å¤šåŸŸåéƒ¨ç½²çš„ä¸»æµæœåŠ¡å™¨åœºæ™¯
- **ä¸è¶³**ï¼šç®¡é“åŒ–å­˜åœ¨é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼ŒæœåŠ¡å™¨éœ€æŒ‰è¯·æ±‚é¡ºåºå“åº”ï¼Œå‰ä¸€ä¸ªè¯·æ±‚é˜»å¡ä¼šå½±å“åç»­æ‰€æœ‰è¯·æ±‚
#### 4. HTTP 2.0ï¼ˆ2015ï¼Œé«˜æ•ˆå¤šè·¯å¤ç”¨ç‰ˆæœ¬ï¼‰
- **å®šä¹‰**ï¼šé’ˆå¯¹ 1.1 çš„é˜Ÿå¤´é˜»å¡é—®é¢˜ä¼˜åŒ–ï¼Œå¼•å…¥äºŒè¿›åˆ¶å¸§ä¼ è¾“ï¼Œæ˜¯é€‚é…å¤æ‚ç½‘é¡µçš„é«˜æ•ˆåè®®ã€‚
- **æ ¸å¿ƒåŒºåˆ«**ï¼šé‡‡ç”¨äºŒè¿›åˆ¶å¸§æ ¼å¼ä¼ è¾“æ•°æ®ï¼Œå®ç°å¤šè·¯å¤ç”¨ï¼ŒåŒä¸€è¿æ¥ä¸­å¤šä¸ªè¯·æ±‚çš„å¸§å¯äº¤é”™ä¼ è¾“ï¼Œå½»åº•è§£å†³é˜Ÿå¤´é˜»å¡ï¼›å¯¹é‡å¤è¯·æ±‚å¤´ï¼ˆå¦‚ Cookieï¼‰è¿›è¡Œå‹ç¼©ï¼›æ”¯æŒæœåŠ¡å™¨æ¨é€ï¼Œå¯ä¸»åŠ¨æ¨é€ç½‘é¡µä¾èµ–çš„ CSSã€JS ç­‰èµ„æºã€‚
- **ä¼˜åŠ¿**ï¼šä¼ è¾“æ•ˆç‡å¤§å¹…æå‡ï¼Œå°èµ„æºæ— éœ€ç­‰å¾…å¤§èµ„æºä¼ è¾“å®Œæˆï¼›å¤´éƒ¨å‹ç¼©å‡å°‘æ•°æ®é‡ï¼ŒæœåŠ¡å™¨æ¨é€å‡å°‘è¯·æ±‚æ¬¡æ•°ï¼Œè¿›ä¸€æ­¥ç¼©çŸ­é¡µé¢åŠ è½½æ—¶é—´ã€‚
- **ä¸è¶³**ï¼šä»åŸºäº TCP åè®®ï¼Œè‹¥å‡ºç°æ•°æ®åŒ…ä¸¢å¤±ï¼Œéœ€ç­‰å¾…é‡ä¼ ï¼Œä¼šå¯¼è‡´æ•´ä½“è¿æ¥é˜»å¡ã€‚
#### 5. HTTP 3.0ï¼ˆ2022ï¼ŒåŸºäº QUIC çš„æ–°ä¸€ä»£åè®®ï¼‰
- **å®šä¹‰**ï¼šä¸ºè§£å†³ TCP ä¼ è¾“çš„ä¸¢åŒ…é˜»å¡é—®é¢˜è€Œç”Ÿï¼Œæ”¹ç”¨ QUIC åè®®ï¼ˆåŸºäº UDPï¼‰ï¼Œé€‚é…å¤æ‚ç½‘ç»œåœºæ™¯ã€‚
- **æ ¸å¿ƒåŒºåˆ«**ï¼šåº•å±‚è„±ç¦» TCP æ”¹ç”¨ QUIC åè®®ï¼›ä¸¢åŒ…æ—¶ä»…é‡ä¼ ä¸¢å¤±çš„å¸§ï¼Œä¸é˜»å¡å…¶ä»–æ•°æ®ä¼ è¾“ï¼›è¿æ¥å»ºç«‹ä»…éœ€ 1 æ¬¡äº¤äº’ï¼Œæ¯” TCP ä¸‰æ¬¡æ¡æ‰‹æ›´å¿«ï¼›æ–°å¢ 451 çŠ¶æ€ç ï¼Œç”¨äºæç¤ºå› æ³•å¾‹åŸå› æ— æ³•è®¿é—®ã€‚
- **ä¼˜åŠ¿**ï¼šæŠ—ç½‘ç»œæ³¢åŠ¨èƒ½åŠ›å¼ºï¼Œåœ¨åœ°é“ã€å¼±ç½‘ç­‰åœºæ™¯ä¸‹èƒ½å¿«é€Ÿæ¢å¤ä¼ è¾“ï¼›è¿æ¥å»ºç«‹é€Ÿåº¦å¿«ï¼Œè¿›ä¸€æ­¥é™ä½å»¶è¿Ÿï¼›ç²¾å‡†é€‚é…é«˜æ¸…è§†é¢‘ã€ç›´æ’­ç­‰å¯¹ç¨³å®šæ€§è¦æ±‚é«˜çš„åœºæ™¯ã€‚

## å¼ºç¼“å­˜ä¸åå•†ç¼“å­˜

#### å¼ºåŒ–ç¼“å­˜ï¼ˆæœ¬åœ°ç¼“å­˜ï¼‰

**æ ¸å¿ƒå®šä¹‰**ï¼šä¼˜å…ˆä»æµè§ˆå™¨æœ¬åœ°è¯»å–èµ„æºï¼Œæ— éœ€è¯·æ±‚æœåŠ¡å™¨ï¼Œç›´æ¥åˆ¤æ–­æ˜¯å¦å¯ç”¨ã€‚

**è¿è¡Œè¿‡ç¨‹**ï¼š

1. é¦–æ¬¡è¯·æ±‚èµ„æºï¼šæœåŠ¡å™¨è¿”å›èµ„æºæ—¶ï¼Œåœ¨`å“åº”å¤´æºå¸¦ Cache-Control`ï¼ˆä¼˜å…ˆçº§æ›´é«˜ï¼‰æˆ– Expires å­—æ®µï¼ŒæŒ‡å®šèµ„æºç¼“å­˜æœ‰æ•ˆæœŸã€‚
2. å†æ¬¡è¯·æ±‚èµ„æºï¼šæµè§ˆå™¨å…ˆæ£€æŸ¥æœ¬åœ°ç¼“å­˜ï¼Œè‹¥èµ„æºæœªè¿‡æœŸï¼ˆæœªåˆ° Expires æ—¶é—´æˆ– Cache-Control æœªå¤±æ•ˆï¼‰ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œä¸å‘é€ HTTP è¯·æ±‚ï¼›è‹¥å·²è¿‡æœŸï¼Œè¿›å…¥åå•†ç¼“å­˜æµç¨‹ã€‚

**æ ¸å¿ƒä½œç”¨**ï¼šå®Œå…¨è·³è¿‡æœåŠ¡å™¨è¯·æ±‚ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“ï¼Œå¤§å¹…æå‡èµ„æºåŠ è½½é€Ÿåº¦ï¼Œé™ä½æœåŠ¡å™¨å‹åŠ›ã€‚

#### åå•†ç¼“å­˜ï¼ˆå¯¹æ¯”ç¼“å­˜ï¼‰

**æ ¸å¿ƒå®šä¹‰**ï¼šæœ¬åœ°ç¼“å­˜è¿‡æœŸåï¼Œéœ€å‘æœåŠ¡å™¨å‘é€ â€œéªŒè¯è¯·æ±‚â€ï¼Œç¡®è®¤èµ„æºæ˜¯å¦æ›´æ–°ï¼Œå†å†³å®šä½¿ç”¨ç¼“å­˜æˆ–é‡æ–°è·å–ã€‚

**è¿è¡Œè¿‡ç¨‹**ï¼š

1. é¦–æ¬¡è¯·æ±‚èµ„æºï¼šæœåŠ¡å™¨è¿”å›èµ„æºæ—¶ï¼Œåœ¨å“åº”å¤´æºå¸¦ Last-Modifiedï¼ˆèµ„æºæœ€åä¿®æ”¹æ—¶é—´ï¼‰å’Œ ETagï¼ˆèµ„æºå”¯ä¸€æ ‡è¯†[å“ˆå¸Œå€¼]ï¼Œä¼˜å…ˆçº§æ›´é«˜ï¼‰å­—æ®µã€‚

1. å†æ¬¡è¯·æ±‚èµ„æºï¼š

- æµè§ˆå™¨å‘é€è¯·æ±‚æ—¶ï¼Œåœ¨è¯·æ±‚å¤´æºå¸¦ If-Modified-Sinceï¼ˆå¯¹åº” Last-Modifiedï¼‰æˆ– If-None-Matchï¼ˆå¯¹åº” ETagï¼‰ã€‚

- æœåŠ¡å™¨å¯¹æ¯”è¯·æ±‚å¤´ä¿¡æ¯ï¼šè‹¥èµ„æºæœªæ›´æ–°ï¼Œè¿”å› 304 Not Modifiedï¼Œæµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼›è‹¥å·²æ›´æ–°ï¼Œè¿”å› 200 OK å’Œæ–°èµ„æºï¼ŒåŒæ—¶æ›´æ–°æœ¬åœ°ç¼“å­˜ã€‚

**æ ¸å¿ƒä½œç”¨**ï¼šé¿å…é‡å¤ä¸‹è½½æœªæ›´æ–°çš„èµ„æºï¼Œå¹³è¡¡ â€œç¼“å­˜æœ‰æ•ˆæ€§â€ å’Œ â€œèµ„æºæ–°é²œåº¦â€ï¼Œå…¼é¡¾é€Ÿåº¦ä¸å‡†ç¡®æ€§ã€‚

# Git

## Git merge ä¸ Cherry-pick

- **Git merge**ï¼š**åˆå¹¶æ•´ä¸ªåˆ†æ”¯çš„æ‰€æœ‰æäº¤**ï¼Œç”¨äºæ•´åˆåˆ†æ”¯çš„å®Œæ•´å¼€å‘æˆæœï¼ˆå¦‚åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯ï¼‰ï¼›
- **Cherry-pick**ï¼š**é€‰æ‹©æ€§å¤åˆ¶å•ä¸ª / å¤šä¸ªç‹¬ç«‹æäº¤**ï¼Œç”¨äºå°†ç‰¹å®šæäº¤ç§»æ¤åˆ°å…¶ä»–åˆ†æ”¯ï¼ˆå¦‚ä¿®å¤ bug çš„æäº¤åŒæ­¥åˆ°å¤šä¸ªåˆ†æ”¯ï¼‰ã€‚

1. merge ç¤ºä¾‹

```bash
# åˆ‡æ¢åˆ°mainåˆ†æ”¯
git checkout main
# åˆå¹¶featureåˆ†æ”¯
git merge feature
```

åˆå¹¶å`main`åˆ†æ”¯ä¼šåŒ…å«`feature`çš„æ‰€æœ‰æäº¤ï¼Œä¸”ç”Ÿæˆä¸€ä¸ªåˆå¹¶æäº¤ï¼Œå†å²è®°å½•å‘ˆ â€œåˆ†å‰ - åˆå¹¶â€ å½¢æ€ã€‚

2. cherry-pick ç¤ºä¾‹

```bash
# åˆ‡æ¢åˆ°mainåˆ†æ”¯
git checkout main
# å¤åˆ¶æŒ‡å®šæäº¤åˆ°å½“å‰åˆ†æ”¯
git cherry-pick a1b2c3d
```

æ‰§è¡Œå`main`åˆ†æ”¯ä¼šæ–°å¢ä¸€ä¸ªä¸`a1b2c3d`å†…å®¹ä¸€è‡´çš„æ–°æäº¤ï¼ˆhash ä¸åŒï¼‰ï¼Œä»…åŒ…å«è¯¥ bug ä¿®å¤çš„æ”¹åŠ¨ã€‚

## Git pull åŠ ä¸åŠ  rebase åŒºåˆ«

**å®šä¹‰**

- **git pull**ï¼ˆé»˜è®¤ = pull + mergeï¼‰ï¼šæ‹‰å–è¿œç¨‹ä»£ç åï¼Œç”¨ã€Œåˆå¹¶æäº¤ã€çš„æ–¹å¼æ•´åˆæœ¬åœ°å’Œè¿œç¨‹ä»£ç ï¼Œä¼šç”Ÿæˆæ–°çš„åˆå¹¶æäº¤è®°å½•ï¼›
- **git pull --rebase**ï¼šæ‹‰å–è¿œç¨‹ä»£ç åï¼Œç”¨ã€Œå˜åŸºã€çš„æ–¹å¼æ•´åˆï¼ŒæŠŠæœ¬åœ°æœªæ¨é€çš„æäº¤ â€œæŒªåˆ°â€ è¿œç¨‹æœ€æ–°æäº¤çš„åé¢ï¼Œæ— å¤šä½™åˆå¹¶æäº¤ï¼Œæäº¤è®°å½•æ›´çº¿æ€§ã€‚

**å·®å¼‚**

| ç»´åº¦       | git pullï¼ˆmerge æ¨¡å¼ï¼‰                               | git pull --rebaseï¼ˆrebase æ¨¡å¼ï¼‰                         |
| ---------- | ---------------------------------------------------- | -------------------------------------------------------- |
| æäº¤è®°å½•   | ä¼šäº§ç”Ÿ â€œMerge branch 'xxx'â€ çš„åˆå¹¶æäº¤ï¼Œè®°å½•å‘ˆåˆ†å‰çŠ¶ | æ— åˆå¹¶æäº¤ï¼Œæœ¬åœ°æäº¤åŸºäºè¿œç¨‹æœ€æ–°æäº¤é‡æ”¾ï¼Œè®°å½•æ˜¯ä¸€æ¡ç›´çº¿ |
| å†²çªå¤„ç†   | åªåœ¨åˆå¹¶æ—¶å¤„ç†ä¸€æ¬¡å†²çªï¼ˆç”Ÿæˆåˆå¹¶æäº¤ï¼‰               | å¯èƒ½åœ¨æ¯ä¸ªæœ¬åœ°æäº¤é‡æ”¾æ—¶å¤„ç†å†²çªï¼ˆä½†å¯ä¸­é€” abort å›é€€ï¼‰  |
| é€‚ç”¨åœºæ™¯   | å¤šäººåä½œçš„ä¸»åˆ†æ”¯ï¼ˆä¿ç•™åˆå¹¶å†å²ï¼Œè¿½æº¯æ¸…æ™°ï¼‰           | ä¸ªäººå¼€å‘åˆ†æ”¯ / åŠŸèƒ½åˆ†æ”¯ï¼ˆè¿½æ±‚å¹²å‡€çš„çº¿æ€§æäº¤è®°å½•ï¼‰        |
| å†å²å¯è¯»æ€§ | æœ‰åˆ†å‰ï¼Œéœ€çœ‹ merge è®°å½•è¿½æº¯æ•´åˆè¿‡ç¨‹                  | çº¿æ€§å†å²ï¼Œä¸€çœ¼èƒ½çœ‹æ¸…æäº¤é¡ºåº                             |

**æ³¨æ„**

1. ä¸è¦åœ¨ã€Œå…¬å…±åˆ†æ”¯ï¼ˆå¦‚ master/mainï¼‰ã€ç”¨ rebaseï¼šä¼šæ”¹å†™å…¬å…±æäº¤å†å²ï¼Œå¯¼è‡´å…¶ä»–åä½œè€…ä»£ç æ··ä¹±ï¼›
2. rebase å†²çªå¤„ç†æ›´ç²¾ç»†ï¼Œä½†å¯é€šè¿‡ `git rebase --abort` å›é€€ï¼Œæ¯” merge æ›´çµæ´»ï¼›
3. æ ¸å¿ƒé€‰æ‹©ï¼šæƒ³ä¿ç•™åˆå¹¶ç—•è¿¹ç”¨ mergeï¼ˆé»˜è®¤ pullï¼‰ï¼Œæƒ³è®°å½•å¹²å‡€ç”¨ rebaseï¼ˆpull --rebaseï¼‰ã€‚

# ç®—æ³•

## åŠ¨æ€è§„åˆ’

1.   é¦–å…ˆéœ€è¦ç¡®ä¿æ— åæ•ˆæ€§
2.   ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹
3.   ä¸åŒè§„æ¨¡çš„ç›¸åŒé—®é¢˜ä¹‹é—´çš„å…³ç³»
4.   æ‰¾åˆ°ç‰¹æ®Šå€¼æˆ–è®¾å®šç‰¹æ®Šå€¼

æ ¸å¿ƒåœ¨äºå°†è§„åˆ’é—®é¢˜é€šè¿‡é€’å½’çš„æ–¹å¼æ‹†è§£

#### ä¼˜åŒ–æ–¹å¼

é™ç»´æ‰“å‡»ï¼šé€šè¿‡æ»šåŠ¨æ•°ç»„å°†æ—¶é—´å¤æ‚åº¦é™ä½ä¸€ç»´

## äºŒå‰æ ‘

ç®—æ³•æ ¸å¿ƒåœ¨äºé€’å½’

- å‰åºéå†ï¼šæ ¹å·¦å³ï¼Œé€‚åˆå¤åˆ¶ä¸€æ£µæ ‘æˆ–è€…æ‰“å°æ ‘ç»“æ„
- ä¸­åºéå†ï¼šå·¦æ ¹å³ï¼Œå¯ä»¥é€šè¿‡äºŒå‰æœç´¢æ ‘æ’åºæˆ–è€…å¯»æ‰¾ä¸­é—´å€¼
- ååºéå†ï¼šå·¦å³æ ¹ï¼Œé€‚åˆå­èŠ‚ç‚¹ä¾èµ–çˆ¶èŠ‚ç‚¹æƒ…å†µ

```javascript
// å‰åºéå†
function preorderTraversal(root) {
  const result = [];
  function traverse(node) {
    if (!node) return;
    result.push(node.val);
    traverse(node.left);
    traverse(node.right);
  }
  traverse(root);
  return result;
}

// ä¸­åºéå†
function inorderTraversal(root) {
  const result = [];
  function traverse(node) {
    if (!node) return;
    traverse(node.left);
    result.push(node.val);
    traverse(node.right);
  }
  traverse(root);
  return result;
}

// ååºéå†
function postorderTraversal(root) {
  const result = [];
  function traverse(node) {
    if (!node) return;
    traverse(node.left);
    traverse(node.right);
    result.push(node.val);
  }
  traverse(root);
  return result;
}
```


## æ»‘åŠ¨çª—å£

**å®šä¹‰ï¼š**æ»‘åŠ¨çª—å£æ˜¯ä¸€ç§**åŒæŒ‡é’ˆä¼˜åŒ–ç®—æ³•**ï¼Œé€šè¿‡ç»´æŠ¤ä¸€ä¸ªã€ŒåŠ¨æ€åŒºé—´ï¼ˆçª—å£ï¼‰ã€åœ¨æ•°ç»„ / å­—ç¬¦ä¸²ä¸Šæ»‘åŠ¨ï¼ŒåŠ¨æ€è°ƒæ•´çª—å£çš„å·¦å³è¾¹ç•Œï¼Œåœ¨ O (n) æ—¶é—´å¤æ‚åº¦å†…è§£å†³ â€œå­æ•°ç»„ / å­ä¸²â€ ç±»é—®é¢˜ï¼ˆå¦‚æ‰¾æœ€é•¿ / æœ€çŸ­æ»¡è¶³æ¡ä»¶çš„å­ä¸²ã€å­æ•°ç»„ï¼‰

**æ ¸å¿ƒç‰¹å¾**ï¼šçª—å£è¾¹ç•Œä»…å‘ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ï¼ˆæ— å›æº¯ï¼‰ï¼Œé¿å…æš´åŠ›æšä¸¾æ‰€æœ‰å­åŒºé—´çš„ O (nÂ²) å¤æ‚åº¦

#### æ€è·¯

æ»‘åŠ¨çª—å£çš„æ ¸å¿ƒæ˜¯ã€ŒåŠ¨æ€è°ƒæ•´çª—å£å¤§å°ï¼Œç”¨ä¸€ä¸ªçª—å£è¦†ç›–ç›®æ ‡å­åŒºé—´ã€ï¼Œé€šç”¨æ­¥éª¤ï¼š

1. **åˆå§‹åŒ–çª—å£**ï¼šå®šä¹‰å·¦æŒ‡é’ˆ `left = 0`ï¼Œå³æŒ‡é’ˆ `right` éå†æ•°ç»„ / å­—ç¬¦ä¸²ï¼ˆä½œä¸ºçª—å£å³è¾¹ç•Œï¼‰ï¼›
2. **æ‰©å±•å³è¾¹ç•Œ**ï¼šç§»åŠ¨ `right`ï¼Œå°†å…ƒç´ çº³å…¥çª—å£ï¼Œç›´åˆ°çª—å£æ»¡è¶³ â€œç›®æ ‡æ¡ä»¶â€ï¼›
3. **æ”¶ç¼©å·¦è¾¹ç•Œ**ï¼šåœ¨æ»¡è¶³æ¡ä»¶çš„å‰æä¸‹ï¼Œç§»åŠ¨ `left` ç¼©å°çª—å£ï¼Œå¯»æ‰¾æœ€ä¼˜è§£ï¼ˆå¦‚æœ€é•¿ / æœ€çŸ­å­åŒºé—´ï¼‰ï¼›
4. **æ›´æ–°ç»“æœ**ï¼šåœ¨çª—å£è°ƒæ•´è¿‡ç¨‹ä¸­ï¼Œè®°å½•ç¬¦åˆæ¡ä»¶çš„æœ€ä¼˜ç»“æœã€‚

æ ¹æ®é—®é¢˜ç±»å‹ï¼Œæ»‘åŠ¨çª—å£åˆ†ä¸ºã€Œå›ºå®šé•¿åº¦çª—å£ã€ï¼ˆå¦‚æ‰¾é•¿åº¦ä¸º k çš„æœ€å¤§å­æ•°ç»„å’Œï¼‰å’Œã€Œå¯å˜é•¿åº¦çª—å£ã€ï¼ˆå¦‚æ‰¾æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ï¼‰ï¼Œåè€…æ›´å¸¸ç”¨ã€‚

#### ä¾‹ï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œæ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„**æœ€é•¿å­ä¸²**çš„é•¿åº¦ï¼ˆå¦‚è¾“å…¥ `abcabcbb`ï¼Œè¾“å‡º `3`ï¼›è¾“å…¥ `bbbbb`ï¼Œè¾“å‡º `1`ï¼‰ã€‚

```javascript
function lengthOfLongestSubstring(s) {
  let maxLen = 0; // è®°å½•æœ€é•¿å­ä¸²é•¿åº¦
  let left = 0; // çª—å£å·¦è¾¹ç•Œ
  const charMap = new Map(); // è®°å½•å­—ç¬¦â†’æœ€æ–°ç´¢å¼•ï¼Œç”¨äºåˆ¤æ–­é‡å¤
  
  // æ‰©å±•å³è¾¹ç•Œ
  for (let right = 0; right < s.length; right++) {
    const char = s[right];
    // è‹¥å­—ç¬¦å·²å­˜åœ¨ä¸”åœ¨å½“å‰çª—å£å†… â†’ æ”¶ç¼©å·¦è¾¹ç•Œåˆ°é‡å¤å­—ç¬¦çš„ä¸‹ä¸€ä½
    if (charMap.has(char) && charMap.get(char) >= left) {
      left = charMap.get(char) + 1;
    }
    // æ›´æ–°å­—ç¬¦æœ€æ–°ç´¢å¼•
    charMap.set(char, right);
    // è®¡ç®—å½“å‰çª—å£é•¿åº¦ï¼Œæ›´æ–°æœ€å¤§å€¼
    maxLen = Math.max(maxLen, right - left + 1);
  }
  
  return maxLen;
}

// æµ‹è¯•æ¡ˆä¾‹
console.log(lengthOfLongestSubstring("abcabcbb")); // 3
console.log(lengthOfLongestSubstring("bbbbb")); // 1
console.log(lengthOfLongestSubstring("pwwkew")); // 3
```

## è´ªå¿ƒç®—æ³•

**1. å®šä¹‰**

è´ªå¿ƒç®—æ³•æ˜¯ä¸€ç§**å±€éƒ¨æœ€ä¼˜æ¨å¯¼å…¨å±€æœ€ä¼˜**çš„ç®—æ³•æ€æƒ³ï¼šåœ¨æ¯ä¸€æ­¥å†³ç­–ä¸­ï¼Œéƒ½é€‰æ‹©å½“å‰çŠ¶æ€ä¸‹ â€œæœ€ä¼˜â€ï¼ˆæ”¶ç›Šæœ€å¤§ / æˆæœ¬æœ€å°ï¼‰çš„é€‰é¡¹ï¼Œä¸å›æº¯ã€ä¸è€ƒè™‘åç»­å½±å“ï¼Œè¯•å›¾é€šè¿‡ä¸€ç³»åˆ—å±€éƒ¨æœ€ä¼˜é€‰æ‹©ï¼Œæœ€ç»ˆå¾—åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚

âš ï¸ å…³é”®å‰æï¼šé—®é¢˜å¿…é¡»å…·å¤‡ã€Œè´ªå¿ƒé€‰æ‹©æ€§è´¨ã€å’Œã€Œæœ€ä¼˜å­ç»“æ„ã€ï¼Œå¦åˆ™è´ªå¿ƒå¯èƒ½å¾—åˆ°å±€éƒ¨æœ€ä¼˜è€Œéå…¨å±€æœ€ä¼˜ã€‚

**2. ç‰¹å¾**

- **æ— åæ•ˆæ€§**ï¼šæ¯ä¸€æ­¥çš„é€‰æ‹©åªä¾èµ–å½“å‰çŠ¶æ€ï¼Œä¸è€ƒè™‘ä¹‹å‰çš„é€‰æ‹©ï¼Œä¹Ÿä¸åæ‚”ï¼ˆä¸€æ—¦é€‰äº†å°±ä¸å›æº¯ï¼‰ï¼›
- **å±€éƒ¨æœ€ä¼˜å¯¼å‘**ï¼šå†³ç­–ä»…èšç„¦ â€œå½“ä¸‹æœ€å¥½â€ï¼Œè€Œé â€œæ•´ä½“æœ€å¥½â€ï¼Œè¿™æ˜¯è´ªå¿ƒä¸åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒåŒºåˆ«ï¼›
- **ä¾èµ–é—®é¢˜ç‰¹æ€§**ï¼šä»…é€‚ç”¨äº â€œå±€éƒ¨æœ€ä¼˜èƒ½æ¨å¯¼å‡ºå…¨å±€æœ€ä¼˜â€ çš„é—®é¢˜ï¼ˆå¦‚å“ˆå¤«æ›¼ç¼–ç ã€æ´»åŠ¨é€‰æ‹©ã€éƒ¨åˆ†èƒŒåŒ…é—®é¢˜ï¼‰ï¼Œä¸å…·å¤‡è¯¥ç‰¹æ€§çš„é—®é¢˜ï¼ˆå¦‚ 0-1 èƒŒåŒ…ï¼‰è´ªå¿ƒä¼šå¤±æ•ˆï¼›
- **é«˜æ•ˆæ€§**ï¼šæ—¶é—´å¤æ‚åº¦é€šå¸¸ä¸º O (n) æˆ– O (nlogn)ï¼ˆå¤šä¸ºæ’åº + å•æ¬¡éå†ï¼‰ï¼Œæ¯”åŠ¨æ€è§„åˆ’ã€æš´åŠ›æšä¸¾æ›´é«˜æ•ˆã€‚

**3. è´ªå¿ƒ vs åŠ¨æ€è§„åˆ’**

| ç»´åº¦       | è´ªå¿ƒç®—æ³•              | åŠ¨æ€è§„åˆ’                   |
| ---------- | --------------------- | -------------------------- |
| å†³ç­–é€»è¾‘   | å±€éƒ¨æœ€ä¼˜ï¼Œä¸å›æº¯      | å…¨å±€æœ€ä¼˜ï¼Œè®°å½•æ‰€æœ‰å­é—®é¢˜è§£ |
| é€‚ç”¨é—®é¢˜   | å…·å¤‡è´ªå¿ƒé€‰æ‹©æ€§è´¨      | æœ€ä¼˜å­ç»“æ„ + é‡å å­é—®é¢˜    |
| æ—¶é—´å¤æ‚åº¦ | ä½ï¼ˆO (n)/O (nlogn)ï¼‰ | è¾ƒé«˜ï¼ˆO (nÂ²)/O (nm)ï¼‰      |
| å…¸å‹æ¡ˆä¾‹   | éƒ¨åˆ†èƒŒåŒ…ã€æ´»åŠ¨é€‰æ‹©    | 0-1 èƒŒåŒ…ã€æœ€é•¿å…¬å…±å­åºåˆ—   |

## åƒåˆ†ä½æ ¼å¼åŒ–

```javascript
// æ–¹æ³•1: æ­£åˆ™
function formatNumber(num) {
  return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

// æ–¹æ³•2: toLocaleString
function formatNumber(num) {
  return num.toLocaleString();
}

// æ–¹æ³•3: å¾ªç¯
function formatNumber(num) {
  let str = num.toString();
  let result = '';
  for (let i = str.length - 1, j = 0; i >= 0; i--, j++) {
    if (j % 3 === 0 && j !== 0) result = ',' + result;
    result = str[i] + result;
  }
  return result;
}

// æ–¹æ³•4: é€†å‘ç´¯åŠ 
function formatNumber(num) {
  return num.toString().split('').reverse().reduce((acc, digit, i) => (i % 3 ? digit : digit + ',') + acc);
}
```

## æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯(å“ˆå¸Œ)

**å®šä¹‰**

æœ‰æ•ˆå­—æ¯å¼‚ä½è¯ï¼šä¸¤ä¸ªå­—ç¬¦ä¸²ç”±**å®Œå…¨ç›¸åŒçš„å­—æ¯ç»„æˆ**ï¼Œä»…å­—æ¯æ’åˆ—é¡ºåºä¸åŒï¼ˆå¦‚ `anagram` å’Œ `nagaram` æ˜¯å¼‚ä½è¯ï¼Œ`rat` å’Œ `car` ä¸æ˜¯ï¼‰ã€‚

æ ¸å¿ƒåˆ¤æ–­æ¡ä»¶ï¼š

1. ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦å¿…é¡»ç›¸ç­‰ï¼ˆé•¿åº¦ä¸åŒç›´æ¥æ’é™¤ï¼‰ï¼›
2. æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°å®Œå…¨ä¸€è‡´ã€‚

**1. æ’åºæ³•**

å°†ä¸¤ä¸ªå­—ç¬¦ä¸²æ‹†åˆ†ä¸ºå­—ç¬¦æ•°ç»„ â†’ æ’åº â†’ é‡æ–°æ‹¼æ¥ä¸ºå­—ç¬¦ä¸²ï¼Œè‹¥ç»“æœç›¸åŒåˆ™ä¸ºå¼‚ä½è¯ï¼ˆæ’åºåå¼‚ä½è¯çš„å­—ç¬¦é¡ºåºä¼šå®Œå…¨ä¸€è‡´ï¼‰ã€‚

```javascript
function isAnagram(s, t) {
  // ç¬¬ä¸€æ­¥ï¼šé•¿åº¦ä¸åŒç›´æ¥è¿”å›false
  if (s.length !== t.length) return false;
  // ç¬¬äºŒæ­¥ï¼šæ’åºåæ¯”è¾ƒ
  const sortStr = str => str.split('').sort().join('');
  return sortStr(s) === sortStr(t);
}

// æµ‹è¯•
console.log(isAnagram('anagram', 'nagaram')); // true
console.log(isAnagram('rat', 'car')); // false
```

**2. å“ˆå¸Œè®¡æ•°æ³•**

ç”¨å¯¹è±¡ / æ•°ç»„ç»Ÿè®¡ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²æ¯ä¸ªå­—æ¯çš„å‡ºç°æ¬¡æ•° â†’ éå†ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼Œé€’å‡å¯¹åº”å­—æ¯çš„è®¡æ•° â†’ è‹¥æ‰€æœ‰è®¡æ•°æœ€ç»ˆä¸º 0 åˆ™ä¸ºå¼‚ä½è¯ã€‚

```javascript
function isAnagram(s, t) {
  if (s.length !== t.length) return false;
  
  // åˆå§‹åŒ–26ä¸ªå­—æ¯çš„è®¡æ•°æ•°ç»„ï¼ˆå¯¹åº”a-zï¼‰
  const count = new Array(26).fill(0);
  const baseCode = 'a'.charCodeAt(0); // åŸºå‡†ï¼šaçš„ASCIIç 
  
  // ç»Ÿè®¡sä¸­æ¯ä¸ªå­—æ¯çš„æ¬¡æ•°
  for (let char of s) {
    count[char.charCodeAt(0) - baseCode]++;
  }
  
  // éå†tï¼Œé€’å‡è®¡æ•°ï¼›è‹¥è®¡æ•°ä¸ºè´Ÿï¼Œè¯´æ˜tæœ‰sæ²¡æœ‰çš„å­—æ¯
  for (let char of t) {
    const index = char.charCodeAt(0) - baseCode;
    count[index]--;
    if (count[index] < 0) return false;
  }
  
  // æ‰€æœ‰è®¡æ•°ä¸º0åˆ™ç¬¦åˆæ¡ä»¶
  return true;
}
```

**3. å­—ç¬¦è®¡æ•°å¯¹æ¯”æ³•**

åˆ†åˆ«ç»Ÿè®¡ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯å‡ºç°æ¬¡æ•°ï¼Œæœ€ç»ˆå¯¹æ¯”ä¸¤ä¸ªç»Ÿè®¡ç»“æœæ˜¯å¦ä¸€è‡´ã€‚

```javascript
function isAnagram(s, t) {
  if (s.length !== t.length) return false;
  
  // å°è£…è®¡æ•°å‡½æ•°
  const getCount = str => {
    const count = {};
    for (let char of str) {
      count[char] = (count[char] || 0) + 1;
    }
    return count;
  };
  
  const sCount = getCount(s);
  const tCount = getCount(t);
  
  // å¯¹æ¯”è®¡æ•°ç»“æœ
  for (let key in sCount) {
    if (sCount[key] !== tCount[key]) return false;
  }
  return true;
}
```

## ä¸‰æ•°ä¹‹å’Œï¼ˆåŒæŒ‡é’ˆï¼‰

ä¸‰æ•°ä¹‹å’Œé—®é¢˜ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œæ‰¾å‡ºæ‰€æœ‰ä¸é‡å¤çš„ä¸‰å…ƒç»„ `[nums[i], nums[j], nums[k]]`ï¼Œæ»¡è¶³ `i â‰  j â‰  k` ä¸” `nums[i] + nums[j] + nums[k] = 0`ã€‚

**åŒæŒ‡é’ˆæ€è·¯**

- **æ’åºé¢„å¤„ç†**ï¼šå…ˆå¯¹æ•°ç»„æ’åºï¼Œä¸ºåŒæŒ‡é’ˆç§»åŠ¨å’Œå»é‡æä¾›åŸºç¡€ï¼›
- **å›ºå®šå•å€¼ + åŒæŒ‡é’ˆå¤¹é€¼**ï¼šéå†æ•°ç»„å›ºå®šç¬¬ä¸€ä¸ªæ•° `nums[i]`ï¼Œç”¨å·¦æŒ‡é’ˆ `left = i+1`ã€å³æŒ‡é’ˆ `right = nums.length-1` å¤¹é€¼å¯»æ‰¾å¦å¤–ä¸¤ä¸ªæ•°ï¼Œä½¿ä¸‰è€…å’Œä¸º 0
- **å»é‡å¤„ç†**ï¼šéå† / æŒ‡é’ˆç§»åŠ¨æ—¶è·³è¿‡é‡å¤å€¼ï¼Œé¿å…ç”Ÿæˆé‡å¤ä¸‰å…ƒç»„

```javascript
function threeSum(nums) {
  const result = [];
  // è¾¹ç•Œæ¡ä»¶ï¼šæ•°ç»„é•¿åº¦ä¸è¶³3ç›´æ¥è¿”å›ç©º
  if (nums.length < 3) return result;
  
  // æ­¥éª¤1ï¼šæ’åºï¼ˆå…³é”®ï¼Œä¸ºåŒæŒ‡é’ˆå’Œå»é‡é“ºå«ï¼‰
  nums.sort((a, b) => a - b);
  
  // æ­¥éª¤2ï¼šéå†å›ºå®šç¬¬ä¸€ä¸ªæ•°
  for (let i = 0; i < nums.length; i++) {
    // ä¼˜åŒ–ï¼šæ’åºåç¬¬ä¸€ä¸ªæ•°>0ï¼Œä¸‰æ•°å’Œå¿…>0ï¼Œç›´æ¥ç»ˆæ­¢å¾ªç¯
    if (nums[i] > 0) break;
    
    // å»é‡ï¼šè·³è¿‡å’Œå‰ä¸€ä¸ªæ•°é‡å¤çš„iï¼ˆé¿å…é‡å¤ä¸‰å…ƒç»„ï¼‰
    if (i > 0 && nums[i] === nums[i - 1]) continue;
    
    // åˆå§‹åŒ–åŒæŒ‡é’ˆ
    let left = i + 1;
    let right = nums.length - 1;
    
    // æ­¥éª¤3ï¼šåŒæŒ‡é’ˆå¤¹é€¼æ‰¾å¦å¤–ä¸¤ä¸ªæ•°
    while (left < right) {
      const sum = nums[i] + nums[left] + nums[right];
      
      if (sum === 0) {
        // æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ä¸‰å…ƒç»„ï¼Œå­˜å…¥ç»“æœ
        result.push([nums[i], nums[left], nums[right]]);
        
        // å»é‡ï¼šè·³è¿‡lefté‡å¤å€¼
        while (left < right && nums[left] === nums[left + 1]) left++;
        // å»é‡ï¼šè·³è¿‡righté‡å¤å€¼
        while (left < right && nums[right] === nums[right - 1]) right--;
        
        // æŒ‡é’ˆåŒæ—¶ç§»åŠ¨ï¼Œç»§ç»­å¯»æ‰¾
        left++;
        right--;
      } else if (sum < 0) {
        // å’Œåå°ï¼Œå·¦æŒ‡é’ˆå³ç§»ï¼ˆå¢å¤§æ•°å€¼ï¼‰
        left++;
      } else {
        // å’Œåå¤§ï¼Œå³æŒ‡é’ˆå·¦ç§»ï¼ˆå‡å°æ•°å€¼ï¼‰
        right--;
      }
    }
  }
  
  return result;
}

// æµ‹è¯•æ¡ˆä¾‹
console.log(threeSum([-1,0,1,2,-1,-4])); // [[-1,-1,2],[-1,0,1]]
```

## æœ‰æ•ˆçš„æ‹¬å·ï¼ˆæ ˆï¼‰

å®šä¹‰ï¼šç»™å®šä¸€ä¸ªåªåŒ…å« `()`ã€`[]`ã€`{}` çš„å­—ç¬¦ä¸² `s`ï¼Œåˆ¤æ–­æ‹¬å·æ˜¯å¦æœ‰æ•ˆã€‚

æœ‰æ•ˆæ‹¬å·éœ€æ»¡è¶³ 3 ä¸ªæ¡ä»¶ï¼š

1. å·¦æ‹¬å·å¿…é¡»ç”¨**ç›¸åŒç±»å‹**çš„å³æ‹¬å·é—­åˆï¼›
2. å·¦æ‹¬å·å¿…é¡»ä»¥**æ­£ç¡®çš„é¡ºåº**é—­åˆï¼ˆå¦‚ `([)]` æ— æ•ˆï¼Œ`([])` æœ‰æ•ˆï¼‰ï¼›
3. å­—ç¬¦ä¸²ä¸­æ— å¤šä½™çš„å·¦ / å³æ‹¬å·ï¼ˆé•¿åº¦ä¸ºå¥‡æ•°æ—¶ç›´æ¥æ— æ•ˆï¼‰ã€‚

**æ€è·¯**

æ ˆï¼ˆStackï¼‰æ˜¯ â€œåè¿›å…ˆå‡ºâ€ çš„çº¿æ€§ç»“æ„ï¼Œå®Œç¾åŒ¹é…æ‹¬å·çš„ â€œå°±è¿‘é—­åˆâ€ è§„åˆ™ï¼š

- éå†å­—ç¬¦ä¸²ï¼Œé‡åˆ°**å·¦æ‹¬å·**æ—¶å‹å…¥æ ˆ
- é‡åˆ°**å³æ‹¬å·**æ—¶ï¼Œå¼¹å‡ºæ ˆé¡¶å·¦æ‹¬å·ï¼Œåˆ¤æ–­æ˜¯å¦ä¸å½“å‰å³æ‹¬å·åŒ¹é…
- éå†ç»“æŸåï¼Œæ ˆå¿…é¡»ä¸ºç©ºï¼ˆæ— æœªé—­åˆçš„å·¦æ‹¬å·ï¼‰

```javascript
function isValid(s) {
  // è¾¹ç•Œæ¡ä»¶1ï¼šé•¿åº¦ä¸ºå¥‡æ•°ï¼Œç›´æ¥æ— æ•ˆ
  if (s.length % 2 !== 0) return false;
  
  // å»ºç«‹å³æ‹¬å·â†’å·¦æ‹¬å·çš„æ˜ å°„ï¼ˆæ–¹ä¾¿å¿«é€ŸåŒ¹é…ï¼‰
  const bracketMap = {
    ')': '(',
    ']': '[',
    '}': '{'
  };
  const stack = []; // åˆå§‹åŒ–ç©ºæ ˆ
  
  for (let char of s) {
    // æƒ…å†µ1ï¼šå·¦æ‹¬å· â†’ å‹å…¥æ ˆ
    if (!bracketMap[char]) {
      stack.push(char);
    } else {
      // æƒ…å†µ2ï¼šå³æ‹¬å· â†’ å¼¹å‡ºæ ˆé¡¶åŒ¹é…
      // è‹¥æ ˆç©ºï¼ˆæ— å·¦æ‹¬å·åŒ¹é…ï¼‰æˆ–æ ˆé¡¶ä¸åŒ¹é… â†’ æ— æ•ˆ
      if (stack.pop() !== bracketMap[char]) {
        return false;
      }
    }
  }
  
  // è¾¹ç•Œæ¡ä»¶2ï¼šéå†ç»“æŸåæ ˆå¿…é¡»ä¸ºç©ºï¼ˆæ— å‰©ä½™å·¦æ‹¬å·ï¼‰
  return stack.length === 0;
}

// æµ‹è¯•æ¡ˆä¾‹
console.log(isValid("()[]{}")); // true
console.log(isValid("([)]")); // false
console.log(isValid("{[]}")); // tru
```

## æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆé€’å½’ï¼‰

å®šä¹‰ï¼šç¬¬ä¸€ä¸ªæ•°æ˜¯ 0ï¼Œç¬¬äºŒä¸ªæ•°æ˜¯ 1ï¼Œä»ç¬¬ä¸‰ä¸ªæ•°å¼€å§‹ï¼Œæ¯ä¸ªæ•°ç­‰äºå‰ä¸¤ä¸ªæ•°ä¹‹å’Œï¼ˆå³ F (0)=0ï¼ŒF (1)=1ï¼ŒF (n)=F (n-1)+F (n-2)ï¼ˆnâ‰¥2ï¼‰

#### ä¸€ã€åŸºç¡€é€’å½’ï¼ˆæœ€æ˜“ç†è§£ï¼Œä½†æ€§èƒ½å·®ï¼‰

**æ ¸å¿ƒæ€è·¯**

ç›´æ¥å¥—ç”¨æ•°åˆ—çš„æ•°å­¦å®šä¹‰ï¼Œé€šè¿‡å‡½æ•°è‡ªèº«è°ƒç”¨å®ç°

```javascript
function fibonacci(n) {
  // è¾¹ç•Œæ¡ä»¶ï¼šn=0è¿”å›0ï¼Œn=1è¿”å›1
  if (n === 0) return 0;
  if (n === 1) return 1;
  // é€’å½’è°ƒç”¨ï¼šF(n) = F(n-1) + F(n-2)
  return fibonacci(n - 1) + fibonacci(n - 2);
}
```

**ä¼˜ç¼ºç‚¹**

- âœ… ä¼˜ç‚¹ï¼šä»£ç ç®€æ´ï¼Œå®Œå…¨è´´åˆæ•°å­¦å®šä¹‰ï¼Œæ˜“ç†è§£
- âŒ ç¼ºç‚¹ï¼šå­˜åœ¨å¤§é‡é‡å¤è®¡ç®—ï¼ˆå¦‚è®¡ç®— fib (5) ä¼šé‡å¤è®¡ç®— fib (3)ã€fib (2) ç­‰ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦ O (2â¿)ï¼Œn è¶…è¿‡ 40 åæ€§èƒ½æ€¥å‰§ä¸‹é™ï¼›é€’å½’æ·±åº¦è¿‡å¤§ä¼šè§¦å‘æ ˆæº¢å‡º

#### äºŒã€é€’å½’ä¼˜åŒ–ï¼ˆè®°å¿†åŒ–ç¼“å­˜ï¼‰

**æ ¸å¿ƒæ€è·¯**

ç”¨ç¼“å­˜ï¼ˆå¯¹è±¡ / æ•°ç»„ï¼‰å­˜å‚¨å·²è®¡ç®—è¿‡çš„ç»“æœï¼Œé¿å…é‡å¤é€’å½’è®¡ç®—

1. æ‰‹åŠ¨ç»´æŠ¤ç¼“å­˜

```javascript
function fibonacci(n, cache = { 0: 0, 1: 1 }) {
  // ç¼“å­˜ä¸­å­˜åœ¨åˆ™ç›´æ¥è¿”å›ï¼Œé¿å…é‡å¤è®¡ç®—
  if (cache[n] !== undefined) return cache[n];
  // è®¡ç®—åå­˜å…¥ç¼“å­˜ï¼Œå†è¿”å›
  cache[n] = fibonacci(n - 1, cache) + fibonacci(n - 2, cache);
  return cache[n];
}
```

2. é—­åŒ…å°è£…ç¼“å­˜ï¼ˆæ›´ä¼˜é›…ï¼‰

```javascript
const fibonacci = (() => {
  const cache = { 0: 0, 1: 1 };
  return function fn(n) {
    if (cache[n] === undefined) {
      cache[n] = fn(n - 1) + fn(n - 2);
    }
    return cache[n];
  };
})();
```

**ä¼˜ç¼ºç‚¹**

- âœ… ä¼˜ç‚¹ï¼šæ—¶é—´å¤æ‚åº¦ä¼˜åŒ–è‡³ O (n)ï¼Œç©ºé—´å¤æ‚åº¦ O (n)ï¼Œè§£å†³äº†é‡å¤è®¡ç®—é—®é¢˜
- âŒ ç¼ºç‚¹ï¼šä»å ç”¨é¢å¤–å†…å­˜å­˜å‚¨ç¼“å­˜ï¼Œé€’å½’æ·±åº¦è¿‡å¤§ä»å¯èƒ½æ ˆæº¢å‡º

#### ä¸‰ã€è¿­ä»£æ³•ï¼ˆæ€§èƒ½æœ€ä¼˜ï¼Œæ¨èï¼‰

**æ ¸å¿ƒæ€è·¯**

é€šè¿‡å¾ªç¯è¿­ä»£ï¼Œç”¨å˜é‡ä¿å­˜å‰ä¸¤ä¸ªæ•°çš„çŠ¶æ€ï¼Œé€æ­¥è®¡ç®—åˆ°ç›®æ ‡å€¼ï¼Œé¿å…é€’å½’æ ˆå¼€é”€

```javascript
function fibonacci(n) {
  // è¾¹ç•Œå¤„ç†
  if (n === 0) return 0;
  if (n === 1) return 1;
  
  let prevPrev = 0; // F(n-2)
  let prev = 1;     // F(n-1)
  let current;      // F(n)
  
  // ä»2å¼€å§‹è¿­ä»£åˆ°n
  for (let i = 2; i <= n; i++) {
    current = prevPrev + prev;
    // æ›´æ–°çŠ¶æ€ï¼šF(n-2) å˜ä¸º F(n-1)ï¼ŒF(n-1) å˜ä¸º F(n)
    prevPrev = prev;
    prev = current;
  }
  return current;
}
```

**ä¼˜ç¼ºç‚¹**

- âœ… ä¼˜ç‚¹ï¼šæ—¶é—´å¤æ‚åº¦ O (n)ï¼Œç©ºé—´å¤æ‚åº¦ O (1)ï¼ˆä»…ç”¨ 3 ä¸ªå˜é‡ï¼‰ï¼Œæ€§èƒ½æœ€ä¼˜ï¼Œæ— æ ˆæº¢å‡ºé£é™©ï¼›
- âŒ ç¼ºç‚¹ï¼šä»£ç æ¯”é€’å½’ç¨å¤æ‚ï¼Œéœ€ç†è§£çŠ¶æ€è¿­ä»£é€»è¾‘

#### å››ã€ç”Ÿæˆå™¨æ³•ï¼ˆæŒ‰éœ€ç”Ÿæˆï¼Œæ— é™æ•°åˆ—ï¼‰

**æ ¸å¿ƒæ€è·¯**

åˆ©ç”¨ ES6 ç”Ÿæˆå™¨ï¼ˆ`function*` + `yield`ï¼‰å®ç° â€œæŒ‰éœ€ç”Ÿæˆâ€ï¼Œè°ƒç”¨ä¸€æ¬¡ `next()` ç”Ÿæˆä¸€ä¸ªæ•°ï¼Œé€‚åˆæ— é™æ•°åˆ— / æŒ‰éœ€å–å€¼åœºæ™¯

```javascript
// ç”Ÿæˆå™¨å‡½æ•°ï¼šæ— é™ç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°
function* fibonacciGenerator() {
  let a = 0, b = 1;
  while (true) { // æ— é™å¾ªç¯ï¼Œé€šè¿‡yieldæš‚åœ
    yield a; // æš‚åœæ‰§è¡Œï¼Œè¿”å›å½“å‰açš„å€¼
    [a, b] = [b, a + b]; // è¿­ä»£æ›´æ–°aã€b
  }
}

// ä½¿ç”¨æ–¹å¼1ï¼šæŒ‰éœ€å–å€¼
const fib = fibonacciGenerator();
console.log(fib.next().value); // 0
console.log(fib.next().value); // 1
console.log(fib.next().value); // 1
console.log(fib.next().value); // 2

// ä½¿ç”¨æ–¹å¼2ï¼šç”ŸæˆæŒ‡å®šæ•°é‡çš„æ•°åˆ—
function getFibList(length) {
  const fib = fibonacciGenerator();
  const list = [];
  for (let i = 0; i < length; i++) {
    list.push(fib.next().value);
  }
  return list;
}
console.log(getFibList(6)); // [0, 1, 1, 2, 3, 5]
```

**ä¼˜ç¼ºç‚¹**

- âœ… ä¼˜ç‚¹ï¼šæŒ‰éœ€ç”Ÿæˆï¼Œä¸å ç”¨å¤§é‡å†…å­˜ï¼ˆé€‚åˆæ— é™æ•°åˆ—ï¼‰ï¼›çŠ¶æ€è‡ªåŠ¨ä¿ç•™ï¼Œæ— éœ€æ‰‹åŠ¨ç»´æŠ¤
- âŒ ç¼ºç‚¹ï¼šæ— æ³•ç›´æ¥è·å–ç¬¬ n é¡¹ï¼Œéœ€è¿­ä»£åˆ°å¯¹åº”ä½ç½®ï¼›ä¾èµ– ES6 ç”Ÿæˆå™¨è¯­æ³•ï¼ˆå…¼å®¹æ€§æ— é—®é¢˜ï¼‰

#### å¯¹æ¯”ä¸é€‰å‹å»ºè®®

| è§£æ³•       | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | é€‚ç”¨åœºæ™¯                     |
| ---------- | ---------- | ---------- | ---------------------------- |
| åŸºç¡€é€’å½’   | O(2â¿)      | O(n)       | ç†è§£æ¦‚å¿µï¼Œå° n åœºæ™¯ï¼ˆn<40ï¼‰  |
| è®°å¿†åŒ–é€’å½’ | O(n)       | O(n)       | éœ€é€’å½’å®ç°ï¼Œé¿å…é‡å¤è®¡ç®—     |
| è¿­ä»£æ³•     | O(n)       | O(1)       | å·¥ç¨‹é¦–é€‰ï¼Œæ€§èƒ½æœ€ä¼˜ï¼Œå¤§æ•°è®¡ç®— |
| ç”Ÿæˆå™¨æ³•   | O(n)       | O(1)       | æŒ‰éœ€å–å€¼ï¼Œæ— é™æ•°åˆ—ç”Ÿæˆ       |

## èƒŒåŒ…é—®é¢˜ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰

**å®šä¹‰**

èƒŒåŒ…é—®é¢˜æ˜¯ç®—æ³•é¢†åŸŸç»å…¸çš„**åŠ¨æ€è§„åˆ’ç±»é—®é¢˜**ï¼Œæ ¸å¿ƒåœºæ™¯ï¼šç»™å®šä¸€ç»„ç‰©å“ï¼ˆæ¯ä¸ªç‰©å“æœ‰å›ºå®šé‡é‡ `w[i]` å’Œä»·å€¼ `v[i]`ï¼‰ï¼Œä»¥åŠå®¹é‡ä¸º `n` çš„èƒŒåŒ…ï¼Œè¦æ±‚åœ¨ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡çš„å‰æä¸‹ï¼Œé€‰æ‹©ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œä½¿æ€»ä»·å€¼æœ€å¤§ã€‚

æœ€åŸºç¡€çš„æ˜¯ã€Œ0-1 èƒŒåŒ…ã€ï¼ˆæ¯ä¸ªç‰©å“åªèƒ½é€‰ / ä¸é€‰ï¼‰ï¼Œå»¶ä¼¸è¿˜æœ‰ã€Œå®Œå…¨èƒŒåŒ…ã€ï¼ˆç‰©å“å¯æ— é™é€‰ï¼‰ç­‰ï¼Œä»¥ä¸‹ä»¥ 0-1 èƒŒåŒ…ä¸ºæ ¸å¿ƒè®²è§£å¤šè§£æ³•ã€‚

#### 1. æš´åŠ›é€’å½’ï¼ˆåŸºç¡€æ€è·¯ï¼Œæ— ä¼˜åŒ–ï¼‰

**æ ¸å¿ƒæ€è·¯**

é€’å½’æšä¸¾æ‰€æœ‰ç‰©å“çš„é€‰æ‹©ç»„åˆï¼ˆé€‰ / ä¸é€‰ï¼‰ï¼Œè®¡ç®—æ¯ç§ç»„åˆçš„æ€»é‡é‡å’Œæ€»ä»·å€¼ï¼Œç­›é€‰ç¬¦åˆå®¹é‡ä¸”ä»·å€¼æœ€å¤§çš„ç»“æœã€‚

```javascript
// w: ç‰©å“é‡é‡æ•°ç»„, v: ç‰©å“ä»·å€¼æ•°ç»„, n: èƒŒåŒ…å®¹é‡, index: å½“å‰å¤„ç†çš„ç‰©å“ç´¢å¼•
function knapsack(w, v, n, index) {
  // é€’å½’ç»ˆæ­¢ï¼šæ— ç‰©å“å¯é€‰ æˆ– èƒŒåŒ…å®¹é‡ä¸º0
  if (index === w.length || n === 0) return 0;
  // æƒ…å†µ1ï¼šå½“å‰ç‰©å“é‡é‡è¶…è¿‡å‰©ä½™å®¹é‡ï¼Œæ— æ³•é€‰ï¼Œè·³è¿‡
  if (w[index] > n) {
    return knapsack(w, v, n, index + 1);
  }
  // æƒ…å†µ2ï¼šé€‰å½“å‰ç‰©å“ â†’ å‰©ä½™å®¹é‡å‡å°‘ï¼Œä»·å€¼å¢åŠ ï¼›æƒ…å†µ3ï¼šä¸é€‰å½“å‰ç‰©å“ â†’ çŠ¶æ€ä¸å˜
  const select = v[index] + knapsack(w, v, n - w[index], index + 1);
  const unSelect = knapsack(w, v, n, index + 1);
  // è¿”å›ä¸¤ç§æƒ…å†µçš„æœ€å¤§å€¼
  return Math.max(select, unSelect);
}

// æµ‹è¯•ï¼šç‰©å“é‡é‡[2,3,4,5]ï¼Œä»·å€¼[3,4,5,6]ï¼ŒèƒŒåŒ…å®¹é‡8
const w = [2,3,4,5];
const v = [3,4,5,6];
console.log(knapsack(w, v, 8, 0)); // è¾“å‡º 10ï¼ˆé€‰é‡é‡2+3+3ï¼Ÿâ†’ å®é™…æ˜¯2+5ä»·å€¼3+6 æˆ– 3+5ä»·å€¼4+6ï¼Œæœ€ç»ˆæœ€å¤§10ï¼‰
```

**ä¼˜ç¼ºç‚¹**

- âœ… æ€è·¯ç®€å•ï¼Œå®Œå…¨è´´åˆ â€œæšä¸¾æ‰€æœ‰å¯èƒ½â€ çš„ç›´è§‰ï¼›
- âŒ æ—¶é—´å¤æ‚åº¦ O (2â¿)ï¼ˆn ä¸ºç‰©å“æ•°ï¼‰ï¼Œç‰©å“æ•°è¶…è¿‡ 20 åæ€§èƒ½æ€¥å‰§ä¸‹é™ï¼Œå­˜åœ¨å¤§é‡é‡å¤è®¡ç®—ã€‚

#### 2. è®°å¿†åŒ–é€’å½’ï¼ˆä¼˜åŒ–æš´åŠ›é€’å½’ï¼‰

**æ ¸å¿ƒæ€è·¯**

ç”¨ç¼“å­˜ï¼ˆäºŒç»´æ•°ç»„ / å¯¹è±¡ï¼‰å­˜å‚¨ã€Œå‰©ä½™å®¹é‡ + å½“å‰ç‰©å“ç´¢å¼•ã€å¯¹åº”çš„æœ€å¤§ä»·å€¼ï¼Œé¿å…é‡å¤é€’å½’è®¡ç®—ã€‚

```javascript
function knapsackMemo(w, v, n) {
  // ç¼“å­˜ï¼šmemo[i][j] è¡¨ç¤ºå¤„ç†ç¬¬iä¸ªç‰©å“ã€å‰©ä½™å®¹é‡jæ—¶çš„æœ€å¤§ä»·å€¼
  const memo = Array(w.length).fill().map(() => Array(n + 1).fill(-1));
  
  function dfs(index, remain) {
    if (index === w.length || remain === 0) return 0;
    // ç¼“å­˜å­˜åœ¨åˆ™ç›´æ¥è¿”å›ï¼Œé¿å…é‡å¤è®¡ç®—
    if (memo[index][remain] !== -1) return memo[index][remain];
    
    let res;
    if (w[index] > remain) {
      res = dfs(index + 1, remain);
    } else {
      res = Math.max(
        v[index] + dfs(index + 1, remain - w[index]),
        dfs(index + 1, remain)
      );
    }
    // å­˜å…¥ç¼“å­˜
    memo[index][remain] = res;
    return res;
  }
  
  return dfs(0, n);
}

console.log(knapsackMemo(w, v, 8)); // è¾“å‡º 10
```

**ä¼˜ç¼ºç‚¹**

- âœ… æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–è‡³ O (n*m)ï¼ˆn = ç‰©å“æ•°ï¼Œm = èƒŒåŒ…å®¹é‡ï¼‰ï¼Œè§£å†³é‡å¤è®¡ç®—é—®é¢˜ï¼›
- âŒ ç©ºé—´å¤æ‚åº¦ O (n*m)ï¼Œéœ€é¢å¤–å­˜å‚¨ç¼“å­˜ï¼Œé€’å½’æ·±åº¦å¤§æ—¶å¯èƒ½æ ˆæº¢å‡ºã€‚

#### 3.åŠ¨æ€è§„åˆ’ï¼ˆæœ€ä¼˜è§£ï¼Œéé€’å½’ï¼‰

#### æ ¸å¿ƒæ€è·¯

æ„å»ºäºŒç»´ DP æ•°ç»„ `dp[i][j]`ï¼Œè¡¨ç¤ºã€Œå‰ i ä¸ªç‰©å“ï¼ŒèƒŒåŒ…å®¹é‡ j æ—¶çš„æœ€å¤§ä»·å€¼ã€ï¼Œé€šè¿‡çŠ¶æ€è½¬ç§»æ–¹ç¨‹é€’æ¨ç»“æœã€‚

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

- è‹¥ç¬¬ i ä¸ªç‰©å“é‡é‡ > å®¹é‡ jï¼š`dp[i][j] = dp[i-1][j]`ï¼ˆæ— æ³•é€‰ï¼Œç»§æ‰¿å‰ i-1 ä¸ªç‰©å“çš„ç»“æœï¼‰ï¼›
- è‹¥ç¬¬ i ä¸ªç‰©å“é‡é‡ â‰¤ å®¹é‡ jï¼š`dp[i][j] = max(dp[i-1][j], dp[i-1][j-w[i]] + v[i])`ï¼ˆé€‰ / ä¸é€‰å–æœ€å¤§å€¼ï¼‰ã€‚

```javascript
function knapsackDP(w, v, n) {
  const len = w.length;
  // åˆå§‹åŒ–DPæ•°ç»„ï¼šdp[i][j] å‰iä¸ªç‰©å“ï¼Œå®¹é‡jçš„æœ€å¤§ä»·å€¼
  const dp = Array(len + 1).fill().map(() => Array(n + 1).fill(0));
  
  for (let i = 1; i <= len; i++) { // éå†ç‰©å“
    for (let j = 1; j <= n; j++) { // éå†å®¹é‡
      // æ³¨æ„ï¼šæ•°ç»„ç´¢å¼•ä»0å¼€å§‹ï¼Œiå¯¹åº”ç¬¬i-1ä¸ªç‰©å“
      if (w[i-1] > j) {
        dp[i][j] = dp[i-1][j];
      } else {
        dp[i][j] = Math.max(
          dp[i-1][j], // ä¸é€‰å½“å‰ç‰©å“
          dp[i-1][j - w[i-1]] + v[i-1] // é€‰å½“å‰ç‰©å“
        );
      }
    }
  }
  return dp[len][n]; // æœ€ç»ˆç»“æœï¼šæ‰€æœ‰ç‰©å“ï¼Œå®¹é‡nçš„æœ€å¤§ä»·å€¼
}

console.log(knapsackDP(w, v, 8)); // è¾“å‡º 10
```

**ç©ºé—´ä¼˜åŒ–ï¼ˆä¸€ç»´ DP æ•°ç»„ï¼‰**

```javascript
function knapsackDPOpt(w, v, n) {
  const dp = Array(n + 1).fill(0);
  for (let i = 0; i < w.length; i++) {
    // å€’åºéå†å®¹é‡ï¼Œé¿å…é‡å¤é€‰å–åŒä¸€ç‰©å“ï¼ˆ0-1èƒŒåŒ…æ ¸å¿ƒï¼‰
    for (let j = n; j >= w[i]; j--) {
      dp[j] = Math.max(dp[j], dp[j - w[i]] + v[i]);
    }
  }
  return dp[n];
}

console.log(knapsackDPOpt(w, v, 8)); // è¾“å‡º 10
```

**ä¼˜ç¼ºç‚¹**

- âœ… æ—¶é—´å¤æ‚åº¦ O (n*m)ï¼Œç©ºé—´å¯ä¼˜åŒ–è‡³ O (m)ï¼Œæ— é€’å½’æ ˆæº¢å‡ºé£é™©ï¼Œå·¥ç¨‹é¦–é€‰ï¼›
- âŒ æ€è·¯æ¯”é€’å½’æŠ½è±¡ï¼Œéœ€ç†è§£çŠ¶æ€è½¬ç§»é€»è¾‘ã€‚

#### å¯¹æ¯”

| è§£æ³•             | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦      | é€‚ç”¨åœºæ™¯                   |
| ---------------- | ---------- | --------------- | -------------------------- |
| æš´åŠ›é€’å½’         | O(2â¿)      | O (n)ï¼ˆé€’å½’æ ˆï¼‰ | ç†è§£æ ¸å¿ƒæ€è·¯ï¼Œç‰©å“æ•° < 20  |
| è®°å¿†åŒ–é€’å½’       | O(n*m)     | O(n*m)          | éœ€é€’å½’å®ç°ï¼Œé¿å…é‡å¤è®¡ç®—   |
| åŠ¨æ€è§„åˆ’ï¼ˆäºŒç»´ï¼‰ | O(n*m)     | O(n*m)          | æ¸…æ™°å±•ç¤ºçŠ¶æ€è½¬ç§»ï¼Œæ•™å­¦é¦–é€‰ |
| åŠ¨æ€è§„åˆ’ï¼ˆä¸€ç»´ï¼‰ | O(n*m)     | O(m)            | å·¥ç¨‹è½åœ°ï¼Œè¿½æ±‚ç©ºé—´æœ€ä¼˜     |

#### æ€»ç»“

1. èƒŒåŒ…é—®é¢˜çš„æ ¸å¿ƒæ˜¯ã€Œé€‰ / ä¸é€‰ã€çš„å†³ç­–ï¼Œæš´åŠ›æšä¸¾æ˜¯åŸºç¡€ï¼ŒåŠ¨æ€è§„åˆ’æ˜¯æœ€ä¼˜è§£
2. 0-1 èƒŒåŒ…çš„åŠ¨æ€è§„åˆ’éœ€æ³¨æ„ã€Œå€’åºéå†å®¹é‡ã€ï¼ˆé¿å…é‡å¤é€‰ç‰©å“ï¼‰ï¼Œå®Œå…¨èƒŒåŒ…åˆ™æ­£åºéå†
3. è®°å¿†åŒ–é€’å½’æ˜¯ â€œé€’å½’ + ç¼“å­˜â€ï¼ŒåŠ¨æ€è§„åˆ’æ˜¯ â€œè¿­ä»£ + çŠ¶æ€è¡¨â€ï¼Œæœ¬è´¨éƒ½æ˜¯é¿å…é‡å¤è®¡ç®—

## ä¹±æ’

#### æ´—ç‰Œç®—æ³•

æœ€ç»å…¸ä¸”å…¬å¹³çš„æ˜¯ **Fisher-Yates æ´—ç‰Œç®—æ³•**ï¼ˆåŸåœ°ä¹±æ’ï¼Œæ—¶é—´å¤æ‚åº¦ O (n)ï¼‰ï¼Œæ ¸å¿ƒé€»è¾‘æ˜¯ä»æ•°ç»„æœ«å°¾å¾€å‰ï¼Œé€ä¸ªå°†å½“å‰å…ƒç´ ä¸å‰é¢éšæœºä½ç½®çš„å…ƒç´ äº¤æ¢ï¼Œé¿å…ååºé—®é¢˜ã€‚

```javascript
// æ•°ç»„ä¹±æ’æ ¸å¿ƒå‡½æ•°ï¼ˆFisher-Yates ç®—æ³•ï¼‰
function shuffleArray(arr) {
  // å…ˆæ‹·è´åŸæ•°ç»„ï¼Œé¿å…ä¿®æ”¹åŸæ•°ç»„ï¼ˆå¯é€‰ï¼Œæ ¹æ®éœ€æ±‚å†³å®šæ˜¯å¦æ‹·è´ï¼‰
  const newArr = [...arr];
  // ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹å¾€å‰éå†
  for (let i = newArr.length - 1; i > 0; i--) {
    // ç”Ÿæˆ 0 åˆ° i ä¹‹é—´çš„éšæœºç´¢å¼•
    const randomIndex = Math.floor(Math.random() * (i + 1));
    // äº¤æ¢å½“å‰å…ƒç´ å’Œéšæœºä½ç½®å…ƒç´ 
    [newArr[i], newArr[randomIndex]] = [newArr[randomIndex], newArr[i]];
  }
  return newArr;
}

// æµ‹è¯•ç¤ºä¾‹
const arr = [1, 2, 3, 4, 5, 6];
const shuffledArr = shuffleArray(arr);
console.log(shuffledArr); // æ¯æ¬¡è¾“å‡ºä¹±åºç»“æœï¼Œæ¯”å¦‚ [3,1,6,2,5,4]
console.log(arr); // åŸæ•°ç»„ä¸å˜ï¼š[1,2,3,4,5,6]
```

**è¯´æ˜**

1. ä¸ºä»€ä¹ˆä¸ç”¨ `sort(() => Math.random() - 0.5)`ï¼Ÿ

   - è¿™ç§å†™æ³•çœ‹ä¼¼ç®€å•ï¼Œä½†åº•å±‚æ’åºç®—æ³•ï¼ˆå¦‚ V8 çš„ Timsortï¼‰ä¼šå¯¼è‡´æ¦‚ç‡ä¸å‡ï¼ŒæŸäº›å…ƒç´ ä½ç½®ååºï¼Œä¸é€‚åˆä¸¥è°¨çš„ä¹±æ’åœºæ™¯ï¼ˆæ¯”å¦‚æŠ½å¥–ã€æ¸¸æˆæ´—ç‰Œï¼‰ã€‚

   - `sort` çš„åº•å±‚æ’åºè§„åˆ™ä¸æ˜¯ â€œé€ä¸ªéšæœºäº¤æ¢â€ï¼Œè€Œæ˜¯**åŸºäºæ¯”è¾ƒç»“æœçš„æ’åºé€»è¾‘**ï¼Œ`Math.random() - 0.5` åªèƒ½è¿”å› â€œå¤§äº / å°äº / ç­‰äº 0â€ ä¸‰ç§ç»“æœï¼Œæ— æ³•è®©æ¯ä¸ªå…ƒç´ è·å¾—å‡ç­‰çš„éšæœºä½ç½®ï¼Œæœ€ç»ˆå¯¼è‡´éƒ¨åˆ†å…ƒç´  â€œæŒªä¸åŠ¨â€ï¼Œæ¦‚ç‡ä¸¥é‡ååºã€‚

   - åªæœ‰ Fisher-Yates ç®—æ³•ï¼ˆä»åå¾€å‰é€ä¸ªäº¤æ¢éšæœºä½ç½®ï¼‰èƒ½ä¿è¯ï¼š**æ¯ä¸ªå…ƒç´ å‡ºç°åœ¨æ¯ä¸ªä½ç½®çš„æ¦‚ç‡å®Œå…¨ç›¸ç­‰**ã€‚

2. æ ¸å¿ƒé€»è¾‘æ‹†è§£

   - ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œä¿è¯æ¯ä¸ªå…ƒç´ éƒ½èƒ½è¢«éšæœºäº¤æ¢ï¼›
   - éšæœºç´¢å¼•èŒƒå›´æ˜¯ `0 åˆ°å½“å‰ç´¢å¼•`ï¼Œé¿å…é‡å¤äº¤æ¢ï¼›
   - è§£æ„èµ‹å€¼å¿«é€Ÿäº¤æ¢ä¸¤ä¸ªå…ƒç´ ï¼Œä»£ç ç®€æ´ã€‚

## å­—ç¬¦ä¸²ç”Ÿæˆæ‰€æœ‰å®Œæ•´å¥å­

#### é¢˜ç›®æè¿°

**è¾“å…¥**

ä¸€ä¸ªè‹±æ–‡å¥å­å­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…å«è‹¥å¹² `[å€¼1/å€¼2/å€¼3...]` æ ¼å¼çš„ç‰‡æ®µï¼ˆæ–¹æ‹¬å·å†…ä¸ºç”¨æ–œæ åˆ†éš”çš„å¤šä¸ªå•è¯ / è¯ç»„ï¼‰ã€‚

ç¤ºä¾‹è¾“å…¥ï¼š`I like [apple/banana/orange] and [milk/tea]`

**è¾“å‡º**

ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å®Œæ•´å¥å­ï¼ˆå°†æ–¹æ‹¬å·å†…çš„å¯é€‰å€¼å…¨ç»„åˆæ›¿æ¢ï¼Œæ— é‡å¤ã€æ— é—æ¼ï¼‰ã€‚

```plaintext
I like apple and milk
I like apple and tea
I like banana and milk
I like banana and tea
I like orange and milk
I like orange and tea
```

#### è§£æ³•åŠæ ¸å¿ƒæ€è·¯

| è§£æ³•ç±»å‹      | æ ¸å¿ƒæ€è·¯                                                     | ä¼˜ç‚¹                 | ç¼ºç‚¹                   | é€‚ç”¨åœºæ™¯                 |
| ------------- | ------------------------------------------------------------ | -------------------- | ---------------------- | ------------------------ |
| 1. é€’å½’å›æº¯æ³• | 1. æ­£åˆ™åŒ¹é…ç¬¬ä¸€ä¸ªå¯é€‰ç‰‡æ®µï¼Œæ‹†åˆ† â€œç‰‡æ®µå‰æ–‡æœ¬ + å¯é€‰å€¼ + ç‰‡æ®µåå‰©ä½™æ–‡æœ¬â€ï¼›2. é€’å½’éå†å½“å‰å¯é€‰ç‰‡æ®µçš„æ¯ä¸ªå€¼ï¼Œæ‹¼æ¥å‰ç¼€åå¤„ç†å‰©ä½™æ–‡æœ¬ï¼›3. æ— å¯é€‰ç‰‡æ®µæ—¶ï¼Œæ‹¼æ¥å®Œæ•´å¥å­å­˜å…¥ç»“æœã€‚ | é€»è¾‘ç›´è§‚ã€æ˜“ç†è§£è°ƒè¯• | é€’å½’æ·±åº¦å¤§æ—¶å¯èƒ½æ ˆæº¢å‡º | çŸ­å­—ç¬¦ä¸²ã€å°‘é‡å¯é€‰ç‰‡æ®µ   |
| 2. ç¬›å¡å°”ç§¯æ³• | 1. æ‹†åˆ†å­—ç¬¦ä¸²ä¸º â€œå›ºå®šæ¨¡æ¿ç‰‡æ®µâ€+â€œå¯é€‰å€¼åˆ—è¡¨â€ï¼ˆå¦‚æ¨¡æ¿ï¼š`['I like ', ' and ', '']`ï¼Œå¯é€‰å€¼ï¼š`[['apple','banana'], ['milk','tea']]`ï¼‰ï¼›2. è®¡ç®—å¯é€‰å€¼åˆ—è¡¨çš„ç¬›å¡å°”ç§¯ï¼ˆå…¨ç»„åˆï¼‰ï¼›3. å°†ç¬›å¡å°”ç§¯ç»“æœå¡«å……åˆ°æ¨¡æ¿ä¸­ï¼Œç”Ÿæˆæœ€ç»ˆå¥å­ã€‚ | æ•°å­¦é€»è¾‘æ¸…æ™°ã€æ•ˆç‡é«˜ | éœ€é¢å¤–å¤„ç†æ¨¡æ¿æ‹†åˆ†     | å¤šç»„å¯é€‰ç‰‡æ®µã€é«˜æ€§èƒ½éœ€æ±‚ |
| 3. è¿­ä»£æ‰©å±•æ³• | 1. åˆå§‹åŒ–ç»“æœé›†ä¸º `['']`ï¼›2. æ¯åŒ¹é…ä¸€ä¸ªå¯é€‰ç‰‡æ®µï¼Œå…ˆæ‹¼æ¥ç‰‡æ®µå‰å›ºå®šæ–‡æœ¬åˆ°ç°æœ‰ç»“æœï¼›3. å°†ç°æœ‰ç»“æœä¸å½“å‰å¯é€‰å€¼é€ä¸ªç»„åˆï¼Œæ‰©å±•ç»“æœé›†ï¼›4. æ‰€æœ‰ç‰‡æ®µå¤„ç†å®Œåï¼Œæ‹¼æ¥æœ€åä¸€æ®µå›ºå®šæ–‡æœ¬ã€‚ | æ— é€’å½’ã€å†…å­˜å ç”¨ä½   | ä»£ç ç¨ç¹ç             | é•¿å­—ç¬¦ä¸²ã€ä½å†…å­˜ç¯å¢ƒ     |

#### ä»£ç 

1. é€’å½’å›æº¯æ³•

```javascript
/**
 * é€’å½’å›æº¯æ³•ç”Ÿæˆæ‰€æœ‰å®Œæ•´å¥å­
 * @param {string} str - è¾“å…¥çš„å¸¦æ–¹æ‹¬å·/æ–œæ çš„å­—ç¬¦ä¸²
 * @returns {string[]} æ‰€æœ‰ç»„åˆçš„å®Œæ•´å¥å­æ•°ç»„
 */
function expandSentence(str) {
  // å­˜å‚¨æœ€ç»ˆç”Ÿæˆçš„æ‰€æœ‰å¥å­
  const result = [];
  // æ­£åˆ™è¡¨è¾¾å¼ï¼šåŒ¹é… [xxx/xxx] æ ¼å¼ï¼Œæ•è·ç»„æå–æ‹¬å·å†…çš„å†…å®¹ï¼ˆ[^\]]+ åŒ¹é…é ] çš„ä»»æ„å­—ç¬¦ï¼‰
  const regex = /\[([^\]]+)\]/g;

  /**
   * é€’å½’å›æº¯æ ¸å¿ƒå‡½æ•°
   * @param {string} remaining - æœªå¤„ç†çš„å‰©ä½™å­—ç¬¦ä¸²
   * @param {string} prefix - å·²æ‹¼æ¥çš„å¥å­å‰ç¼€
   */
  function backtrack(remaining, prefix) {
    // åŒ¹é…ç¬¬ä¸€ä¸ªå¯é€‰ç‰‡æ®µï¼ˆè¿”å›nullè¡¨ç¤ºæ— åŒ¹é…ï¼‰
    const match = regex.exec(remaining);
    if (!match) {
      // æ²¡æœ‰å¯é€‰ç‰‡æ®µäº†ï¼Œæ‹¼æ¥å‰ç¼€+å‰©ä½™æ–‡æœ¬ï¼ŒåŠ å…¥ç»“æœé›†
      result.push(prefix + remaining);
      return;
    }
    // è§£æ„åŒ¹é…ç»“æœï¼šfullæ˜¯å®Œæ•´åŒ¹é…çš„ [xxx/xxx]ï¼Œoptsæ˜¯æ‹¬å·å†…çš„ xxx/xxx å†…å®¹
    const [fullMatch, optsStr] = match;
    // å¯é€‰ç‰‡æ®µå‰é¢çš„æ™®é€šæ–‡æœ¬ï¼ˆæ¯”å¦‚ "I like "ï¼‰
    const beforeText = remaining.slice(0, match.index);
    // å¯é€‰ç‰‡æ®µåé¢çš„å‰©ä½™æ–‡æœ¬ï¼ˆæ¯”å¦‚ " and [milk/tea]"ï¼‰
    const afterText = remaining.slice(match.index + fullMatch.length);
    // æ‹†åˆ†æ‹¬å·å†…çš„å¯é€‰å€¼ï¼ˆæ¯”å¦‚æ‹†æˆ ['apple','banana','orange']ï¼‰
    const options = optsStr.split('/');

    // éå†å½“å‰å¯é€‰ç‰‡æ®µçš„æ¯ä¸ªå€¼ï¼Œé€’å½’å¤„ç†åç»­æ–‡æœ¬
    for (const option of options) {
      // æ–°å‰ç¼€ = åŸæœ‰å‰ç¼€ + å¯é€‰ç‰‡æ®µå‰æ–‡æœ¬ + å½“å‰å¯é€‰å€¼
      // å‰©ä½™æ–‡æœ¬ = å¯é€‰ç‰‡æ®µåçš„æ–‡æœ¬ï¼Œç»§ç»­é€’å½’
      backtrack(afterText, prefix + beforeText + option);
    }
    // é‡ç½®æ­£åˆ™çš„lastIndexï¼Œé¿å…ä¸‹æ¬¡åŒ¹é…æ—¶ä»ä¸Šæ¬¡ä½ç½®å¼€å§‹ï¼ˆæ­£åˆ™.execçš„å‘ï¼‰
    regex.lastIndex = 0;
  }

  // åˆå§‹è°ƒç”¨ï¼šå‰©ä½™æ–‡æœ¬ä¸ºåŸå­—ç¬¦ä¸²ï¼Œå‰ç¼€ä¸ºç©º
  backtrack(str, '');
  return result;
}

// æµ‹è¯•è°ƒç”¨
// const input = 'I like [apple/banana/orange] and [milk/tea]';
// console.log(expandSentence(input));
```

### 2. ç¬›å¡å°”ç§¯æ³•

```javascript
/**
 * ç¬›å¡å°”ç§¯æ³•ç”Ÿæˆæ‰€æœ‰å®Œæ•´å¥å­
 * @param {string} str - è¾“å…¥çš„å¸¦æ–¹æ‹¬å·/æ–œæ çš„å­—ç¬¦ä¸²
 * @returns {string[]} æ‰€æœ‰ç»„åˆçš„å®Œæ•´å¥å­æ•°ç»„
 */
function expandSentenceByCartesian(str) {
  // å­˜å‚¨å­—ç¬¦ä¸²çš„å›ºå®šæ¨¡æ¿ç‰‡æ®µï¼ˆæ¯”å¦‚ ['I like ', ' and ', '']ï¼‰
  const templateParts = [];
  // å­˜å‚¨æ‰€æœ‰å¯é€‰ç‰‡æ®µçš„å€™é€‰å€¼ï¼ˆæ¯”å¦‚ [['apple','banana','orange'], ['milk','tea']]ï¼‰
  const candidates = [];
  // åŒ¹é… [xxx/xxx] çš„æ­£åˆ™
  const regex = /\[([^\]]+)\]/g;
  // è®°å½•ä¸Šä¸€æ¬¡åŒ¹é…ç»“æŸçš„ä½ç½®ï¼Œç”¨äºæˆªå–å›ºå®šæ–‡æœ¬
  let lastIndex = 0;
  let match; // å­˜å‚¨æ¯æ¬¡æ­£åˆ™åŒ¹é…çš„ç»“æœ

  // ç¬¬ä¸€æ­¥ï¼šæ‹†åˆ†å­—ç¬¦ä¸²ä¸ºæ¨¡æ¿ç‰‡æ®µ + å€™é€‰å€¼åˆ—è¡¨
  while ((match = regex.exec(str)) !== null) {
    // æˆªå–ä»ä¸Šä¸€æ¬¡ç»“æŸä½ç½®åˆ°å½“å‰åŒ¹é…ä½ç½®çš„å›ºå®šæ–‡æœ¬ï¼ˆæ¯”å¦‚ "I like "ï¼‰
    templateParts.push(str.slice(lastIndex, match.index));
    // æ‹†åˆ†æ‹¬å·å†…çš„å¯é€‰å€¼ï¼ŒåŠ å…¥å€™é€‰å€¼åˆ—è¡¨
    candidates.push(match[1].split('/'));
    // æ›´æ–°ä¸Šä¸€æ¬¡ç»“æŸä½ç½®ä¸ºå½“å‰åŒ¹é…çš„ç»“æŸä½ç½®
    lastIndex = regex.lastIndex;
  }
  // æˆªå–æœ€åä¸€æ®µå›ºå®šæ–‡æœ¬ï¼ˆæ¯”å¦‚åŒ¹é…å®Œæ‰€æœ‰æ‹¬å·åï¼Œåé¢çš„ç©ºå­—ç¬¦ä¸²æˆ–å…¶ä»–æ–‡æœ¬ï¼‰
  templateParts.push(str.slice(lastIndex));

  /**
   * è®¡ç®—å¤šä¸ªæ•°ç»„çš„ç¬›å¡å°”ç§¯ï¼ˆæ ¸å¿ƒå·¥å…·å‡½æ•°ï¼‰
   * æ¯”å¦‚è¾“å…¥ [[a,b],[c,d]] â†’ è¾“å‡º [[a,c],[a,d],[b,c],[b,d]]
   * @param {any[][]} arrays - å¾…è®¡ç®—çš„æ•°ç»„åˆ—è¡¨
   * @returns {any[][]} ç¬›å¡å°”ç§¯ç»“æœ
   */
  function cartesianProduct(arrays) {
    // åˆå§‹å€¼ä¸º [[]]ï¼ˆç©ºæ•°ç»„çš„æ•°ç»„ï¼‰ï¼Œreduceé€æ­¥åˆå¹¶
    return arrays.reduce((acc, curr) => {
      // flatMapï¼šå±•å¼€ä¸€ç»´æ•°ç»„ï¼›mapï¼šç»„åˆç°æœ‰å€¼å’Œå½“å‰å€¼
      return acc.flatMap(prevCombination => 
        curr.map(currValue => [...prevCombination, currValue])
      );
    }, [[]]);
  }

  // ç¬¬äºŒæ­¥ï¼šè®¡ç®—æ‰€æœ‰å€™é€‰å€¼çš„ç¬›å¡å°”ç§¯ï¼ˆå¾—åˆ°æ‰€æœ‰ç»„åˆï¼‰
  const allCombinations = cartesianProduct(candidates);

  // ç¬¬ä¸‰æ­¥ï¼šå°†ç¬›å¡å°”ç§¯ç»“æœå¡«å……åˆ°æ¨¡æ¿ä¸­ï¼Œç”Ÿæˆæœ€ç»ˆå¥å­
  return allCombinations.map(combination => {
    let sentence = '';
    // éå†æ¨¡æ¿ç‰‡æ®µï¼Œé€ä¸ªæ‹¼æ¥
    for (let i = 0; i < templateParts.length; i++) {
      sentence += templateParts[i];
      // å€™é€‰å€¼ç»„åˆçš„é•¿åº¦ = å¯é€‰ç‰‡æ®µæ•°é‡ï¼Œæ¨¡æ¿ç‰‡æ®µæ•°é‡ = å¯é€‰ç‰‡æ®µæ•°é‡ + 1
      // å› æ­¤i < combination.lengthæ—¶ï¼Œæ‹¼æ¥å¯¹åº”å€™é€‰å€¼
      if (i < combination.length) {
        sentence += combination[i];
      }
    }
    return sentence;
  });
}

// æµ‹è¯•è°ƒç”¨
// const input2 = 'I like [apple/banana/orange] and [milk/tea]';
// console.log(expandSentenceByCartesian(input2));
```

### 3. è¿­ä»£æ‰©å±•æ³•

```javascript
/**
 * è¿­ä»£æ‰©å±•æ³•ç”Ÿæˆæ‰€æœ‰å®Œæ•´å¥å­ï¼ˆæ— é€’å½’ï¼‰
 * @param {string} str - è¾“å…¥çš„å¸¦æ–¹æ‹¬å·/æ–œæ çš„å­—ç¬¦ä¸²
 * @returns {string[]} æ‰€æœ‰ç»„åˆçš„å®Œæ•´å¥å­æ•°ç»„
 */
function expandSentenceByIteration(str) {
  // åˆå§‹åŒ–ç»“æœé›†ï¼šä»ç©ºå­—ç¬¦ä¸²å¼€å§‹
  let result = [''];
  // åŒ¹é… [xxx/xxx] çš„æ­£åˆ™
  const regex = /\[([^\]]+)\]/g;
  // è®°å½•ä¸Šä¸€æ¬¡åŒ¹é…ç»“æŸçš„ä½ç½®
  let lastIndex = 0;
  let match;

  // éå†æ‰€æœ‰å¯é€‰ç‰‡æ®µ
  while ((match = regex.exec(str)) !== null) {
    // è§£æ„åŒ¹é…ç»“æœï¼šfullMatchæ˜¯å®Œæ•´çš„ [xxx/xxx]ï¼ŒoptsStræ˜¯æ‹¬å·å†…å†…å®¹
    const [fullMatch, optsStr] = match;
    // ç¬¬ä¸€æ­¥ï¼šæ‹¼æ¥å¯é€‰ç‰‡æ®µå‰çš„å›ºå®šæ–‡æœ¬åˆ°ç°æœ‰ç»“æœé›†çš„æ¯ä¸ªå…ƒç´ 
    // æ¯”å¦‚ç»“æœé›†åŸæœ¬æ˜¯ ['']ï¼Œå›ºå®šæ–‡æœ¬æ˜¯ "I like " â†’ å˜æˆ ['I like ']
    const fixedText = str.slice(lastIndex, match.index);
    result = result.map(item => item + fixedText);

    // ç¬¬äºŒæ­¥ï¼šæ‹†åˆ†å½“å‰å¯é€‰ç‰‡æ®µçš„æ‰€æœ‰å€¼
    const options = optsStr.split('/');
    // ä¸´æ—¶æ•°ç»„å­˜å‚¨æ–°çš„ç»“æœé›†
    const newResult = [];
    // éå†ç°æœ‰ç»“æœé›†çš„æ¯ä¸ªå…ƒç´ ï¼Œå’Œå½“å‰å¯é€‰å€¼é€ä¸ªç»„åˆ
    // æ¯”å¦‚ç°æœ‰ç»“æœæ˜¯ ['I like ']ï¼Œå¯é€‰å€¼æ˜¯ ['apple','banana'] â†’ å˜æˆ ['I like apple', 'I like banana']
    for (const item of result) {
      for (const opt of options) {
        newResult.push(item + opt);
      }
    }
    // æ›´æ–°ç»“æœé›†ä¸ºæ–°ç»„åˆåçš„æ•°ç»„
    result = newResult;

    // ç¬¬ä¸‰æ­¥ï¼šæ›´æ–°ä¸Šä¸€æ¬¡åŒ¹é…ç»“æŸä½ç½®
    lastIndex = regex.lastIndex;
  }

  // ç¬¬å››æ­¥ï¼šæ‹¼æ¥æœ€åä¸€æ®µå›ºå®šæ–‡æœ¬ï¼ˆæ¯”å¦‚ " and milk/tea" å¤„ç†å®Œåï¼Œæ‹¼æ¥æœ€åçš„ç©ºå­—ç¬¦ä¸²æˆ–å…¶ä»–æ–‡æœ¬ï¼‰
  const lastFixedText = str.slice(lastIndex);
  result = result.map(item => item + lastFixedText);

  return result;
}

// æµ‹è¯•è°ƒç”¨
// const input3 = 'I like [apple/banana/orange] and [milk/tea]';
// console.log(expandSentenceByIteration(input3));
```

# ç½‘ç»œå®‰å…¨

## sameSite

`Cookieçš„ä¸€ä¸ªå±æ€§`ï¼Œä¸»è¦ç”¨æ¥é˜²æ­¢è·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»ï¼ˆiframeã€æ¶æ„é“¾æ¥ã€è‡ªåŠ¨è¡¨å•ï¼‰ï¼Œæœ‰ä¸‰ä¸ªå€¼

1. Strictä¸¥æ ¼ï¼šåªæœ‰å½“å‰é¡µé¢çš„ç½‘é¡µå‘èµ·è¯·æ±‚Cookieæ‰ä¼šè¢«å‘é€
2. Laxå®½æ¾ï¼šå…è®¸å†å®‰å…¨çš„è·¨ç«™è¯·æ±‚ä¸­æºå¸¦Cookie
3. Noneä¸é™åˆ¶ï¼šä»»ä½•è¯·æ±‚éƒ½æºå¸¦Cookieï¼Œéœ€åŒæ—¶è®¾ç½®Secure

## token é˜²æ­¢è¢«çªƒå–

- ä½¿ç”¨httpOnlyå­˜tokenï¼Œé¿å…jsè¯»å–
- è®¾ç½®è¾ƒçŸ­çš„æ—¶é—´ï¼Œä½¿å¾—é£é™©å¯æ§
- é‡è¦æ“ä½œå‰äºŒæ¬¡éªŒè¯

## JWT

- JWTæ˜¯tokençš„ä¸€ç§å…·ä½“å®ç°æ–¹å¼
- JWTçš„ç‰¹ç‚¹æ˜¯æŠŠç”¨æˆ·ä¿¡æ¯é“­æ–‡base64å­˜æ”¾åœ¨ä»¤ç‰Œé‡Œï¼ŒæœåŠ¡å™¨ä¸ç”¨æŸ¥å°±èƒ½éªŒè¯èº«ä»½
- JWTï¼šheaderå¤´ + payloadç”¨æˆ·ä¿¡æ¯ + signtureå¤´å’Œç”¨æˆ·ä¿¡æ¯è¿ä¸€èµ·ç”¨å¯†é’¥åŠ å¯†

# AI

## AI å¤§è¯­è¨€æ¨¡å‹LLM (Large Language Model)

![image-20251125231031837](é¢è¯•æŒ‡å—.assets/image-20251125231031837.png)

#### å¤§è¯­è¨€æ¨¡å‹åŸç†

1. æç¤ºè¯è¢«tokenizeråˆ‡åˆ†æˆtoken

   tokenæ˜¯å¤§æ¨¡å‹æœ€å°ç†è§£å•å…ƒï¼Œæ¯ä¸ªtokenéƒ½å¯¹åº”ä¸€ä¸ªtokenID

2. Transformerã€Šè‡ªæ³¨æ„åŠ›æœºåˆ¶ã€‹æ•æ‰ä¸Šä¸‹æ–‡å…³è”
   é€šè¿‡é€’å½’æœ€æ–°çš„tokené›†åˆï¼Œæ¯æ¬¡ä¸€ä¸ªtokençš„é€æ¸è®¡ç®—ï¼ˆæœ¬è´¨å°±æ˜¯ä¸æ–­çš„â€œç»­å†™â€tokenä¸²ï¼‰

3. RAGæ£€ç´¢å¢å¼ºç”Ÿæˆ
   å®ç°å¤–æŒ‚çŸ¥è¯†åº“æˆ–è€…è”ç½‘æœç´¢çš„åŠŸèƒ½ï¼ˆæœ¬è´¨æ˜¯å°†çŸ¥è¯†åº“æˆ–ç½‘ç»œä¸Šå…³è”çš„å†…å®¹åŠ å…¥åˆ°tokenä¸²å†è®¡ç®—ï¼‰

#### æ¨¡å‹ç±»å‹

- ç¨ å¯†æ¨¡å‹Dense Modelï¼šæ¯æ¬¡éƒ½æ˜¯å…¨é‡è®¡ç®—ï¼ˆChatGPTï¼‰

- ç¨€ç–æ¨¡å‹Sparse Modelï¼šé™ä½è®¡ç®—é‡æå‡é€Ÿåº¦

  æ··åˆä¸“å®¶æ¨¡å‹MOEï¼ˆdeepseekã€Grokï¼‰
  é€šè¿‡é—¨æ§ç½‘ç»œä¸ºé—®é¢˜åˆ†é…ä¸“å®¶å†ç”Ÿæˆç»“æœ

#### è®­ç»ƒæµç¨‹

1. é¢„è®­ç»ƒpre-traingingï¼š
   - æµ·é‡æ•°æ®è·å¾—åŸºåº§æ¨¡å‹
2. åå‘ä¼ æ’­ï¼š
   - é”™è¯¯å›ç­”å’Œç›®æ ‡å¯¹æ¯”è®¡ç®—æŸå¤±ï¼Œæ›´æ”¹å‚æ•°ï¼Œç›´åˆ°é€¼è¿‘ç›®æ ‡ï¼ˆç›®å‰ä¸»è¦æ˜¯è‡ªç›‘ç£å­¦ä¹ ï¼‰
3. åè®­ç»ƒpost traingingï¼š
   - ç»™AIå¸¦æ ‡æ³¨çš„æ•°æ®é›†ï¼ˆçœŸäººç¼–å†™ï¼Œä¹Ÿå°±æ˜¯æ•°æ®æ ‡æ³¨å‘˜ï¼‰ï¼Œè®©AIæ¨¡ä»¿æ ‡æ³¨æ•°æ®çš„é£æ ¼ç”Ÿæˆå†…å®¹
   - å¼ºåŒ–å­¦ä¹ ï¼šæœ‰ç‚¹åƒäººç±»çš„é”™é¢˜æœ¬ï¼Œé€šè¿‡å¥–åŠ±æ¨¡å‹ä¸æ–­çš„å†è®­ç»ƒï¼ˆå°±æ˜¯åŸºäºäººå·¥åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼‰

#### Agentæ™ºèƒ½ä½“

`LLM + mcp server`

ä½¿AIè·å¾—æ“ä½œçš„èƒ½åŠ›ï¼Œagentå…¶å®æ˜¯ä»£ç†çš„æ„æ€ï¼Œé€šè¿‡mcpåè®®ï¼Œå»è°ƒç”¨ä¸€ç³»åˆ—å·¥å…·ï¼Œæ¥è®©AIè·å¾—åšäº‹çš„èƒ½åŠ›

## MCPï¼ˆModel Context Protocolï¼‰

`æ¨¡å‹ä¸Šä¸‹æ–‡åè®®`ï¼šAIæ¨¡å‹å’Œå¤–éƒ¨æ•°æ®ã€å·¥å…·ä¹‹é—´çš„æ ‡è½¬åŒ–æ¡¥æ¢

MCPæ˜¯æ•°æ®çš„è½¬æ¢å™¨ï¼Œæœ‰äº†è½¬æ¥å™¨æ—¢ä¾¿äºAIå¯¹æ¥ä¸åŒç±»å‹çš„æ•°æ®ï¼Œåˆä¾¿äºAIä½¿ç”¨å„ç§å·¥å…·æ‰§è¡ŒæŸäº›ä»»åŠ¡çš„

#### MCP åè®®å†…å®¹

1. stdio è¿›ç¨‹ä¹‹é—´æœ¬åœ°é€šä¿¡æ–¹å¼
2. `JSONâ€”RPC`é€šä¿¡æ ¼å¼è§„èŒƒ

#### MCP Server

éµå¾ªæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰çš„ç‹¬ç«‹ç¨‹åºï¼Œä½œä¸º AI åº”ç”¨ä¸å¤–éƒ¨å·¥å…·ã€æ•°æ®æºçš„æ¡¥æ¢ï¼Œè¢«åŠ¨å“åº” AI è°ƒç”¨ä»¥æä¾›å„ç±»é¢„è®¾åŠŸèƒ½ã€‚

#### AI ä¸ MCP Server é€šä¿¡æ–¹å¼

| é€šä¿¡æ–¹å¼                       | æ ¸å¿ƒåŸç†                                                     | é€‚ç”¨åœºæ™¯                        |
| ------------------------------ | ------------------------------------------------------------ | ------------------------------- |
| ğŸŒŸæ ‡å‡†è¾“å…¥è¾“å‡ºï¼ˆstdout/stdinï¼‰  | AIå¯åŠ¨ MCP Serverä½œä¸ºå­è¿›ç¨‹ï¼Œé€šè¿‡è¿›ç¨‹ç®¡é“ä¼ é€’æ•°æ®ï¼šPython å†™ stdin ç»™ Node.jsï¼ŒNode.js å¤„ç†åé€šè¿‡ stdout å›ä¼ ï¼Œæ— ç½‘ç»œå¼€é”€ | åŒæœåŠ¡å™¨ã€ä½å»¶è¿Ÿã€è½»é‡äº¤äº’      |
| HTTP/HTTPS                     | AI å‘ MCP Server æš´éœ²çš„ HTTP æ¥å£å‘é€è¯·æ±‚ï¼ˆå«å‚æ•°ï¼‰ï¼ŒMCP Server å¤„ç†åè¿”å› JSON / äºŒè¿›åˆ¶ç­‰å“åº”ï¼ŒåŸºäºç½‘ç»œåè®®é€šä¿¡ | è·¨æœåŠ¡å™¨ / è·¨ä¸»æœºã€éœ€æ ‡å‡†åŒ–æ¥å£ |
| Socketï¼ˆTCP/UDPï¼‰              | AI ä¸ MCP Server å»ºç«‹å¥—æ¥å­—è¿æ¥ï¼ŒåŸºäº TCP/UDP åè®®ç›´æ¥ä¼ è¾“å­—èŠ‚æµï¼Œå®æ—¶åŒå‘é€šä¿¡ | é«˜å¹¶å‘ã€ä½å»¶è¿Ÿçš„é•¿è¿æ¥åœºæ™¯      |
| RPCï¼ˆå¦‚ gRPCï¼‰                 | å®šä¹‰ç»Ÿä¸€æ¥å£ï¼ˆ.proto æ–‡ä»¶ï¼‰ï¼ŒAI è°ƒç”¨ MCP Server ä¸Šçš„ â€œè¿œç¨‹å‡½æ•°â€ï¼Œåº•å±‚åŸºäº HTTP/2 å°è£…ï¼Œåƒè°ƒç”¨æœ¬åœ°å‡½æ•°ä¸€æ ·äº¤äº’ | å¤æ‚è·¨è¯­è¨€è°ƒç”¨ã€éœ€å¼ºç±»å‹çº¦æŸ    |
| æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚ Redis/ RabbitMQï¼‰ | AI æŠŠè¯·æ±‚æ•°æ®å‘è‡³é˜Ÿåˆ—ï¼ŒMCP Server ç›‘å¬é˜Ÿåˆ—æ¶ˆè´¹æ•°æ®ï¼Œå¤„ç†åå°†ç»“æœå†™å…¥å¦ä¸€ä¸ªé˜Ÿåˆ—ï¼ŒAI å†è¯»å–ç»“æœï¼Œå¼‚æ­¥è§£è€¦ | é«˜å¹¶å‘ã€å¼‚æ­¥å¤„ç†ã€éœ€å‰Šå³°å¡«è°·    |

- **stdout/stdin**ï¼šåŒæœºè¿›ç¨‹é—´ â€œç®¡é“ä¼ æ•°æ®â€ï¼Œæœ€å¿«æœ€çœèµ„æºï¼›
- **HTTP**ï¼šè·¨ç½‘ç»œ â€œæ¥å£è°ƒç”¨â€ï¼Œæœ€é€šç”¨æ˜“å®ç°ï¼›
- **Socket**ï¼šå®æ—¶ â€œå­—èŠ‚æµé€šä¿¡â€ï¼Œé€‚åˆé«˜é¢‘äº¤äº’ï¼›
- **RPC**ï¼šè·¨è¯­è¨€ â€œè¿œç¨‹å‡½æ•°è°ƒç”¨â€ï¼Œè§„èŒƒä¸”é«˜æ•ˆï¼›
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šå¼‚æ­¥ â€œæ¶ˆæ¯ä¸­è½¬â€ï¼Œè§£è€¦ä¸”æŠ—å¹¶å‘ã€‚

## Function Calling

#### å®šä¹‰

Function Callingå°±æ˜¯æ¨¡å‹è°ƒç”¨å‡½æ•°çš„ä¸€ç§èƒ½åŠ›

æ˜¯å¤§æ¨¡å‹çš„æ ¸å¿ƒèƒ½åŠ›ï¼šè®© AI èƒ½è¯†åˆ«ç”¨æˆ·æ„å›¾ï¼Œä¸»åŠ¨è°ƒç”¨é¢„è®¾çš„å¤–éƒ¨å‡½æ•° / å·¥å…·ï¼ˆå¦‚æŸ¥å¤©æ°”ã€æŸ¥æ•°æ®åº“ã€è°ƒç”¨ APIï¼‰ï¼Œå†ç”¨å·¥å…·è¿”å›ç»“æœç”Ÿæˆæœ€ç»ˆå›ç­”ï¼Œè§£å†³å¤§æ¨¡å‹ â€œåªé è‡ªèº«å‚æ•°å›ç­”ä¸äº†å®æ—¶ / ä¸“å±æ•°æ®é—®é¢˜â€ çš„é—®é¢˜ã€‚

æ¨¡å‹æœ‰Function Callingçš„èƒ½åŠ›è¡¨ç°åœ¨ï¼š

1. è§£æå·¥å…·åˆ—è¡¨
2. æŒ‘é€‰å·¥å…·å¹¶ç»™å‡ºå‚æ•°
3. è§£æå·¥å…·æ‰§è¡Œç»“æœ

#### Function Calling ä¸ MCP çš„å…³ç³»

| è§’è‰²             | èŒè´£                                            |
| ---------------- | ----------------------------------------------- |
| Function Calling | å†³ç­– â€œè¦ä¸è¦è°ƒç”¨å·¥å…·ã€è°ƒç”¨å“ªä¸ªå·¥å…·â€ï¼Œå¹¶è§¦å‘è°ƒç”¨ |
| MCP              | è§„å®š â€œè°ƒç”¨å·¥å…·çš„æ²Ÿé€šæ ¼å¼â€ï¼Œç¡®ä¿åŒæ–¹èƒ½çœ‹æ‡‚       |

- Function Calling æ˜¯ AI â€œè°ƒç”¨å·¥å…·çš„èƒ½åŠ›â€ï¼Œè´Ÿè´£**å†³ç­–å’Œè§¦å‘è°ƒç”¨**ï¼›
- MCP æ˜¯ AI ä¸å·¥å…·ä¹‹é—´çš„ â€œé€šä¿¡è§„åˆ™â€ï¼Œè´Ÿè´£**æ ‡å‡†åŒ–è°ƒç”¨æ ¼å¼**ï¼›
- MCP èƒ½è®© Function Calling é€‚é…æ›´å¤šå·¥å…·ï¼Œé™ä½å¯¹æ¥æˆæœ¬ï¼ŒäºŒè€…ç»“åˆè®© AI è°ƒç”¨å¤–éƒ¨å·¥å…·æ›´è§„èŒƒã€æ›´é€šç”¨ã€‚

## A2A

#### å®šä¹‰

A2Aï¼ˆ**Agent-to-Agent**ï¼‰ï¼Œå³**æ™ºèƒ½ä½“ä¹‹é—´çš„äº¤äº’**ï¼ŒæŒ‡å¤šä¸ªå…·å¤‡è‡ªä¸»å†³ç­–ã€æ„ŸçŸ¥ã€æ‰§è¡Œèƒ½åŠ›çš„ AI æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ï¼ŒæŒ‰ç…§é¢„è®¾è§„åˆ™æˆ–åŠ¨æ€åè®®ååŒå·¥ä½œï¼Œå…±åŒå®Œæˆå•ä¸ªæ™ºèƒ½ä½“æ— æ³•èƒœä»»çš„å¤æ‚ä»»åŠ¡ã€‚

ç®€å•è¯´ï¼š**ä¸æ˜¯ â€œäººæœºäº¤äº’â€ï¼Œè€Œæ˜¯ â€œAI ä¸ AI å¯¹è¯åä½œâ€**ã€‚

#### æœ¬è´¨

1. **åˆ†å¸ƒå¼æ™ºèƒ½**ï¼šæ¯ä¸ªæ™ºèƒ½ä½“æœ‰ä¸“å±åˆ†å·¥ï¼Œå„å¸å…¶èŒï¼›
2. **è‡ªä¸»ååŒæœºåˆ¶**ï¼šæ™ºèƒ½ä½“é—´èƒ½è‡ªä¸»é€šä¿¡ã€åå•†ã€åˆ†å·¥ï¼Œæ— éœ€äººç±»å…¨ç¨‹å¹²é¢„ï¼›
3. **æ ‡å‡†åŒ–é€šä¿¡åè®®**ï¼šæ™ºèƒ½ä½“é—´äº¤äº’çš„æ ¸å¿ƒåŸºç¡€ï¼Œç¡®ä¿ä¸åŒæ¶æ„ã€è¯­è¨€çš„æ™ºèƒ½ä½“èƒ½ â€œå¬æ‡‚â€ å½¼æ­¤ã€‚

#### A2A é€šä¿¡åè®®

| åè®®ç±»å‹      | æ ¸å¿ƒä½œç”¨                                                     | é€‚ç”¨åœºæ™¯                                 |
| ------------- | ------------------------------------------------------------ | ---------------------------------------- |
| **FIPA åè®®** | æ™ºèƒ½ä½“é¢†åŸŸç»å…¸æ ‡å‡†ï¼Œå®šä¹‰äº†é€šä¿¡è¯­æ³•ã€äº¤äº’åè®®ï¼ˆå¦‚è¯·æ±‚ã€åå•†ã€æ‹’ç»ç­‰ï¼‰ï¼Œæ”¯æŒè·¨å¹³å°æ™ºèƒ½ä½“åä½œ | å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼ˆMASï¼‰çš„é€šç”¨äº¤äº’            |
| **ROS åè®®**  | æœºå™¨äººé¢†åŸŸä¸»æµåè®®ï¼Œå®ç°æœºå™¨äººæ™ºèƒ½ä½“é—´çš„æ„ŸçŸ¥æ•°æ®ã€æ§åˆ¶æŒ‡ä»¤ä¼ è¾“ | å·¥ä¸šæœºå™¨äººã€æœåŠ¡æœºå™¨äººååŒä½œä¸š           |
| **gRPC/HTTP** | åŸºäºé€šç”¨ç½‘ç»œåè®®ï¼Œé€šè¿‡æ¥å£å®šä¹‰å®ç°æ™ºèƒ½ä½“é—´çš„æ•°æ®ä¼ è¾“ä¸å‡½æ•°è°ƒç”¨ | è·¨è¯­è¨€ã€è·¨æœåŠ¡å™¨çš„æ™ºèƒ½ä½“åä½œ             |
| **MQTT åè®®** | è½»é‡çº§å‘å¸ƒ / è®¢é˜…åè®®ï¼Œé€‚åˆä½å¸¦å®½ã€é«˜å»¶è¿Ÿåœºæ™¯ä¸‹çš„æ™ºèƒ½ä½“æ¶ˆæ¯ä¼ é€’ | ç‰©è”ç½‘æ™ºèƒ½è®¾å¤‡é—´çš„ååŒï¼ˆå¦‚æ™ºèƒ½å®¶å±…åœºæ™¯ï¼‰ |

**A2A æ˜¯è®©å¤šä¸ª AI æ™ºèƒ½ä½“ â€œç»„é˜Ÿå¹²æ´»â€ï¼Œæ ¸å¿ƒæ˜¯ â€œåˆ†å·¥ + ååŒ + æ ‡å‡†åŒ–åè®®â€ï¼Œè§£å†³å•ä¸ª AI æä¸å®šçš„å¤æ‚ä»»åŠ¡**ã€‚

## RAG 

**RAG**ï¼ˆRetrieval-Augmented Generationï¼‰ï¼š`æ£€ç´¢å¢å¼ºç”Ÿæˆ`ï¼Œæ˜¯ä¸€ç§å°†**çŸ¥è¯†åº“æ£€ç´¢**ä¸**å¤§æ¨¡å‹ç”Ÿæˆ**ç»“åˆçš„æŠ€æœ¯ï¼Œè®©å¤§æ¨¡å‹åŸºäºå¤–éƒ¨æƒå¨æ•°æ®å›ç­”é—®é¢˜ï¼Œè§£å†³ â€œå¤–æŒ‚çŸ¥è¯†åº“ã€çŸ¥è¯†å®æ•ˆæ€§â€ ç­‰é—®é¢˜ã€‚

1. **ç´¢å¼• Indexing**
   å°†çŸ¥è¯†åº“ä»¥æŸç§æ ¼å¼ä¿å­˜èµ·æ¥ï¼Œæ–¹ä¾¿åç»­åŒ¹é…

   > 1. åˆ†å‰² Split ï¼šå°†é•¿æ–‡æœ¬åˆ†å‰²ä¸ºå¤šæ®µçŸ­æ–‡æœ¬
   >    å­—ç¬¦åˆ†å‰²ã€é€’å½’åˆ†å‰²ã€Tokenåˆ†å‰²ã€è¯­ä¹‰åˆ†å‰²ã€LLMæ™ºèƒ½åˆ†å‰²ã€æ··åˆåˆ†å‰²
   > 2. åµŒå…¥ Embeddingï¼šå°†æ–‡æœ¬å˜ä¸ºå¤šç»´å‘é‡çš„æ•°å­¦è¡¨è¾¾ï¼Œä¸ºåç»­çš„æ£€ç´¢æä¾›ä¾¿åˆ©
   >    å‘é‡çº¬åº¦è¶Šé«˜ï¼Œå¯¹è¯­è¨€çš„ç†è§£è¶Šç»†è…»ï¼ˆå°±æ˜¯é€šè¿‡æ•°å­—çš„çº¬åº¦æè¿°æ–‡æœ¬ï¼‰
   > 3. å­˜å‚¨ Storage
   >    åµŒå…¥ç»“æœé€šå¸¸ä½¿ç”¨å‘é‡æ•°æ®åº“å­˜å‚¨

2. **æ£€ç´¢ Retrieval**
   å°†ç”¨æˆ·çš„é—®é¢˜ä¸ä¹‹å‰å»ºç«‹çš„ç´¢å¼•è¿›è¡ŒåŒ¹é…ï¼Œå¾—åˆ°ç›¸å…³åº¦æ¯”è¾ƒé«˜çš„ç»“æœ
   
   > 1. æŸ¥è¯¢é¢„å¤„ç†ï¼ˆå¤„ç†å’Œä¼˜åŒ–ç”¨æˆ·çš„æé—®ï¼Œè¡¥å……è¯´æ˜ã€æ›´æ¢æ ‡å‡†æé—®æ–¹å¼ï¼‰
   > 2. å¤šè·¯æ£€ç´¢
   > 3. ç»“æœèåˆã€é‡æ‹
   > 4. åå¤„ç†

```mermaid
flowchart LR
	A[ç”¨æˆ·é—®é¢˜] -->|å‘é‡åŒ–| B[å‘é‡]
	C[çŸ¥è¯†åº“å‘é‡] -->|å‘é‡ç›¸ä¼¼åº¦ç®—æ³•| D[åŒ¹é…ç»“æœ]
	B -->|å‘é‡ç›¸ä¼¼åº¦ç®—æ³•| D
```

3. **ç”Ÿæˆ Generation**
   å°†åŒ¹é…çš„çŸ¥è¯†å’Œç”¨æˆ·çš„é—®é¢˜æ··åˆæŠ•é€’ç»™LLMï¼Œä»è€Œå¾—åˆ°ç²¾ç¡®çš„ç»“æœ

#### ä¼˜åŠ¿

1. è§£å†³çŸ¥è¯†æ—¶æ•ˆæ€§ï¼šæ— éœ€é‡æ–°è®­ç»ƒå¤§æ¨¡å‹ï¼Œæ›´æ–°çŸ¥è¯†åº“å³å¯ï¼›
2. é™ä½å¹»è§‰æ¦‚ç‡ï¼šç­”æ¡ˆæœ‰å¤–éƒ¨æ•°æ®æ”¯æ’‘ï¼Œæ›´å‡†ç¡®ï¼›
3. æˆæœ¬ä½ï¼šæ¯”å¾®è°ƒå¤§æ¨¡å‹æ›´çœé’±ã€é«˜æ•ˆã€‚

#### åœºæ™¯

- ä¼ä¸šçŸ¥è¯†åº“é—®ç­”ï¼ˆå¦‚å‘˜å·¥æ‰‹å†Œã€äº§å“æ–‡æ¡£ï¼‰ï¼›
- æ™ºèƒ½å®¢æœï¼ˆåŸºäºæœ€æ–°å”®åæ”¿ç­–å›ç­”ï¼‰ï¼›
- ä¸“ä¸šé¢†åŸŸé—®ç­”ï¼ˆå¦‚åŒ»ç–—ã€æ³•å¾‹æ¡æ–‡æŸ¥è¯¢ï¼‰ã€‚

## ASR & TTS

**å®šä¹‰**

| æŠ€æœ¯    | å…¨ç§°                                         | æ ¸å¿ƒä½œç”¨            | é€šä¿—ç†è§£               |
| ------- | -------------------------------------------- | ------------------- | ---------------------- |
| **ASR** | Automatic Speech Recognitionï¼ˆè‡ªåŠ¨è¯­éŸ³è¯†åˆ«ï¼‰ | å°†**è¯­éŸ³ä¿¡å·â†’æ–‡å­—** | è®©æœºå™¨ â€œå¬æ‡‚â€ äººè¯´çš„è¯ |
| **TTS** | Text-to-Speechï¼ˆè¯­éŸ³åˆæˆï¼‰                   | å°†**æ–‡å­—â†’è¯­éŸ³ä¿¡å·** | è®©æœºå™¨ â€œå¼€å£â€ è¯´è¯     |

**æ ¸å¿ƒæŠ€æœ¯è¦ç‚¹**

1. ASR å…³é”®æŠ€æœ¯

- è¯­éŸ³é¢„å¤„ç†
  - `VADï¼ˆVoice Activity Detectionï¼Œè¯­éŸ³æ´»åŠ¨æ£€æµ‹ï¼‰`ï¼šæ ¸å¿ƒæ˜¯åŒºåˆ†**äººå£°**å’Œ**é™éŸ³ / èƒŒæ™¯å™ªå£°**ï¼Œåªå¤„ç†æœ‰æ•ˆè¯­éŸ³ç‰‡æ®µï¼Œå‡å°‘æ— æ•ˆè®¡ç®—ã€‚æ¯”å¦‚é€šè¯å½•éŸ³ä¸­ï¼Œè‡ªåŠ¨è·³è¿‡é™éŸ³éƒ¨åˆ†ï¼Œåªè¯†åˆ«è¯´è¯å†…å®¹ã€‚
  - é™å™ªï¼šè¿‡æ»¤ç¯å¢ƒå™ªå£°ï¼ˆå¦‚é£å£°ã€é”®ç›˜å£°ï¼‰ï¼Œæå‡è¯­éŸ³æ¸…æ™°åº¦ã€‚
- **ç‰¹å¾æå–**ï¼šå°†è¯­éŸ³ä¿¡å·è½¬ä¸ºæœºå™¨èƒ½å¤„ç†çš„ç‰¹å¾ï¼ˆå¦‚ MFCC æ¢…å°”å€’è°±ç³»æ•°ï¼‰ï¼Œæå–éŸ³è°ƒã€é¢‘ç‡ç­‰å…³é”®ä¿¡æ¯ã€‚
- **æ¨¡å‹è¯†åˆ«**ï¼šä¸»æµç”¨ **ç«¯åˆ°ç«¯æ¨¡å‹**ï¼ˆå¦‚ Transformerã€CTC æ¨¡å‹ï¼‰ï¼Œç›´æ¥æ˜ å°„è¯­éŸ³ç‰¹å¾åˆ°æ–‡å­—ï¼Œæ›¿ä»£ä¼ ç»Ÿçš„å£°å­¦ + è¯­è¨€æ¨¡å‹ä¸¤æ­¥æ³•ã€‚

2. TTS å…³é”®æŠ€æœ¯

- **å‰ç«¯å¤„ç†**ï¼šå¯¹æ–‡å­—è¿›è¡Œåˆ†è¯ã€æ³¨éŸ³ã€æ–­å¥ï¼ˆæ¯”å¦‚ç»™å¤šéŸ³å­—æ ‡æ­£ç¡®è¯»éŸ³ï¼‰ï¼Œå†³å®šè¯­éŸ³çš„åœé¡¿å’ŒèŠ‚å¥ã€‚
- **å£°å­¦æ¨¡å‹**ï¼šç”Ÿæˆè¯­éŸ³çš„å£°å­¦ç‰¹å¾ï¼ˆå¦‚éŸ³é«˜ã€æ—¶é•¿ï¼‰ï¼Œå†³å®šè¯­éŸ³çš„è‡ªç„¶åº¦ã€‚
- **å£°ç å™¨**ï¼šå°†å£°å­¦ç‰¹å¾è½¬ä¸ºæœ€ç»ˆçš„è¯­éŸ³æ³¢å½¢ï¼Œæ˜¯å†³å®šéŸ³è´¨çš„æ ¸å¿ƒã€‚ä¸»æµæ–¹æ¡ˆï¼šWaveNetã€HiFi-GANï¼ˆç”Ÿæˆé«˜ä¿çœŸè¯­éŸ³ï¼‰ã€‚
- **é£æ ¼å®šåˆ¶**ï¼šæ”¯æŒè°ƒæ•´è¯­é€Ÿã€è¯­è°ƒã€éŸ³è‰²ï¼ˆå¦‚æ¨¡ä»¿ç‰¹å®šäººçš„å£°éŸ³ï¼‰ã€‚

## AIçœ‹æ³•

**åŸç†**ï¼š

æŠŠpromptæ‹†æˆtokenï¼Œæ ¹æ®ç°æœ‰tokenä¸€æ­¥ä¸€ä¸ªtokençš„å‘å¤–æ¨ç†

**ç¼ºé™·**

- æœ¬è´¨ï¼ˆæ¦‚ç‡ï¼‰ï¼Œç”Ÿæˆçš„è¶Šå¤šï¼Œé”™è¯¯çš„æ¦‚ç‡è¶Šé«˜
- AIä¸ä¸€å®šæ­£ç¡®

**æ›´å¥½çš„ä½¿ç”¨AI**

- é¡¶å±‚è®¾è®¡ â• ä»»åŠ¡æ‹†åˆ†
- çŸ¥è¯†çš„æ·±åº¦ï¼Œåˆ¤æ–­AIå†…å®¹æ­£ç¡®æ€§
- æ•ˆç‡ + æ‘†è„±å¾ˆå¤šæ¯ç‡¥ç®€å•çš„äº‹æƒ…ï¼Œä¸“æ³¨äºé¡¶å±‚è®¾è®¡

## LangChain

1. å®šä¹‰

   LangChain æ˜¯ä¸€ä¸ªå¼€æºæ¡†æ¶ï¼Œæ ¸å¿ƒå®šä½æ˜¯è¿æ¥å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä¸ç°å®åº”ç”¨åœºæ™¯çš„ â€œä¸­é—´å±‚â€ã€‚å®ƒä¸ç›´æ¥æä¾›å¤§è¯­è¨€æ¨¡å‹ï¼Œè€Œæ˜¯é€šè¿‡æ¨¡å—åŒ–è®¾è®¡ï¼Œç®€åŒ– LLM é©±åŠ¨çš„å„ç±»æ™ºèƒ½åº”ç”¨å¼€å‘æµç¨‹ï¼Œè®©å¼€å‘è€…èƒ½ä¾¿æ·åœ°å°† LLM ä¸å¤–éƒ¨æ•°æ®ã€å·¥å…·ã€API ç­‰æ•´åˆï¼Œå¿«é€Ÿæ­å»ºä»ç®€å•é—®ç­”æœºå™¨äººåˆ°å¤æ‚æ™ºèƒ½ä»£ç†çš„å„ç±» AI åº”ç”¨ï¼Œç›®å‰å·²æ”¯æŒ Pythonã€JavaScript ç­‰å¤šè¯­è¨€ï¼Œç”Ÿæ€é€‚é…æ€§å¼ºã€‚

2. æ ¸å¿ƒ

   å…¶æ ¸å¿ƒåœ¨äºä¸€å¥—å¯çµæ´»ç»„åˆçš„æ¨¡å—åŒ–ç»„ä»¶ï¼Œå¦‚åŒæ­å»º AI åº”ç”¨çš„ â€œä¹é«˜ç§¯æœ¨â€ï¼Œå…³é”®ç»„ä»¶åŒ…æ‹¬ï¼š

   | ç»„ä»¶    | åŠŸèƒ½è¯´æ˜                                                     |
   | ------- | ------------------------------------------------------------ |
   | Models  | æä¾›æ ‡å‡†åŒ–æ¥å£ï¼Œå¯å¯¹æ¥ OpenAI çš„ GPT ç³»åˆ—ã€Anthropic çš„ Claude ç­‰å„ç±» LLM åŠåµŒå…¥æ¨¡å‹ï¼Œå¼€å‘è€…æ— éœ€ä¿®æ”¹å¤§é‡ä»£ç å°±èƒ½åˆ‡æ¢ä¸åŒæ¨¡å‹ |
   | Prompts | æä¾›æç¤ºè¯æ¨¡æ¿åŒ–ä¸åŠ¨æ€ç”Ÿæˆèƒ½åŠ›ï¼Œèƒ½è®¾è®¡è§„èŒƒçš„æŒ‡ä»¤æ ¼å¼ï¼Œè®©æ¨¡å‹æ¥æ”¶çš„è¾“å…¥æ›´æ¸…æ™°ï¼Œæå‡è¾“å‡ºå‡†ç¡®æ€§ï¼ŒåŒæ—¶æ”¯æŒæç¤ºè¯çš„å¤ç”¨ä¸ç®¡ç† |
   | Chains  | ä½œä¸ºç»„ä»¶ â€œç²˜åˆå‰‚â€ï¼Œå°† Modelsã€Prompts ç­‰ä¸²è”æˆå®Œæ•´å·¥ä½œæµï¼Œæ”¯æŒé¡ºåºæ‰§è¡Œã€æ¡ä»¶åˆ†æ”¯ç­‰é€»è¾‘ï¼Œé€‚é…å¤šæ­¥éª¤ä»»åŠ¡éœ€æ±‚ |
   | Memory  | è´Ÿè´£ç®¡ç†äº¤äº’ä¸Šä¸‹æ–‡ï¼Œæ”¯æŒçŸ­æœŸå’Œé•¿æœŸå¯¹è¯è®°å¿†ï¼Œæ¯”å¦‚å­˜å‚¨å¤šè½®èŠå¤©è®°å½•ï¼Œè®© AI å›å¤æ›´å…·è¿è´¯æ€§ï¼Œæå‡å¯¹è¯ä½“éªŒ |
   | Agents  | èµ‹äºˆåº”ç”¨è‡ªä¸»å†³ç­–èƒ½åŠ›ï¼Œå¯è®© LLM æ ¹æ®ä»»åŠ¡è‡ªä¸»é€‰æ‹©è°ƒç”¨è®¡ç®—å™¨ã€æœç´¢å¼•æ“ç­‰å·¥å…·ï¼Œè§„åˆ’æ‰§è¡Œæ­¥éª¤ï¼Œé€‚é…å¤æ‚å¤šæ­¥ä»»åŠ¡ |
   | Indexes | æä¾›æ–‡æ¡£åŠ è½½ã€æ–‡æœ¬åˆ†å‰²ã€å‘é‡å­˜å‚¨ç­‰èƒ½åŠ›ï¼Œæ”¯æ’‘æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰åœºæ™¯ï¼Œå¸®åŠ© LLM å¯¹æ¥å¤–éƒ¨çŸ¥è¯†åº“ï¼Œçªç ´è‡ªèº«è®­ç»ƒæ•°æ®çš„å±€é™ |

3. ä½œç”¨

   - **é™ä½ AI åº”ç”¨å¼€å‘é—¨æ§›**ï¼šæ¨¡å—åŒ–çš„ç»„ä»¶å¯ç›´æ¥å¤ç”¨ï¼Œæ— éœ€å¼€å‘è€…ä»é›¶æ­å»º LLM è°ƒç”¨ã€ä¸Šä¸‹æ–‡ç®¡ç†ç­‰åŸºç¡€é€»è¾‘ï¼Œå°å›¢é˜Ÿæˆ–é AI ä¸“å®¶ä¹Ÿèƒ½å¿«é€Ÿæ­å»ºåŸå‹ã€‚ä¾‹å¦‚å¿«é€Ÿå¼€å‘ä¼ä¸šç§æœ‰çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿã€‚
   - **æå‡åº”ç”¨çµæ´»æ€§ä¸æ‰©å±•æ€§**ï¼šé€šè¿‡ç»Ÿä¸€æ¥å£å¯¹æ¥å¤šç±»æ¨¡å‹å’Œå¤–éƒ¨å·¥å…·ï¼Œå¼€å‘è€…å¯çµæ´»åˆ‡æ¢æ¨¡å‹ã€æ‰©å±•åŠŸèƒ½ã€‚æ¯”å¦‚ä» OpenAI æ¨¡å‹åˆ‡æ¢ä¸ºå¼€æºçš„ Llama 3ï¼Œæˆ–æ–°å¢æ•°æ®åº“æŸ¥è¯¢åŠŸèƒ½ï¼Œæ— éœ€é‡æ„æ•´ä½“æ¶æ„ã€‚
   - **è§£å†³ LLM åŸç”ŸçŸ­æ¿**ï¼šå€ŸåŠ© Memory ç»„ä»¶å¼¥è¡¥ LLM æ— è®°å¿†çš„é—®é¢˜ï¼Œé€šè¿‡ Indexes ç»„ä»¶ç¼“è§£æ¨¡å‹ â€œçŸ¥è¯†è¿‡æ—¶â€ å’Œ â€œå¹»è§‰â€ é—®é¢˜ï¼Œè®© AI åº”ç”¨æ›´è´´åˆå®é™…ä½¿ç”¨éœ€æ±‚ã€‚
   - **é€‚é…å¤šåœºæ™¯è½åœ°**ï¼šè¦†ç›–å¤šç§å®ç”¨åœºæ™¯ï¼Œæ¯”å¦‚æ„å»ºç½‘é¡µç«¯æµå¼é—®ç­”æœºå™¨äººã€è‡ªåŠ¨åŒ–åŠå…¬åŠ©æ‰‹ã€æ³•å¾‹ / è´¢æŠ¥ç­‰é•¿æ–‡æ¡£åˆ†æå·¥å…·ï¼Œä»¥åŠè‡ªä¸»è§„åˆ’è¡Œç¨‹çš„æ™ºèƒ½ä»£ç†ç­‰ã€‚


# é»‘è¯

## æ•°æ®ç›‘æ§

**PV**ï¼šé¡µé¢æµè§ˆé‡ï¼Œé¡µé¢åŠ è½½å®Œæˆå³ç»Ÿè®¡ï¼ˆé¡µé¢åŠ è½½å®Œæˆåå°±å‘è¯·æ±‚ï¼Œwindow.onloadï¼‰
**UV**ï¼šç‹¬ç«‹è®¿å®¢æ•°ï¼Œé€šè¿‡Cookie UUIDå»é‡ï¼ˆUUIDå­˜åˆ°cookieé‡Œï¼Œä¹‹åæ¯æ¬¡è®¿é—®éƒ½å¸¦ç€æ ‡è¯†è¯·æ±‚åç«¯ï¼Œåç«¯åšå»é‡ï¼‰

## TP99ã€TP999

**TP99**ï¼š99% çš„è¯·æ±‚å“åº”æ—¶é—´éƒ½ä½äºæ­¤å€¼

**TP999**ï¼š99.9% çš„è¯·æ±‚å“åº”æ—¶é—´éƒ½ä½äºæ­¤å€¼

## CI/CD æ ¸å¿ƒæ¦‚è¦ç¬”è®°

**å®šä¹‰**
CIï¼ˆContinuous Integrationï¼ŒæŒç»­é›†æˆï¼‰ + CDï¼ˆContinuous Deliveryï¼ŒæŒç»­äº¤ä»˜ / Continuous Deploymentï¼ŒæŒç»­éƒ¨ç½²ï¼‰

- **CIï¼ˆæŒç»­é›†æˆï¼‰**ï¼šå¼€å‘è€…é¢‘ç¹å°†ä»£ç æäº¤åˆ°å…±äº«åˆ†æ”¯ï¼Œé€šè¿‡å·¥å…·è‡ªåŠ¨æ‰§è¡Œç¼–è¯‘ã€æµ‹è¯•ã€ä»£ç æ£€æŸ¥ï¼ŒéªŒè¯ä»£ç å¯ç”¨æ€§çš„è‡ªåŠ¨åŒ–æµç¨‹
- **CDï¼ˆæŒç»­äº¤ä»˜ / æŒç»­éƒ¨ç½²ï¼‰**ï¼š
  - æŒç»­äº¤ä»˜ï¼šCI é€šè¿‡åï¼Œè‡ªåŠ¨éƒ¨ç½²åˆ°é¢„å‘å¸ƒç¯å¢ƒï¼Œéœ€äººå·¥å®¡æ‰¹ä¸Šçº¿
  - æŒç»­éƒ¨ç½²ï¼šé¢„å‘å¸ƒéªŒè¯é€šè¿‡åï¼Œè‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œæ— éœ€äººå·¥å¹²é¢„

æ˜¯ä¸€å¥—**è‡ªåŠ¨åŒ–è½¯ä»¶å¼€å‘æµç¨‹ä½“ç³»**ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡ â€œé¢‘ç¹é›†æˆã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€è‡ªåŠ¨åŒ–éƒ¨ç½²â€ï¼Œè§£å†³å¼€å‘åä½œæ•ˆç‡ä½ã€ä¸Šçº¿é£é™©é«˜çš„é—®é¢˜

**ä½œç”¨**

- **CI**ï¼šå¿«é€Ÿå‘ç°ä»£ç å†²çªã€bugï¼Œç¡®ä¿åˆ†æ”¯ä»£ç å¯è¿è¡Œï¼Œé™ä½åä½œæˆæœ¬
- **CD**ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ï¼Œç¼©çŸ­ä»å¼€å‘åˆ°ä¸Šçº¿çš„å‘¨æœŸï¼Œä¿éšœä¸Šçº¿è´¨é‡ç¨³å®šï¼Œå‡å°‘äººå·¥æ“ä½œä¸é£é™©

## ERP

**ERP** å…¨ç§° **Enterprise Resource Planning**ï¼Œå³**ä¼ä¸šèµ„æºè®¡åˆ’**ï¼Œæ˜¯ä¸€å¥—**é›†æˆåŒ–çš„ä¼ä¸šç®¡ç†è½¯ä»¶ç³»ç»Ÿ**ã€‚

æ ¸å¿ƒæ˜¯æŠŠä¼ä¸šçš„ **äººã€è´¢ã€ç‰©ã€äº§ã€ä¾›ã€é”€** ç­‰æ ¸å¿ƒèµ„æºå’Œä¸šåŠ¡æµç¨‹æ•´åˆåœ¨ä¸€ä¸ªå¹³å°ä¸Šï¼Œå®ç°æ•°æ®å…±äº«ã€æµç¨‹è‡ªåŠ¨åŒ–ï¼Œå¸®åŠ©ä¼ä¸šé«˜æ•ˆç®¡ç†ã€‚

**ç®¡ç†æ¨¡å—**

1. **ä¾›åº”é“¾ç®¡ç†**ï¼šé‡‡è´­ã€åº“å­˜ã€é”€å”®ã€ç‰©æµï¼ˆæ¯”å¦‚è·Ÿè¸ªåŸææ–™é‡‡è´­â†’å…¥åº“â†’ç”Ÿäº§é¢†ç”¨â†’æˆå“å‡ºåº“ï¼‰ï¼›
2. **ç”Ÿäº§ç®¡ç†**ï¼šç”Ÿäº§è®¡åˆ’ã€å·¥å•æ’ç¨‹ã€å·¥è‰ºç®¡ç†ã€è´¨é‡ç®¡æ§ï¼ˆæ¯”å¦‚æŒ‰è®¢å•è‡ªåŠ¨ç”Ÿæˆç”Ÿäº§è®¡åˆ’ï¼‰ï¼›
3. **è´¢åŠ¡ç®¡ç†**ï¼šæ€»è´¦ã€åº”æ”¶åº”ä»˜ã€æˆæœ¬æ ¸ç®—ã€æŠ¥è¡¨ï¼ˆè‡ªåŠ¨åŒæ­¥ä¸šåŠ¡æ•°æ®ç”Ÿæˆè´¢åŠ¡å‡­è¯ï¼Œé¿å…é‡å¤å½•å…¥ï¼‰ï¼›
4. **äººåŠ›èµ„æºç®¡ç†**ï¼šäººäº‹æ¡£æ¡ˆã€è€ƒå‹¤ã€è–ªèµ„ã€ç»©æ•ˆï¼ˆéƒ¨åˆ† ERP å«æ­¤æ¨¡å—ï¼Œæˆ–å¯¹æ¥ä¸“ä¸š HR ç³»ç»Ÿï¼‰ï¼›
5. **å®¢æˆ·å…³ç³»ç®¡ç†ï¼ˆCRMï¼‰**ï¼šå®¢æˆ·æ¡£æ¡ˆã€å•†æœºè·Ÿè¸ªã€åˆåŒç®¡ç†ï¼ˆéƒ¨åˆ† ERP é›†æˆï¼Œæˆ–ç‹¬ç«‹éƒ¨ç½²ï¼‰ã€‚

**ä»·å€¼**

1. **æ•°æ®ç»Ÿä¸€**ï¼šæ‰“ç ´éƒ¨é—¨ä¿¡æ¯å­¤å²›ï¼Œæ¯”å¦‚é”€å”®è®¢å•æäº¤åï¼Œç”Ÿäº§ã€åº“å­˜ã€è´¢åŠ¡éƒ¨é—¨å¯å®æ—¶çœ‹åˆ°æ•°æ®ï¼›
2. **æµç¨‹ææ•ˆ**ï¼šæ›¿ä»£äººå·¥å°è´¦å’Œé‡å¤å½•å…¥ï¼Œæ¯”å¦‚é‡‡è´­å…¥åº“åï¼Œåº“å­˜è‡ªåŠ¨å¢åŠ ï¼Œè´¢åŠ¡è‡ªåŠ¨ç”Ÿæˆåº”ä»˜è´¦æ¬¾ï¼›
3. **è¾…åŠ©å†³ç­–**ï¼šé€šè¿‡æŠ¥è¡¨åˆ†æä¼ä¸šç»è¥çŠ¶å†µï¼ˆæ¯”å¦‚åº“å­˜å‘¨è½¬ç‡ã€ç”Ÿäº§æˆæœ¬ã€é”€å”®åˆ©æ¶¦ï¼‰ï¼Œå¸®åŠ©ç®¡ç†è€…åšå†³ç­–ã€‚

**æ€»ç»“**

ERP å°±æ˜¯ä¼ä¸šçš„ **â€œæ•°å­—åŒ–ç®¡ç†ä¸­æ¢â€**ï¼ŒæŠŠä¼ä¸šæ‰€æœ‰æ ¸å¿ƒä¸šåŠ¡è£…åˆ°ä¸€ä¸ªè½¯ä»¶é‡Œï¼Œè®©ç®¡ç†æ›´é«˜æ•ˆã€æ•°æ®æ›´é€æ˜ã€‚

# æ‰‹å†™é¢˜

## æŸ¯é‡ŒåŒ–
```javascript
function curry(fn) {
  return function curried(...args) {
    if (args.length >= fn.length) {
      return fn.apply(this, args);
    } else {
      return function(...args2) {
        return curried.apply(this, args.concat(args2));
      }
    }
  };
}
```

## æ•°ç»„æ‰å¹³åŒ–

```javascript
// æ–¹æ³•1: flat
function flatten(arr) {
  return arr.flat(Infinity);
}

// æ–¹æ³•2: reduceé€’å½’
function flatten(arr) {
  return arr.reduce((a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), []);
}

// æ–¹æ³•3: toString + map
function flatten(arr) {
  return arr.toString().split(',').map(Number);
}

// æ–¹æ³•4: while + concat
function flatten(arr) {
  while (arr.some(Array.isArray)) {
    arr = [].concat(...arr);
  }
  return arr;
}
```

## å‘å¸ƒè®¢é˜…

```javascript
class PubSub {
  constructor() {
    this.events = {
      'API:UN_AUTH': new Set(),
    };
  }

  subscribe(eventName, callback) {
    this.events[eventName].add(callback);
  }
  
  publish(eventName, ...args) {
    this.events[eventName].forEach(callback => {
      callback(...args);
    });
  }
  
  unsubscribe(event, callback) {
    this.events[event].delete(callback);
  }
}
```

## é˜²æŠ–èŠ‚æµ

### ä¼˜åŒ–

- è€ƒè™‘è¾¹ç•Œæƒ…å†µï¼Œæ·»åŠ å–æ¶ˆåŠŸèƒ½
- è€ƒè™‘ç»„ä»¶å¸è½½æ—¶æ¸…é™¤æœªæ‰§è¡Œå®šæ—¶å™¨ï¼Œé¿å…å†…å­˜æ³„æ¼
- æ€§èƒ½å’Œä½“éªŒå¹³è¡¡ï¼šæ“ä½œè¶…è¿‡300mså¼ºåˆ¶æ‰§è¡Œä¸€æ¬¡å›æ‰ï¼Œé¿å…ç”¨æˆ·è§‰å¾—å»¶è¿Ÿ

```javascript
// é˜²æŠ–
function debounce(fn, delay) {
  let timer;
  return function() {
    clearTimeout(timer);
    timer = setTimeout(() => fn.apply(this, arguments), delay);
  };
}

// èŠ‚æµ
function throttle(fn, delay) {
  let timer;
  return function() {
    if (!timer) {
      timer = setTimeout(() => {
        fn.apply(this, arguments);
        timer = null;
      }, delay);
    }
  };
}
```



## PostMessageå¼‚æ­¥å°è£…

```javascript
function postMessageAsync(data, targetOrigin = '*', timeout = 5000) {
  return new Promise((resolve, reject) => {
    const timer = setTimeout(() => reject('timeout'), timeout);
    
    const handler = (event) => {
      if (event.source !== window) return;
      clearTimeout(timer);
      window.removeEventListener('message', handler);
      resolve(event.data);
    };
    
    window.addEventListener('message', handler);
    window.postMessage(data, targetOrigin);
  });
}

// ä½¿ç”¨
postMessageAsync('hello')
  .then(response => console.log(response))
  .catch(error => console.error(error));
```

## å¼‚æ­¥é˜Ÿåˆ—

```javascript
class AsyncQueue {
  constructor() {
    this.tasks = [];
    this.running = false;
  }

  add(task) {
    this.tasks.push(task);
    if (!this.running) this.run();
  }

  async run() {
    this.running = true;
    while (this.tasks.length > 0) {
      const task = this.tasks.shift();
      await task();
    }
    this.running = false;
  }
}
```


# åœºæ™¯é¢˜

## åœ°å›¾æ€§èƒ½ä¼˜åŒ–

- å‡å°‘åŒæ—¶æ¸²æŸ“çš„POIæ•°é‡
- ç›¸è¿‘æ ‡è®°åˆå¹¶ï¼Œæ”¾å¤§åå±•å¼€
- ç“¦ç‰‡é¢„åŠ è½½å’Œç¼“å­˜
- æŒ‰ä¼˜å…ˆçº§æ’åºåŠ è½½
- é˜²æŠ–èŠ‚æµå‡å°‘é‡æ’é‡ç»˜

## ç™½å±é—®é¢˜

#### ä¸€ã€ç™½å±åŸå› 

ç™½å±æœ¬è´¨æ˜¯ã€Œé¡µé¢å…³é”®èµ„æºåŠ è½½å¤±è´¥ / æ‰§è¡Œå¼‚å¸¸ã€æˆ–ã€Œæ¸²æŸ“æµç¨‹ä¸­æ–­ã€ï¼Œå¸¸è§è§¦å‘åœºæ™¯ï¼š

- æ ¸å¿ƒ JS/CSS åŠ è½½å¤±è´¥ï¼ˆç½‘ç»œé”™è¯¯ã€èµ„æºä¸¢å¤±ï¼‰
- ä»£ç æ‰§è¡ŒæŠ¥é”™ï¼ˆè¯­æ³•é”™è¯¯ã€æœªæ•è·å¼‚å¸¸ï¼‰
- æ¸²æŸ“é˜»å¡ï¼ˆJS/CSS é˜»å¡ DOM è§£æã€é•¿ä»»åŠ¡é˜»å¡ä¸»çº¿ç¨‹ï¼‰
- æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰å¤±è´¥æˆ–å®¢æˆ·ç«¯æ¿€æ´»ï¼ˆhydrationï¼‰å¼‚å¸¸

#### äºŒã€é¢„é˜²ç™½å±

1. èµ„æºåŠ è½½ä¿éšœ

- æ ¸å¿ƒé€»è¾‘ï¼šç¡®ä¿å…³é”®èµ„æºï¼ˆHTMLã€æ ¸å¿ƒ JS/CSSï¼‰èƒ½ç¨³å®šåŠ è½½å¹¶ä¼˜å…ˆæ‰§è¡Œã€‚

- å…·ä½“æªæ–½ï¼š

  - å¯¹æ ¸å¿ƒ CSS ä½¿ç”¨`<link rel="preload">`é¢„åŠ è½½ï¼Œé¿å…æ¸²æŸ“é˜»å¡
  - é™æ€èµ„æºéƒ¨ç½² CDNï¼Œé…ç½®å¤šåŒºåŸŸèŠ‚ç‚¹ï¼Œé™ä½ç½‘ç»œæ•…éšœå½±å“
  - å®ç°èµ„æºåŠ è½½å¤±è´¥é‡è¯•æœºåˆ¶ï¼ˆå¦‚é€šè¿‡åŠ¨æ€åˆ›å»º`<script>`æ ‡ç­¾é‡æ–°åŠ è½½ JSï¼‰
  - ä¸º JS/CSS æ·»åŠ å®Œæ•´æ€§æ ¡éªŒï¼ˆ`integrity`å±æ€§ï¼‰ï¼Œé˜²æ­¢èµ„æºè¢«ç¯¡æ”¹å¯¼è‡´åŠ è½½å¤±è´¥
  - åˆç†è®¾ç½®ç¼“å­˜ç­–ç•¥ï¼ˆå¼ºç¼“å­˜ + åå•†ç¼“å­˜ï¼‰ï¼Œå‡å°‘é‡å¤åŠ è½½ï¼ŒåŒæ—¶é¿å…æ—§ç¼“å­˜å¼•å‘çš„å…¼å®¹é—®é¢˜

2. ä»£ç å¥å£®æ€§æå‡

- æ ¸å¿ƒé€»è¾‘ï¼šå‡å°‘ä»£ç æ‰§è¡Œå¼‚å¸¸ï¼Œé¿å…å•ä¸€é”™è¯¯å¯¼è‡´æ•´ä½“æ¸²æŸ“ä¸­æ–­

- å…·ä½“æªæ–½ï¼š

  - å…¨å±€æ•è·å¼‚å¸¸ï¼ˆ`window.onerror`ã€`window.addEventListener('unhandledrejection')`ï¼‰ï¼Œå¯¹å…³é”®æµç¨‹åŒ…è£¹`try/catch`ï¼›
  - ç¬¬ä¸‰æ–¹åº“ / ç»„ä»¶å•ç‹¬éš”ç¦»åŠ è½½ï¼Œé¿å…å…¶æŠ¥é”™å½±å“ä¸»åº”ç”¨
  - ä½¿ç”¨ TypeScript å¢å¼ºç±»å‹æ ¡éªŒï¼Œå‡å°‘è¿è¡Œæ—¶ç±»å‹é”™è¯¯
  - é¿å…åœ¨é¦–å±æ¸²æŸ“å…³é”®è·¯å¾„ä¸­å†™å¤æ‚é€»è¾‘ï¼ˆå¦‚å¤§é‡è®¡ç®—ã€åŒæ­¥è¯·æ±‚ï¼‰ï¼Œé˜²æ­¢ä¸»çº¿ç¨‹é˜»å¡
  - å¯¹ DOM æ“ä½œåšå…¼å®¹æ€§å¤„ç†ï¼ˆå¦‚ä½¿ç”¨`classList`æ›¿ä»£ç›´æ¥æ“ä½œ`className`ï¼Œé¿å…ä½ç‰ˆæœ¬æµè§ˆå™¨æŠ¥é”™ï¼‰

3. æ¸²æŸ“æµç¨‹ä¼˜åŒ–

- æ ¸å¿ƒé€»è¾‘ï¼šç¡®ä¿ DOM èƒ½å¿«é€Ÿè§£æå¹¶æ¸²æŸ“ï¼Œå‡å°‘ç©ºç™½ç­‰å¾…æ—¶é—´

- å…·ä½“æªæ–½ï¼š

  - ç²¾ç®€ HTML ç»“æ„ï¼Œé¿å…é¦–å±åŒ…å«å¤§é‡å†—ä½™èŠ‚ç‚¹
  - æ‹†åˆ† CSS ä¸ºã€Œé¦–å± Critical CSSã€å’Œã€Œéé¦–å±å¼‚æ­¥ CSSã€ï¼Œé¦–å± CSS å†…è”åˆ° HTMLï¼Œå‡å°‘è¯·æ±‚æ¬¡æ•°
  - å»¶è¿ŸåŠ è½½éé¦–å± JSï¼ˆ`async`/`defer`å±æ€§ï¼‰ï¼Œé¿å…é˜»å¡ DOM è§£æ
  - å®ç°éª¨æ¶å±ï¼ˆSkeleton Screenï¼‰æˆ–åŠ è½½å ä½ç¬¦ï¼Œåœ¨å†…å®¹åŠ è½½å®Œæˆå‰å±•ç¤ºåŸºç¡€ç»“æ„ï¼Œå‡å°‘ â€œç™½å±æ„ŸçŸ¥â€
  - å¯¹å¤§å‹åˆ—è¡¨ / å¤æ‚ç»„ä»¶é‡‡ç”¨è™šæ‹Ÿæ»šåŠ¨ï¼ˆVirtual Listï¼‰ï¼Œé¿å…ä¸€æ¬¡æ€§æ¸²æŸ“è¿‡å¤šå…ƒç´ å¯¼è‡´çš„å¡é¡¿

4. ç¯å¢ƒå…¼å®¹ä¸é™çº§å¤„ç†

- æ ¸å¿ƒé€»è¾‘ï¼šé’ˆå¯¹ä¸åŒæµè§ˆå™¨ / è®¾å¤‡ç‰¹æ€§ï¼Œæä¾›å…¼å®¹æ–¹æ¡ˆæˆ–ä¼˜é›…é™çº§

- å…·ä½“æªæ–½ï¼š

  - ä½¿ç”¨`@babel/preset-env`é…åˆ`core-js`åš JS è¯­æ³•é™çº§ï¼Œç¡®ä¿ä½ç‰ˆæœ¬æµè§ˆå™¨å¯æ‰§è¡Œ
  - é€šè¿‡ CSS å‰ç¼€å·¥å…·ï¼ˆAutoprefixerï¼‰å¤„ç†æ ·å¼å…¼å®¹ï¼Œé¿å…å›  CSS å±æ€§ä¸æ”¯æŒå¯¼è‡´æ¸²æŸ“å¼‚å¸¸
  - æ£€æµ‹æµè§ˆå™¨ç‰¹æ€§ï¼ˆå¦‚`window.IntersectionObserver`ï¼‰ï¼Œä¸æ”¯æŒæ—¶æä¾› polyfill æˆ–é™çº§å®ç°
  - å¯¹å¼±ç½‘ / ç¦»çº¿åœºæ™¯ï¼Œç»“åˆ Service Worker å®ç°ç¼“å­˜ç­–ç•¥ï¼Œä¼˜å…ˆå±•ç¤ºç¼“å­˜å†…å®¹

5. ç›‘æ§ä¸åº”æ€¥å…œåº•

- æ ¸å¿ƒé€»è¾‘ï¼šåŠæ—¶å‘ç°ç™½å±é—®é¢˜ï¼Œå¹¶é€šè¿‡å…œåº•æ–¹æ¡ˆå‡å°‘ç”¨æˆ·å½±å“

- å…·ä½“æªæ–½ï¼š

  - æ¥å…¥å‰ç«¯ç›‘æ§å·¥å…·ï¼ˆå¦‚ Sentryã€Fundebugï¼‰ï¼Œç›‘æ§ã€Œé¦–å±åŠ è½½æ—¶é—´è¶…æ—¶ã€ã€ŒJS é”™è¯¯ç‡çªå¢ã€ç­‰ç™½å±å‰å…†
  - å®ç°ç™½å±æ£€æµ‹æœºåˆ¶ï¼ˆå¦‚å®šæ—¶æ£€æŸ¥`document.body`æ˜¯å¦æœ‰å†…å®¹ï¼Œæ— å†…å®¹åˆ™è§¦å‘å…œåº•ï¼‰
  - é¢„è®¾å›æ»šæ–¹æ¡ˆï¼šè‹¥æ£€æµ‹åˆ°ç™½å±ï¼ŒåŠ¨æ€åŠ è½½ä¸Šä¸€ç¨³å®šç‰ˆæœ¬çš„ JS/CSSï¼Œæˆ–è·³è½¬åˆ°é™æ€é™çº§é¡µé¢
  - å¯¹ SSR åº”ç”¨ï¼Œè®¾ç½®å®¢æˆ·ç«¯æ¿€æ´»å¤±è´¥çš„é™çº§ç­–ç•¥ï¼ˆå¦‚æ”¾å¼ƒ hydrationï¼Œç›´æ¥ä½¿ç”¨é™æ€ HTMLï¼‰

#### ä¸‰ã€æ ¸å¿ƒåŸåˆ™æ€»ç»“

- **é¢„é˜²ä¼˜å…ˆ**ï¼šé€šè¿‡èµ„æºä¼˜åŒ–ã€ä»£ç å¥å£®æ€§æå‡ä»æºå¤´å‡å°‘ç™½å±å¯èƒ½ï¼›
- **æ„ŸçŸ¥å¼±åŒ–**ï¼šå³ä½¿åŠ è½½ç¼“æ…¢ï¼Œä¹Ÿé€šè¿‡éª¨æ¶å±ç­‰æ–¹å¼è®©ç”¨æˆ·æ„ŸçŸ¥ â€œé¡µé¢åœ¨åŠ è½½â€ï¼›
- **æ•…éšœå…œåº•**ï¼šå»ºç«‹ç›‘æ§ - æ£€æµ‹ - å›æ»šçš„é—­ç¯ï¼Œç¡®ä¿ç™½å±å‘ç”Ÿæ—¶èƒ½å¿«é€Ÿå“åº”ï¼›
- **å…¨é“¾è·¯è¦†ç›–**ï¼šå…¼é¡¾å¼€å‘ï¼ˆç¼–ç è§„èŒƒï¼‰ã€æ„å»ºï¼ˆèµ„æºä¼˜åŒ–ï¼‰ã€éƒ¨ç½²ï¼ˆç¼“å­˜ç­–ç•¥ï¼‰ã€ç›‘æ§ï¼ˆå¼‚å¸¸æŠ¥è­¦ï¼‰å„ç¯èŠ‚ã€‚

# é¢è¯•æŠ€å·§

## STARåŸåˆ™

- Situationæƒ…æ™¯ â€”â€” é¢ä¸´é—®é¢˜çš„èƒŒæ™¯

- Targetç›®æ ‡ â€”â€” éœ€è¦å®ç°çš„ç›®æ ‡`å…³é”®ï¼šä¸ºä»€ä¹ˆè¦åšè¿™ä»¶äº‹æƒ…ï¼ŒèƒŒåçš„ä»·å€¼`

- Actionè¡ŒåŠ¨ â€”â€” åšäº†ä»€ä¹ˆå†…å®¹`å¼ºè°ƒéš¾ç‚¹ï¼Œè‡ªèº«åšçš„çªå‡ºçš„éƒ¨åˆ†`

- Resultç»“æœ â€”â€” å–å¾—ä»€ä¹ˆæ•ˆæœ`ä½“ç°æœ€ç»ˆç»“æœå¸¦æ¥çš„ä»·å€¼`

- ä¸¾ä¾‹ï¼šSè¿ç»´åŒäº‹å¤§é‡æ—¶é—´æµªè´¹åœ¨å®£å‘æµ·æŠ¥ä¸Šï¼ŒT AI + è„šæœ¬æ‰¹é‡ç”Ÿäº§ï¼ˆè§£æ”¾äººåŠ›ï¼‰ï¼ŒA é€šè¿‡Nodeå†™äº†ä¸€ä¸ªå¾®æœåŠ¡ï¼Œè°ƒç ”é€‰æ‹©é€šè¿‡æ— å¤´æµè§ˆå™¨ â• Djangoæ¨¡ç‰ˆçš„æ–¹å¼è¾“å‡ºå›¾ç‰‡ï¼Œå’Œ AI åç«¯çš„åŒäº‹åè°ƒï¼Œæœ€ç»ˆè·‘å‡ºå®Œæ•´çš„æµç¨‹ï¼Œ R äº§å“åªéœ€è¦éªŒæ”¶

## OKRç®¡ç†

- Objectivesï¼šç›®æ ‡
- Key Resultï¼šå…³é”®ç»“æœ
- å‘¨æœŸä¸ä½äº3ä¸ªæœˆï¼Œå…³é”®ç»“æœä¸è¶…è¿‡5ä¸ª
- ä½äº0.3ï¼šç›®æ ‡å¤ªé«˜ or äººå‘˜èƒ½åŠ›ä¸è¶³
- æ»¡åˆ†ï¼šç›®æ ‡å¤ªä½ï¼Œè‡ªæˆ‘è®¾é™å¤ªå¤š
- OKRçš„å…³é”®åœ¨äºèŒå‘˜çŸ¥é“é¢†å¯¼åœ¨æƒ³ä»€ä¹ˆï¼Œè®©é¢†å¯¼çŸ¥é“èŒå‘˜è¿›åº¦
- é€æ˜å…¬å¼€ï¼Œé¼“åŠ±æ²Ÿé€šï¼Œéšæ—¶è·Ÿè¿›
- ç›®æ ‡è¦ç²¾å‡†ï¼Œä¸è¦æŠŠä»»åŠ¡å½“ä½œç»“æœï¼Œæœ€ç»ˆæ˜¯ä¸€ç§ç»“æœçš„ç›®æ ‡å¯¼å‘

## é—®é¢˜è§£å†³æ€è·¯

1. åˆ†æé—®é¢˜ï¼Œæ‰¾åˆ°å¼€ç«¯
2. æ‰§è¡Œï¼Œé€‰æ‹©æ–¹æ¡ˆï¼ˆdemoï¼‰
3. è¯·æ±‚èµ„æºï¼ŒåŠæˆè¿™ä»¶äº‹

## æŠ€æœ¯æ·±åº¦å±•ç¤º

**é¡¹ç›®éš¾ç‚¹çªç ´**

- è¯†åˆ«æŠ€æœ¯ç“¶é¢ˆå’Œæ€§èƒ½é—®é¢˜
- è°ƒç ”å¤šç§è§£å†³æ–¹æ¡ˆå’Œæƒè¡¡
- å®æ–½ä¼˜åŒ–å¹¶éªŒè¯æ•ˆæœ
- æ€»ç»“ç»éªŒå’Œæœ€ä½³å®è·µ

**æ¶æ„è®¾è®¡èƒ½åŠ›**

- ç³»ç»Ÿæ¨¡å—åˆ’åˆ†å’ŒèŒè´£åˆ†ç¦»
- æ¥å£è®¾è®¡å’Œæ•°æ®æµç®¡ç†
- æ‰©å±•æ€§å’Œç»´æŠ¤æ€§è€ƒè™‘
- æ€§èƒ½å’Œå®‰å…¨ä¿éšœæªæ–½

## æ²Ÿé€šè¡¨è¾¾èƒ½åŠ›

**æŠ€æœ¯æ–¹æ¡ˆé˜è¿°**

- å…ˆæ€»ååˆ†çš„é€»è¾‘ç»“æ„
- å…³é”®æŠ€æœ¯å’Œåˆ›æ–°ç‚¹çªå‡º
- æ•°æ®æ”¯æ’‘å’Œæ•ˆæœéªŒè¯
- é‡åˆ°çš„æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ

**å›¢é˜Ÿåä½œä½“ç°**

- è·¨éƒ¨é—¨åè°ƒæ²Ÿé€šç»éªŒ
- æŠ€æœ¯åˆ†äº«å’ŒçŸ¥è¯†ä¼ é€’
- ä»£ç è§„èŒƒå’Œè´¨é‡ä¿éšœ
- é¡¹ç›®ç®¡ç†å’Œè¿›åº¦æ§åˆ¶

# è‹±æ–‡å·¥ä½œèƒ½åŠ›

## è‡ªæˆ‘ä»‹ç»

Hello, my name is Jove. I'm a software development engineer. I'm very glad to interview here and I'm looking forward to working with everyone. Thank you!


# HR

## èŒä¸šè§„åˆ’

**çŸ­æœŸç›®æ ‡**ï¼ˆ1ï½2æœˆï¼‰

- å¿«é€Ÿèå…¥å›¢é˜Ÿ
- ç†Ÿæ‚‰æŠ€æœ¯æ ˆä¸å¼€å‘æµç¨‹
- æ‰¿æ¥å¼€å‘ä»»åŠ¡ã€è§£å†³é—®é¢˜

**ä¸­æœŸç›®æ ‡**ï¼ˆ1å¹´ï¼‰

- æ‹¥æŠ± AI æŠ€æœ¯ï¼Œæ¢ç´¢ AI åœ¨å¼€å‘ / ä¸šåŠ¡ä¸­çš„è½åœ°
- æˆé•¿ä¸ºæŠ€æœ¯éª¨å¹²ï¼Œå…·å¤‡æŠ€æœ¯æ”»åšèƒ½åŠ›
- å…³æ³¨å‰æ²¿æŠ€æœ¯ï¼Œæ¨åŠ¨å›¢é˜Ÿææ•ˆ

**é•¿æœŸç›®æ ‡**ï¼ˆ3å¹´å†…ï¼‰

- å¸¦é¢†å›¢é˜Ÿå¼€å±•æŠ€æœ¯æ”»åšä¸é¡¹ç›®è½åœ°
- æŠ€æœ¯èµ‹èƒ½ä¸šåŠ¡ï¼Œåˆ›é€ ä¸šåŠ¡ä»·å€¼
- æ¨ªå‘æ‹“å±•èƒ½åŠ›ï¼Œå‘æŠ€æœ¯ç®¡ç† / å…¨é“¾è·¯æ–¹å‘å‘å±•

## ä¸ªäººå±•ç°

ä¸æ»¡è¶³ç°çŠ¶ + ä¸»åŠ¨æ€è€ƒ + æ³¨å®šè¡ŒåŠ¨ + è§£å†³ç—›ç‚¹ï¼ˆç»“æœå’Œè½åœ°èƒ½åŠ›ï¼‰

1. ä¸å…‰æå‡ä¸ªäººï¼Œè¿˜èƒ½æå‡å›¢é˜Ÿï¼ï¼ˆä¸¾ä¾‹ï¼‰
2. é€éœ²å‡ºæˆ‘æƒ³è¦å˜å¼º

## åä½œæ—¶é‡åˆ°çš„æ²Ÿé€šæ–¹é¢çš„å›°éš¾ï¼Œå¦‚ä½•è§£å†³åŒæ–¹çš„ä¸ä¸€è‡´ä¸å†²çª

å¾ˆå¤šæ—¶å€™å¤§å®¶çš„è®¨è®ºæ˜¯æ¯”è¾ƒå‘æ•£çš„ï¼Œä»é—®é¢˜æœ¬èº«å»¶ä¼¸åˆ°éœ€æ±‚è®¾è®¡ç­‰ç­‰
è¿™é‡Œæˆ‘æ¯”è¾ƒæ¨å´‡å½±è§†é£“é£çš„å¼€ä¼šç†å¿µï¼Œè§„å®šå¥½ä¼šè®®éœ€è¦è¾¾æˆå“ªäº›å…±è¯†ï¼Œéœ€è¦å“ªäº›äººåä½œï¼Œå¤§å®¶æœ‰å“ªäº›é—®é¢˜æˆ–è€…å›°éš¾éƒ½å…ˆæå‰å†™å¥½ã€‚åœ¨å¯¹è¿™ä¸€åˆ‡æ¯ä¸ªäººéƒ½æ¢³ç†è¿‡åï¼Œå¤§å®¶å¼€ä¼šå¿«é€Ÿçš„å¯¹å…¶ï¼Œé¿å…æ— æ„ä¹‰çš„å‘æ•£ã€‚ç›®æ ‡æ„Ÿä¸æ˜¯å¾ˆæ˜ç¡®ï¼Œå¼€ä¼šå°±ä¼šå˜å¾—å†—é•¿æ•ˆæœå·®ã€‚

## ä¸Šçº§ä¸ºä½ å¸ƒç½®äº†ä½ å®Œå…¨ä¸æ„Ÿå…´è¶£æˆ–è€…ä¸æƒ³åšçš„ä»»åŠ¡çš„æƒ…å†µä½ è¯¥å¦‚ä½•å¤„ç†

é¦–å…ˆå·¥ä½œä¸­ï¼Œæ„Ÿä¸æ„Ÿå…´è¶£ä¸æ˜¯é¦–è¦æ ‡å‡†ï¼Œæœ‰æ²¡æœ‰ä»·å€¼æ‰æ˜¯
å¦å¤–ä¸æƒ³åšçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿä¸ªäººç†è§£æ˜¯æ— æ•ˆå·¥ä½œï¼Ÿè¿˜æ˜¯é‡å¤æ€§åŠ³åŠ¨ã€‚é¦–å…ˆå¦‚ä½•ä¸ªäººè§‰å¾—æ–¹å‘é”™è¯¯ï¼Œé‚£å°±åº”è¯¥åŠæ—¶å’Œé¢†å¯¼æ²Ÿé€šï¼Œé˜è¿°è‡ªå·±çš„æ€è€ƒä¸æ‹…å¿§ï¼ŒæŠŠä»»åŠ¡äº†è§£æ¸…æ¥šï¼Œæ˜¯ä¸æ˜¯æœ‰ä¸€äº›è¯¯è§£ã€‚å¦‚æœæ˜¯é‡å¤æ€§åŠ³åŠ¨ï¼Œä½œä¸ºä¸€é¢å¼€å‘è¿™ï¼Œå¦‚ä½•é€šè¿‡è„šæœ¬ï¼Œå¿«é€Ÿæˆ–è€…ææ•ˆçš„æ–¹å¼å»è§£å†³

## ç»¼åˆçœ‹ä½ çš„èƒ½åŠ›è¿˜è¾¾ä¸åˆ°è¦æ±‚

è¿™å‡ å¤©ä¹Ÿå¤ç›˜äº†å‰å‡ è½®é¢è¯•è‡ªå·±ç­”çš„è¿˜ä¸å¤Ÿçš„ä¸€äº›é—®é¢˜ï¼Œè‡ªå·±ä¹Ÿæ•´ç†å‡ºæ¥åšäº†ä¸€äº›å¤ä¹ ï¼Œä»Šåçš„å­¦ä¹ å’Œå·¥ä½œä¹Ÿä¼šæ›´åŠ å¼ºè¿™æ–¹é¢çš„è¡¥å……ï¼Œå½“ç„¶ä¹Ÿå¸Œæœ›æ‚¨èƒ½æŒ‡ç‚¹ä¸€ä¸‹ï¼Œç›¸ä¿¡æœªæ¥æˆ‘ä»¬è¿˜æœ‰åˆä½œçš„æœºä¼šã€‚ï¼ˆä¸è¦å±•ç°å‡ºå¯æƒœä¸æ‚²ä¼¤ï¼‰

## æ‹–æ—¶é—´

æ„Ÿè°¢æ‚¨çš„è‚¯å®šï¼Œå› ä¸ºç›®å‰è¿˜æœ‰ä¸€äº›æœºä¼šåœ¨èµ°æµç¨‹ï¼Œæƒ³é—®ä¸€ä¸‹è¿™ä¸ªofferæœ€æ™šä»€ä¹ˆæ—¶å€™å›å¤å‘¢ï¼Œæˆ‘è¿™è¾¹ä¹Ÿä¼šå°½é‡æ—©ä¸€ç‚¹ç»™æ‚¨ç­”å¤

## é€‰æ‹©è´µå…¬å¸çš„åŸå›  / æ‹©ä¸šå…³æ³¨ç‚¹

1. **å¹³å°**ï¼šå¥½çš„å¹³å°ä¹Ÿä¼šæœ‰å¥½çš„æŠ€æœ¯æ°›å›´å’Œåä½œç¯å¢ƒï¼Œå¯ä»¥é¢å¯¹æ›´å¤šæœ‰æŒ‘æˆ˜æ€§çš„å·¥ä½œå†…å®¹ï¼Œè¿™æ ·ä¸ªäººæˆé•¿é€Ÿåº¦ä¼šæ›´å¿«ã€‚
2. **æ–¹å‘**ï¼šæˆ‘éå¸¸å…³æ³¨å…¬å¸åœ¨**AI é¢†åŸŸçš„çœ‹æ³•å’Œå¸ƒå±€**ï¼Œä¸ç®¡æ˜¯ AI èµ‹èƒ½å¼€å‘ææ•ˆï¼Œè¿˜æ˜¯åƒ MCP è¿™ç±» AI ç›¸å…³çš„ä¸šåŠ¡åœºæ™¯ã€‚æ¯•ç«Ÿ AI æ˜¯æœªæ¥çš„ä¸»èµ›é“ï¼Œå…¬å¸å’Œæˆ‘æˆ‘å¸Œæœ›å¯ä»¥ä¸€èµ·ç§¯ææ‹¥æŠ±AIã€‚
3. **æ½œåŠ›**ï¼šæˆ‘éå¸¸å…¬å¸çš„å‘å±•å‰æ™¯ï¼Œå¸Œæœ›èƒ½å’Œå…¬å¸é•¿æœŸç»‘å®šã€å…±åŒæˆé•¿ï¼Œåœ¨åŠ©åŠ›å…¬å¸å‘å±•çš„åŒæ—¶å®ç°è‡ªæˆ‘æå‡ã€‚

## æŸäº‹å¤±è´¥çš„åŸå› 

1. **å¤±è´¥åŸå› ï¼ˆç›´é¢çŸ­æ¿ï¼Œå¦è¯šä¸å›é¿ï¼‰**

   æ ¸å¿ƒæ˜¯**ç¼ºä¹å¤§å‹å¤æ‚é¡¹ç›®å®æˆ˜ç»éªŒ**ï¼Œè¿‡å¾€å…¬å¸ä¸šåŠ¡è§„æ¨¡æœ‰é™ï¼Œéƒ¨åˆ†å¤æ‚åœºæ™¯ï¼ˆå¦‚é«˜å¹¶å‘æ¶æ„ã€è·¨å›¢é˜Ÿåä½œæµç¨‹ï¼‰æœªæ¥è§¦è¿‡ï¼Œå±äºå®¢è§‚ç»å†ä¸Šçš„ä¸è¶³ï¼Œå¹¶éèƒ½åŠ›æ€åº¦é—®é¢˜ã€‚

2. **ä¼˜åŠ¿äº®ç‚¹ï¼ˆæœ‰æ®å¯ä¾ï¼Œé¢è¯•å®˜è®¤å¯ä½œè¯ï¼‰**

   éƒ¨åˆ†ä¸“ä¸šé—®é¢˜å›ç­”å¾—åˆ°é¢è¯•å®˜è‚¯å®šï¼Œä½“ç°å‡º**æ‰å®çš„åŸºç¡€æŠ€æœ¯åŠŸåº•**ï¼ˆå¦‚å‰ç«¯æ¡†æ¶åŸç†ã€Node.js å·¥ç¨‹åŒ–å®è·µï¼‰å’Œ**æ¸…æ™°çš„é—®é¢˜åˆ†ææ€è·¯**ï¼Œè¯æ˜åœ¨ç°æœ‰ç»éªŒèŒƒå›´å†…å…·å¤‡è¾ƒå¼ºçš„ä¸“ä¸šèƒ½åŠ›ã€‚

3. **æ”¹è¿›è¡ŒåŠ¨ï¼ˆè½åœ°è§„åˆ’ï¼Œé€æ¸è§£å†³ï¼‰**

   é’ˆå¯¹çŸ­æ¿åˆ¶å®šå…·ä½“æ–¹æ¡ˆï¼šå¯åŠ¨ **â€œå…¨æµç¨‹ç‹¬ç«‹åšäº§å“â€** è®¡åˆ’ï¼Œä»éœ€æ±‚è®¾è®¡ã€UI è§„åˆ’åˆ°ä»£ç å¼€å‘å…¨é“¾è·¯å®æ“ï¼Œä¸»åŠ¨åˆ›é€ å¤æ‚åœºæ™¯æ¥å¼¥è¡¥é¡¹ç›®ç»éªŒç¼ºå£ï¼Œæ‹’ç»ç©ºç­‰ï¼Œç”¨å®é™…è¡ŒåŠ¨ç§¯ç´¯ç»éªŒã€‚

4. **èƒœä»»åŠ›ä¿¡å¿ƒï¼ˆçŸ­æ¿ä¸å½±å“æ ¸å¿ƒå·¥ä½œï¼‰**

   æ˜ç¡®è¡¨æ€ï¼šå½“å‰çš„é¡¹ç›®ç»éªŒçŸ­æ¿ï¼Œ**ä¸å½±å“èƒœä»»ç›®æ ‡å²—ä½çš„æ ¸å¿ƒå·¥ä½œå†…å®¹**ã€‚è‡ªèº«çš„æŠ€æœ¯åŸºç¡€ã€å­¦ä¹ èƒ½åŠ›å’Œè§£å†³é—®é¢˜çš„æ€è·¯ï¼Œè¶³ä»¥æ”¯æ’‘å²—ä½æ—¥å¸¸éœ€æ±‚ï¼Œä¸”èƒ½é€šè¿‡å¿«é€Ÿå­¦ä¹ è¡¥é½å¤æ‚åœºæ™¯ç»éªŒã€‚

5. **æ²Ÿé€šè¯­æ°”ä¸ä¼˜åŠ¿å±•ç¤ºæŠ€å·§ï¼ˆè°¦é€Šä¸å‘å¾®ï¼Œè‡ªä¿¡ä¸å¼ æ‰¬ï¼‰**

   - è°ˆå¤±è´¥æ—¶ï¼šä¸æ‰¾å€Ÿå£ã€ä¸è´¬ä½è‡ªå·±ï¼Œå®¢è§‚é™ˆè¿°ç»å†å±€é™ï¼Œä¼ é€’ â€œè®¤çŸ¥æ¸…æ™°ã€æ•¢äºæ­£è§†ä¸è¶³â€ çš„æ€åº¦ï¼›
   - è°ˆä¼˜åŠ¿æ—¶ï¼šå€Ÿé¢è¯•å®˜çš„è‚¯å®šä¾§é¢å°è¯ï¼Œä¸è‡ªæˆ‘å¹å˜˜ï¼›
   - è°ˆè§„åˆ’æ—¶ï¼šçªå‡º â€œæ‰§è¡ŒåŠ›â€ å’Œ â€œä¸»åŠ¨æ€§â€ï¼ŒæŠŠ â€œè¡¥çŸ­æ¿â€ çš„è¿‡ç¨‹è½¬åŒ–ä¸ºå±•ç¤º**å­¦ä¹ èƒ½åŠ›ã€è‡ªé©±åŠ›**çš„æœºä¼šï¼Œè®©å¯¹æ–¹æ„Ÿå—åˆ° â€œæŒç»­æˆé•¿ã€ç§¯æè¿›å–â€ çš„çŠ¶æ€ã€‚



# å¾…å­¦ä¹ 

- [ ] whistleæŠ“åŒ…
- [ ] æµåª’ä½“å‹ç¼©ä¼˜åŒ–
- [ ] åŸ‹ç‚¹
- [ ] æ¸²æŸ“ç®¡çº¿
- [ ] æµè§ˆå™¨usbè°ƒè¯•
- [ ] åŒ…ä¸‹è½½
- [ ] æ•°æ®å®¹ç¾
- [ ] é”™è¯¯ä¸ŠæŠ¥
- [ ] bundle
- [ ] å®æ—¶æ¸²æŸ“mdé€»è¾‘
- [ ] ä¸åŒContent-Typeçš„åŒºåˆ«
- [ ] W3Cæ ‡å‡†
